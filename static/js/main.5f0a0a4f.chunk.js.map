{"version":3,"sources":["ui-utils/txs.ts","contexts/ClientContext.tsx","settings/backend.ts","settings/index.ts","ui-utils/states.ts","components/EndpointSelector.tsx","components/NodeInfoModal.tsx","components/FooterRow.tsx","ui-utils/clients.ts","components/Login.tsx","components/UserAddress.tsx","components/Header.tsx","ui-utils/index.ts","components/AccountLink.tsx","components/TransactionLink.tsx","pages/account/TransfersTable.tsx","pages/account/AccountPage.tsx","ui-utils/sdkhelpers.ts","pages/code/VerifyContract.tsx","pages/code/CodeInfo.tsx","components/ContractLink.tsx","pages/code/InstanceRow.tsx","pages/code/InstancesEmptyState.tsx","pages/code/CodePage.tsx","pages/codes/Code.tsx","pages/codes/Codes.tsx","pages/codes/CodesPage.tsx","components/CodeLink.tsx","ui-utils/jsonInput.ts","pages/contract/ExecuteContract.tsx","pages/contract/ExecutionsTable.tsx","pages/contract/HistoryInfo.tsx","pages/contract/InitializationInfo.tsx","pages/contract/QueryContract.tsx","pages/contract/ContractPage.tsx","pages/tx/ExecutionInfo.tsx","pages/tx/msgs/MsgExecuteContract.tsx","pages/tx/msgs/MsgInstantiateContract.tsx","pages/tx/msgs/MsgSend.tsx","pages/tx/msgs/magic.ts","pages/tx/msgs/MsgStoreCode.tsx","pages/tx/TxInfo.tsx","pages/tx/TxPage.tsx","components/FlexibleRouter.tsx","components/App.tsx","index.tsx"],"names":["msgStoreCodeTypeUrl","msgExecuteContractTypeUrl","isAnyMsgSend","msg","typeUrl","value","dummyContext","nodeUrl","client","typeRegistry","Registry","MsgStoreCode","MsgInstantiateContract","MsgExecuteContract","resetClient","setUserAddress","setSigningClient","ClientContext","React","createContext","devnetStargateSettings","nodeUrls","stargateEnabled","denominations","addressPrefix","gasPrice","GasPrice","fromString","knownBackends","coralnet","heldernet","devnetStargate","musselnet","lucinanet","settings","backend","id","process","Error","getCurrentBackend","deployment","routerType","runtimeCodes","isErrorState","state","isNonNullObject","type","isLoadingState","errorState","loadingState","EndpointSelector","urls","currentUrl","urlChanged","length","className","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","map","url","key","onClick","NodeInfoModal","htmlId","chainId","height","clientContext","useContext","tabIndex","role","aria-hidden","data-dismiss","aria-label","hrStyle","borderColor","whiteText","color","Separator","FooterRow","setChainId","useState","setHeight","updateHeight","useCallback","getHeight","then","catch","useEffect","getChainId","style","newUrl","data-target","href","isStargateClient","StargateClient","loadOrCreateMnemonic","mnemonic","loaded","localStorage","getItem","loadedMnemonic","Bip39","encode","Random","getBytes","toString","setItem","async","loadOrCreateWalletDirect","DirectSecp256k1HdWallet","fromMnemonic","prefix","getAddressAndStargateSigningClient","loadWallet","signer","getAccounts","address","endpoint","gasLimits","defaultStargateGasLimits","upload","init","exec","migrate","send","changeAdmin","StargateSigningClient","connectWithSigner","registry","createStargateSigningClient","Login","userAddress","setMnemonic","loading","setLoading","error","setError","logout","undefined","isUserLoggedIn","disabled","title","onChange","event","target","signingClient","message","loginStargate","UserAddress","Header","ellideMiddle","str","maxOutLen","frontLen","Math","ceil","tailLen","floor","slice","printableCoin","coin","denom","startsWith","ticker","toUpperCase","Decimal","fromAtomics","amount","printableBalance","balance","join","AccountLink","maxLength","to","TransactionLink","transactionId","TransfersTable","transfers","executions","scope","execution","index","fromAddress","toAddress","AccountPage","addressParam","useParams","setBalance","setTransfers","Promise","all","getBalance","balances","filteredBalances","filter","searchTx","sentFromOrTo","txs","out","reduce","tx","decodedTx","Tx","decode","body","messages","i","decodedMsg","hash","getTransferFromStargateMsgSend","stargateEffect","pageTitle","aria-current","makeTags","oneLiner","split","pair","indexOf","parts","VerifyContract","checksum","source","builder","verificationCmd","quote","CodeInfo","code","uploadTxHash","creator","ContractLink","InstanceRow","position","contract","executionCount","setExecutionCount","contractInfo","setContractInfo","tags","execTxs","getContract","label","admin","InstancesEmptyState","CodePage","codeId","codeIdParam","parseInt","details","setDetails","contracts","setContracts","setUploadTxHash","getContracts","getCodeDetails","results","first","find","round","data","Code","instantiationInfo","setInstantiationInfo","instantiations","codeKey","Codes","codes","setCodes","getCodes","codeInfos","processed","response","reverse","CodesPage","CodeLink","text","jsonInputStyle","container","display","flexDirection","order","warningBox","executePlaceholder","transfer","recipient","coinsPlaceholder","ExecuteContract","contractAddress","executing","setExecuting","memo","setMemo","msgObject","setMsgObject","coinsObject","setCoinsObject","executeResponse","setExecuteResponse","result","width","placeholder","confirmGood","jsObject","isStargateSigningClient","executeResponseResult","execute","JSON","stringify","ExecutionsTable","sender","HistoryInfo","contractCodeHistory","entry","operation","InitializationInfo","instantiationTxHash","queryPlaceholder","QueryContract","queryObject","setQueryObject","queryResponse","setQueryResponse","cursor","queryResponseResult","queryContractSmart","formattedResult","isStargateMsgExecuteContract","setContractCodeHistory","setExecutions","setInstantiationTxHash","getContractCodeHistory","console","getAndSetContractCodeHistory","getAndSetDetails","getAndSetInstantiationTxHash","getExecutionFromStargateMsgExecuteContract","ContractPage","contractAddressParam","ExecutionInfo","success","funds","toNumber","initMsg","MsgSend","arrayStartsWith","a","b","some","byte","arrayEqual","magic","gzip","fromHex","wasm","showAllCode","setShowAllCode","dataInfo","useMemo","wasmByteCode","Uint8Array","getFileType","ellideRight","toBase64","TxInfo","authInfo","fee","gasLimit","signatures","TxPage","txId","txIdParam","getTx","isAnyMsgStoreCode","isAnyMsgInstantiateContract","isAnyMsgExecuteContract","FlexibleRouter","children","basename","App","setNodeUrl","contextValue","setContextValue","connect","prevContextValue","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"2fAIO,MACMA,EAAsB,sCAEtBC,EAA4B,4CAsBlC,SAASC,EAAaC,GAC3B,MA1B4B,iCA0BrBA,EAAIC,WAAgCD,EAAIE,MCAjD,MAAMC,EAAmC,CACvCC,QAAS,GACTC,OAAQ,KACRC,aAAc,IAAIC,WAAS,CACzB,CAACV,EAAqBW,gBACtB,CD7ByC,gDC6BTC,0BAChC,CAACX,EAA2BY,wBAE9BC,YAAa,OACbC,eAAgB,OAChBC,iBAAkB,QAGPC,EAAgBC,IAAMC,cAAkCb,G,4BC/BrE,MAAMc,EAA0C,CAC9CC,SAAU,CAAC,0BACXC,iBAAiB,EACjBC,cAAe,CAAC,QAAS,UACzBC,cAAe,OACfC,SAAUC,WAASC,WAAW,cAmC1BC,EAA0D,CAC9DC,SAjCwC,CACxCR,SAAU,CAAC,qCACXC,iBAAiB,EACjBC,cAAe,CAAC,QAAS,UACzBC,cAAe,QACfC,SAAUC,WAASC,WAAW,cA6B9BG,UA1ByC,CACzCT,SAAU,CAAC,sCACXC,iBAAiB,EACjBC,cAAe,CAAC,QAAS,UACzBC,cAAe,SACfC,SAAUC,WAASC,WAAW,cAsB9BI,eAAgBX,EAChBY,UApByC,CACzCX,SAAU,CAAC,sCACXC,iBAAiB,EACjBC,cAAe,CAAC,QAAS,WACzBC,cAAe,OACfC,SAAUC,WAASC,WAAW,cAgB9BM,UAbyC,CACzCZ,SAAU,CAAC,kCACXC,iBAAiB,EACjBC,cAAe,CAAC,SAChBC,cAAe,OACfC,SAAUC,WAASC,WAAW,eClChC,MAYaO,EAAqB,CAChCC,QDgCK,WACL,MAAMC,EAAKC,YACLF,EAAUP,EAAcQ,GAC9B,IAAKD,EACH,MAAM,IAAIG,MAAO,sCAAqCF,MAExD,OAAOD,ECtCEI,GACTC,WAVkC,CAClCC,WAAY,gB,YClBd,MAAMC,EACG,6BADHA,EAEK,+BAWJ,SAASC,EAAaC,GAC3B,QAAKC,0BAAgBD,IACbA,EAAqBE,OAASJ,EAGjC,SAASK,EAAeH,GAC7B,QAAKC,0BAAgBD,IACbA,EAAuBE,OAASJ,EAGnC,MAAMM,EAAyB,CAAEF,KAAMJ,GACjCO,EAA6B,CAAEH,KAAMJ,GChB3C,SAASQ,GAAiB,KAAEC,EAAF,WAAQC,EAAR,WAAoBC,IACnD,OAAoB,IAAhBF,EAAKG,OACA,kBAAC,WAAD,KAAWF,GAGhB,kBAAC,WAAD,KACE,4BACEG,UAAU,2CACVT,KAAK,SACLV,GAAG,qBACHoB,cAAY,WACZC,gBAAc,OACdC,gBAAc,SAEbN,GAEH,yBAAKG,UAAU,gBAAgBI,kBAAgB,sBAC5CR,EAAKS,IAAKC,GACT,4BACEC,IAAKD,EACLN,UAAY,iBAAkBM,IAAQT,EAAa,UAAY,IAC/DN,KAAK,SACLiB,QAAS,IAAMV,EAAWQ,IAEzBA,MCvBR,SAASG,GAAc,OAAEC,EAAF,QAAUC,EAAV,OAAmBC,IAC/C,MAAMC,EAAgBlD,IAAMmD,WAAWpD,GAEvC,OACE,yBACEsC,UAAU,aACVnB,GAAI6B,EACJK,UAAW,EACXC,KAAK,SACLZ,kBAAgB,oBAChBa,cAAY,QAEZ,yBAAKjB,UAAU,eAAegB,KAAK,YACjC,yBAAKhB,UAAU,iBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,cAAcnB,GAAG,qBAA/B,aAGA,4BAAQU,KAAK,SAASS,UAAU,QAAQkB,eAAa,QAAQC,aAAW,SACtE,0BAAMF,cAAY,QAAlB,UAGJ,yBAAKjB,UAAU,cAAf,aACaa,EAAc7D,QACzB,6BAFF,aAGawC,EAAemB,GAAW,iBAAcvB,EAAauB,GAAW,QAAUA,EACrF,6BAJF,WAKWnB,EAAeoB,GAAU,iBAAcxB,EAAawB,GAAU,QAAUA,MC5B7F,MAAMQ,EAA+B,CACnCC,YAAa,4BAETC,EAAY,CAAEC,MAAO,WAE3B,SAASC,IACP,OAAO,kBAAC,WAAD,YAIF,SAASC,IACd,MAAM,OAAExE,EAAF,QAAUD,EAAV,YAAmBO,GAAgBI,IAAMmD,WAAWpD,IAEnDiD,EAASe,GAAc/D,IAAMgE,SAA6CjC,IAC1EkB,EAAQgB,GAAajE,IAAMgE,SAA6CjC,GAEzEmC,EAAelE,IAAMmE,YAAY,KAC/B,OAAN7E,QAAM,IAANA,KACI8E,YACDC,KAAKJ,GACLK,MAAM,IAAML,EAAUnC,KACxB,CAACxC,IAUJ,OARAU,IAAMuE,UAAU,KACR,OAANjF,QAAM,IAANA,KACIkF,aACDH,KAAKN,GACLO,MAAM,IAAMP,EAAWjC,IAC1BoC,KACC,CAAC5E,EAAQ4E,IAGV,yBAAK7B,UAAU,OACb,yBAAKA,UAAU,OACb,wBAAIoC,MAAOhB,IACX,kBAACX,EAAD,CAAeC,OAAO,gBAAgBC,QAASA,EAASC,OAAQA,IAChE,yBAAKwB,MAAOd,EAAWtB,UAAU,+CAAjC,WACW,IACT,kBAACL,EAAD,CACEE,WAAY7C,EACZ4C,KAAMjB,EAASC,QAAQd,SACvBgC,WAAauC,GAAW9E,EAAY8E,KACnC,IACH,4BACE9C,KAAK,SACLS,UAAU,2BACVC,cAAY,QACZqC,cAAY,iBACZ9B,QAASqB,GALX,aASA,kBAACL,EAAD,MACA,uBAAGe,KAAK,4CAA4CH,MAAOd,GAA3D,wB,oBC/CH,SAASkB,EAAiBvF,GAC/B,OAAOA,aAAkBwF,iBAapB,SAASC,EAAqBC,GACnC,MAAMpC,EAAM,gBACNqC,EAASC,aAAaC,QAAQvC,GACpC,GAAIqC,IAAWD,EACb,OAAOC,EAET,MAAMG,EAAiBJ,GAThBK,QAAMC,OAAOC,SAAOC,SAAS,KAAKC,WAWzC,OADAP,aAAaQ,QAAQ9C,EAAKwC,GACnBA,EAKFO,eAAeC,EACpBtF,EACA0E,GAEA,MAAMI,EAAiBL,EAAqBC,GAC5C,OAAOa,0BAAwBC,aAAaV,EAAgB,CAE1DW,OAAQzF,IA+BLqF,eAAeK,EACpBC,EACAjB,GAEA,MAAMkB,QAAeD,EAAWjF,EAASC,QAAQX,cAAe0E,GAGhE,MAAO,QAFoBkB,EAAOC,eAAe,GAAGC,cAhCtDT,eAA2CO,GACzC,MAAM,SAAE/F,EAAF,SAAYI,GAAaS,EAASC,QAClCoF,EAAWlG,EAAS,GAEpBZ,EAAe,IAAIC,WAAS,CAChC,CAACV,EAAqBW,gBACtB,CRtDyC,gDQsDTC,0BAChC,CAACX,EAA2BY,wBAGxB2G,EAAyC,IAC1CC,mBACHC,OAAQ,KACRC,KAAM,IACNC,KAAM,IACNC,QAAS,IACTC,KAAM,IACNC,YAAa,KAGf,OAAOC,wBAAsBC,kBAAkBV,EAAUH,EAAQ,CAC/Dc,SAAUzH,EACVgB,SAAUA,EACV+F,UAAWA,IAUeW,CAA4Bf,IC7EnD,SAASgB,IACd,MAAM,YAAEC,EAAF,eAAetH,EAAf,iBAA+BC,GAAqBE,IAAMmD,WAAWpD,IACpEiF,EAAUoC,GAAepH,IAAMgE,YAC/BqD,EAASC,GAActH,IAAMgE,UAAS,IACtCuD,EAAOC,GAAYxH,IAAMgE,WAiBhC,SAASyD,IACPD,OAASE,GACT7H,OAAe6H,GACfN,OAAYM,GACZ5H,OAAiB4H,GAmDnB,MAAMC,IAAmBR,EAEzB,OACE,yBAAK9E,UAAU,iDACZkF,EAAQ,yBAAKlF,UAAU,yCAAyCkF,GAAe,KAC/EI,EAXD,4BAAQtF,UAAU,kBAAkBQ,QAAS4E,GAA7C,UAzCKJ,EACL,4BAAQhF,UAAU,kBAAkBT,KAAK,SAASgG,UAAQ,GACxD,0BAAMvF,UAAU,wCAAwCgB,KAAK,SAASC,cAAY,SADpF,cAKA,oCACE,yBAAKjB,UAAU,6BACb,0BAAMwF,MAAM,8BAAZ,aACA,2BACExF,UAAU,mBACVlD,MAAO6F,EACP8C,SAAWC,GAAUX,EAAYW,EAAMC,OAAO7I,UAGlD,4BACEyC,KAAK,SACLS,UAAU,kCACVC,cAAY,WACZC,gBAAc,OACdC,gBAAc,SALhB,SASA,yBAAKH,UAAU,iBACb,wBAAIA,UAAU,mBAAd,QACA,4BACEA,UAAU,gBACVQ,QAAS,IAnDnB8C,eAA6BM,GAC3BqB,GAAW,GACXE,OAASE,GAET,IACE,MAAOP,EAAac,SAAuBjC,EAAmCC,EAAYjB,GAC1FnF,EAAesH,GACfrH,EAAiBmI,GACjB,MAAOV,GACPC,EAASD,EAAMW,SAGjBZ,GAAW,GAwCDa,CAAcvC,IAHlB,qBC7DH,SAASwC,IACd,MAAM,YAAEjB,GAAgBnH,IAAMmD,WAAWpD,GAEzC,OAAOoH,EACL,yBAAK9E,UAAU,6BACb,8CACA,8BAAO8E,IAGT,qCCRG,SAASkB,IACd,OACE,4BAAQhG,UAAU,uFAChB,kBAAC+F,EAAD,MACA,kBAAClB,EAAD,O,WCJC,SAASoB,EAAaC,EAAaC,GACxC,IAAKD,GAAO,IAAInG,QAAUoG,EACxB,OAAOD,EAET,MACME,EAAWC,KAAKC,MAAMH,EADb,SACgCpG,QAAU,GACnDwG,EAAUF,KAAKG,OAAOL,EAFb,SAEgCpG,QAAU,GACzD,OAAOmG,EAAIO,MAAM,EAAGL,GAHL,SAG0BF,EAAIO,MAAMP,EAAInG,OAASwG,EAASL,EAAInG,QAe/E,SAAS2G,EAAcC,GAAsB,IAAD,EAC1C,aAAIA,EAAKC,aAAT,aAAI,EAAYC,WAAW,KAAM,CAAC,IAAD,EAC/B,MAAMC,EAASH,EAAKC,MAAMH,MAAM,GAAGM,cACnC,OAAOC,UAAQC,YAAR,UAAoBN,EAAKO,cAAzB,QAAmC,IAAK,GAAG9D,WALpC,SAK6D0D,EAE3E,OAAOH,EAAKO,OAPE,SAOmBP,EAAKC,MAInC,SAASO,EAAiBC,GAC/B,OAAuB,IAAnBA,EAAQrH,OAAqB,SAC1BqH,EAAQ/G,IAAIqG,GAAeW,KAAK,MC5BlC,SAASC,GAAY,QAAEvD,EAAF,UAAWwD,EAAY,KACjD,OACE,kBAAC,IAAD,CAAMC,GAAK,aAAYzD,EAAWyB,MAAOzB,GACtCkC,EAAalC,EAASwD,GAAa,QCHnC,SAASE,GAAgB,cAAEC,EAAF,UAAiBH,EAAY,KAC3D,OACE,kBAAC,IAAD,CAAMC,GAAK,iBAAgBE,EAAiBlC,MAAOkC,GAChDzB,EAAayB,EAAeH,GAAa,QCKzC,SAASI,GAAiBC,UAAWC,IAC1C,OACE,2BAAO7H,UAAU,SACf,+BACE,4BACE,wBAAI8H,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,UACA,wBAAIA,MAAM,OAAV,kBACA,wBAAIA,MAAM,OAAV,UACA,wBAAIA,MAAM,OAAV,aACA,wBAAIA,MAAM,OAAV,YAGJ,+BACGD,EAAWxH,IAAI,CAAC0H,EAAWC,IAC1B,wBAAIzH,IAAKwH,EAAUxH,KACjB,wBAAIuH,MAAM,OAAOE,EAAQ,GACzB,4BAAKD,EAAUnH,QACf,4BACE,kBAAC6G,EAAD,CAAiBC,cAAeK,EAAUL,iBAE5C,4BACE,kBAACJ,EAAD,CAAavD,QAASgE,EAAUnL,IAAIqL,eAEtC,4BACE,kBAACX,EAAD,CAAavD,QAASgE,EAAUnL,IAAIsL,aAEtC,4BAAKf,EAAiBY,EAAUnL,IAAIsK,aCqBzC,SAASiB,IACd,MAAM,OAAElL,EAAF,aAAUC,GAAiBS,IAAMmD,WAAWpD,IAC1CqG,QAASqE,GAAiBC,cAC5BtE,EAAUqE,GAAgB,IAEzBhB,EAASkB,GAAc3K,IAAMgE,SAAuDjC,IACpFkI,EAAWW,GAAgB5K,IAAMgE,SACtCjC,GAGF/B,IAAMuE,UACJM,EAAiBvF,GAvCE,EACrBA,EACA8G,EACA7G,EACAoL,EACAC,IACG,KACHC,QAAQC,IAAI9J,EAASC,QAAQZ,cAAcqC,IAAKuG,GAAU3J,EAAOyL,WAAW3E,EAAS6C,KAClF5E,KAAM2G,IACL,MAAMC,EAAmBD,EAASE,OAAQzB,GAAyC,OAAZA,GACvEkB,EAAWM,KAEZ3G,MAAM,IAAMqG,EAAW7I,IAC1BxC,EACG6L,SAAS,CAAEC,aAAchF,IACzB/B,KAAMgH,IACL,MAAMC,EAAMD,EAAIE,OAAO,CAACtB,EAAgCuB,KAAwC,IAAD,IAC7F,MAAMC,EAAYC,KAAGC,OAAOH,EAAGA,IAI/B,MAAO,IAAIvB,MAHS,iBAACwB,QAAD,IAACA,GAAD,UAACA,EAAWG,YAAZ,aAAC,EAAiBC,gBAAlB,QAA8B,IAC/CX,OAAOlM,GACP0D,IAhCX,SAAwCnD,EAAwBiM,GAC9D,MAAO,CAACvM,EAAiB6M,KACvB,MAAMC,EAAaxM,EAAaoM,OAAO,CAAEzM,QAASD,EAAIC,QAASC,MAAOF,EAAIE,QAC1E,MAAO,CACLyD,IAAM,GAAE4I,EAAGQ,QAAQF,IACnB7I,OAAQuI,EAAGvI,OACX8G,cAAeyB,EAAGQ,KAClB/M,IAAK8M,IAyBIE,CAA+B1M,EAAciM,MAEnD,IACHZ,EAAaU,KAEdhH,MAAM,IAAMsG,EAAa9I,KAetBoK,CAAe5M,EAAQ8G,EAAS7G,EAAcoL,EAAYC,GAC1D,OACJ,CAACxE,EAAS9G,EAAQC,IAGpB,MAAM4M,EAAY,0BAAMtE,MAAOzB,GAAb,WAA+BkC,EAAalC,EAAS,KAEvE,OACE,yBAAK/D,UAAU,QACb,kBAACgG,EAAD,MACA,yBAAKhG,UAAU,qCACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,OACb,yBAAKmB,aAAW,cACd,wBAAInB,UAAU,cACZ,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAMwH,GAAG,KAAT,SAEF,wBAAIxH,UAAU,yBAAyB+J,eAAa,QACjDD,OAOX,yBAAK9J,UAAU,iBACb,yBAAKA,UAAU,OACb,4BAAK8J,GACL,wBAAI9J,UAAU,yCACZ,wBAAIA,UAAU,kBAAkBwF,MAAM,sCAAtC,WACW,IACRhG,EAAe4H,GACZ,iBACAhI,EAAagI,GACb,QACAD,EAAiBC,OAM7B,yBAAKpH,UAAU,gCACb,yBAAKA,UAAU,OACb,+CACA,yEACCR,EAAeoI,GACd,6CACExI,EAAawI,GACf,oCACuB,IAArBA,EAAU7H,OACZ,gDAEA,kBAAC4H,EAAD,CAAgBC,UAAWA,MAKjC,kBAACnG,EAAD,Q,OCnID,SAASuI,EAASC,GACvB,OAAOA,EAASC,MAAM,KAAK7J,IAAK8J,IAC9B,IAA2B,IAAvBA,EAAKC,QAAQ,KAAa,MAAM,IAAIrL,MAAM,qCAC9C,MAAMsL,EAAQF,EAAKD,MAAM,KACzB,GAAIG,EAAMtK,OAAS,EACjB,MAAM,IAAIhB,MACR,gGAGJ,MAAOwB,EAAKzD,GAASuN,EACrB,IAAK9J,EAAK,MAAM,IAAIxB,MAAM,wCAC1B,MAAO,CAAEwB,MAAKzD,W,aCOHwN,MAdf,UAAwB,SAAEC,EAAF,OAAYC,EAAZ,QAAoBC,IAC1C,IAAKD,IAAWC,EACd,OACE,mEACoC,yCADpC,OAC4D,wCAD5D,eAMJ,MAAMC,EAAkBC,gBAAM,CAAC,kBAAmBH,EAAQC,EAASF,IAEnE,OAAO,8BAAOG,ICPT,SAASE,IAAS,KAAEC,EAAF,aAAQC,IAC/B,OACE,yBAAK9K,UAAU,aACb,wBAAIA,UAAU,+BACZ,wBAAIA,UAAU,mBAAd,sBACsB,IACnBR,EAAesL,GACd,iBACE1L,EAAa0L,GACf,aACmBzF,IAAjByF,EACF,SAEA,kBAACrD,EAAD,CAAiBC,cAAeoD,KAGpC,wBAAI9K,UAAU,mBAAd,YACW,kBAACsH,EAAD,CAAavD,QAAS8G,EAAKE,QAASxD,UAAW,QAE1D,wBAAIvH,UAAU,mBAAd,aAA2C6K,EAAKN,UAChD,wBAAIvK,UAAU,mBAAd,WAAyC6K,EAAKL,QAAU,UACxD,wBAAIxK,UAAU,mBAAd,YAA0C6K,EAAKJ,SAAW,UAC1D,wBAAIzK,UAAU,mBACZ,uBAAGA,UAAU,cAAb,oGACoG,IAClG,uBAAGuC,KAAK,8CAA8CvC,UAAU,cAAhE,kBAIF,uBAAGA,UAAU,QACX,kBAAC,EAAD,CAAgBuK,SAAUM,EAAKN,SAAUC,OAAQK,EAAKL,OAAQC,QAASI,EAAKJ,cCjCjF,SAASO,IAAa,QAAEjH,EAAF,UAAWwD,EAAY,KAClD,OACE,kBAAC,IAAD,CAAMC,GAAK,cAAazD,EAAWyB,MAAOzB,GACvCkC,EAAalC,EAASwD,GAAa,QC8D3B0D,OAvDf,UAAqB,SAAEC,EAAF,SAAYC,IAC/B,MAAM,OAAElO,GAAWU,IAAMmD,WAAWpD,IAC7B0N,EAAgBC,GAAqB1N,IAAMgE,SAChDjC,IAEK4L,EAAcC,GAAmB5N,IAAMgE,SAC5CjC,GAuBF,OApBA/B,IAAMuE,UAAU,KACd,MAAMsJ,EAAO,CACX,CACEjL,IAAK,2BACLzD,MAAOqO,GAET,CACE5K,IAAK,iBACLzD,MAAO,aAGX,OAACG,QAAD,IAACA,OAAD,EAACA,EAAQ6L,SAAS,CAAE0C,KAAMA,KACvBxJ,KAAMyJ,GAAYJ,EAAkBI,EAAQ1L,SAC5CkC,MAAM,IAAMoJ,EAAkB5L,KAEjC,OAACxC,QAAD,IAACA,OAAD,EAACA,EAAQyO,YAAYP,IAChBnJ,KAAMyJ,GAAYF,EAAgBE,IAClCxJ,MAAM,IAAMsJ,EAAgB9L,KAChC,CAACxC,EAAQkO,IAEL3L,EAAe8L,GACjB,4BAAI,4CACLlM,EAAakM,GACZ,4BAAI,0CAEP,4BACE,wBAAIxD,MAAM,OAAOoD,GACjB,4BAAKI,EAAaK,OAClB,4BACA,kBAACX,GAAD,CAAcjH,QAASuH,EAAavH,WAEpC,4BACE,kBAACuD,EAAD,CAAavD,QAASuH,EAAaP,WAErC,4BAAKO,EAAaM,MAAQ,kBAACtE,EAAD,CAAavD,QAASuH,EAAaM,QAAY,UACzE,4BACGpM,EAAe4L,GACZ,iBACAhM,EAAagM,GACb,QACAA,KCnEL,SAASS,KACd,OAAO,2DCoBF,SAASC,KACd,MAAM,OAAE7O,GAAWU,IAAMmD,WAAWpD,IAC5BqO,OAAQC,GAAgB3D,cAC1B0D,EAASE,SAASD,GAAe,IAAK,KAErCE,EAASC,GAAcxO,IAAMgE,SAAkDjC,IAC/E0M,EAAWC,GAAgB1O,IAAMgE,SACtCjC,IAEKoL,EAAcwB,GAAmB3O,IAAMgE,SAC5CjC,GAGF/B,IAAMuE,UAAU,KAAO,IAAD,EACd,OAANjF,QAAM,IAANA,KACIsP,aAAaR,GACd/J,KAAKqK,GACLpK,MAAM,IAAMoK,EAAa5M,IACtB,OAANxC,QAAM,IAANA,KACIuP,eAAeT,GAChB/J,KAAKmK,GACLlK,MAAM,IAAMkK,EAAW1M,IAC1B,QAAC,EAAD,OAACxC,QAAD,IAACA,OAAD,EAACA,EAAQ6L,SAAS,CAChB0C,KAAMxB,EAAU,iEAAgE+B,YADlF,SAE0D/J,KAAMyK,IAC9D,MAAMC,EAAQD,EAAQE,KAAK,KAAM,GACjCL,EAAe,OAACI,QAAD,IAACA,OAAD,EAACA,EAAO/C,SAExB,CAAC1M,EAAQ8O,IAEZ,MAAMjC,EAAY,uCAAaiC,GAE/B,OACE,yBAAK/L,UAAU,QACb,kBAACgG,EAAD,MACA,yBAAKhG,UAAU,kBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,OACb,yBAAKmB,aAAW,cACd,wBAAInB,UAAU,cACZ,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAMwH,GAAG,UAAT,UAEF,wBAAIxH,UAAU,yBAAyB+J,eAAa,QACjDD,OAMX,yBAAK9J,UAAU,iBACb,yBAAKA,UAAU,OACb,4BAAK8J,GACL,wBAAI9J,UAAU,yCACZ,wBAAIA,UAAU,mBAAd,cACA,wBAAIA,UAAU,mBAAd,QACQ,IACLR,EAAe0M,GACZ,iBACA9M,EAAa8M,GACb,QACA7F,KAAKuG,MAAMV,EAAQW,KAAK9M,OAAS,MAAQ,UAInD,yBAAKC,UAAU,OACZR,EAAe0M,GACd,gDACE9M,EAAa8M,GACf,uCAEA,kBAACtB,GAAD,CAAUC,KAAMqB,EAASpB,aAAcA,MAI7C,yBAAK9K,UAAU,gCACb,yBAAKA,UAAU,OACb,yCACCR,EAAe4M,GACd,6CACEhN,EAAagN,GACf,sDACuB,IAArBA,EAAUrM,OACZ,kBAAC8L,GAAD,MAEA,2BAAO7L,UAAU,SACf,+BACE,4BACE,wBAAI8H,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,SACA,wBAAIA,MAAM,OAAV,YACA,wBAAIA,MAAM,OAAV,WACA,wBAAIA,MAAM,OAAV,SACA,wBAAIA,MAAM,OAAV,gBAGJ,+BACGsE,EAAU/L,IAAI,CAAC8K,EAAUnD,IACxB,kBAAC,GAAD,CAAakD,SAAUlD,EAAQ,EAAGmD,SAAUA,EAAU5K,IAAK4K,SAOvE,kBAAC1J,EAAD,Q,cC9FD,SAASqL,IAAK,KAAED,EAAF,MAAQ7E,IAC3B,MAAM,OAAE/K,GAAWU,IAAMmD,WAAWpD,IAC7BqP,EAAmBC,GAAwBrP,IAAMgE,SAEtDjC,GAeF,OAbA/B,IAAMuE,UAAU,KACR,OAANjF,QAAM,IAANA,KACIsP,aAAaM,EAAKd,QACnB/J,KAAMoK,IACLY,EAAqB,CACnBC,eAAgBb,EAAUrM,WAG7BkC,MAAM,IAAM+K,EAAqBvN,KAGnC,CAACoN,EAAKd,SAGP,yBAAK/L,UAAW,6BAA+BgI,EAAQ,EAAI,WAAa,aACtE,kBAAC,IAAD,CAAMR,GAAK,UAASqF,EAAKd,OAAU/L,UAAU,gBAC3C,yBAAKA,UAAU,MAAf,IAAsB6M,EAAKd,QAC3B,yBAAK/L,UAAU,WAAf,YACYiG,EAAa4G,EAAK9B,QAAS,IACrC,6BAFF,WAGW9E,EAAa4G,EAAKrC,OAAQ,KAAO,SAC1C,6BAJF,YAKYqC,EAAKpC,SAAW,SAC1B,6BANF,aAOaoC,EAAKtC,SAAS9D,MAAM,EAAG,IAClC,6BARF,aASa,IACVjH,EAAeuN,GACZ,iBACA3N,EAAa2N,GACb,QACAA,EAAkBE,kBCnDhC,SAASC,GAAQrC,GACf,MAAQ,GAAEA,EAAKL,WAAWK,EAAKgC,KAAKd,SAG/B,SAASoB,KACd,MAAM,OAAElQ,EAAF,QAAUD,GAAYW,IAAMmD,WAAWpD,IACtC0P,EAAOC,GAAY1P,IAAMgE,SAA4DjC,GA0B5F,OAxBA/B,IAAMuE,UAAU,KACR,OAANjF,QAAM,IAANA,KACIqQ,WACDtL,KAAMuL,IACL,MAAMC,EAAYD,EACflN,IACEoN,IAAD,CACEjD,OAAQxN,EACR6P,KAAM,CACJd,OAAQ0B,EAAS5O,GACjB0L,SAAUkD,EAASlD,SACnBQ,QAAS0C,EAAS1C,QAClBP,OAAQiD,EAASjD,QAAU,GAC3BC,QAASgD,EAAShD,SAAW,OAIlCiD,UACHL,EAASG,KAEVvL,MAAM,IAAMoL,EAAS5N,KACvB,CAACxC,EAAQD,IAIV,yBAAKgD,UAAU,uBACZR,EAAe4N,GACd,6CACEhO,EAAagO,GACf,kDACmB,IAAjBA,EAAMrN,OACR,mDAEAqN,EAAM/M,IAAI,CAACwK,EAAM7C,IAAU,kBAAC,GAAD,CAAM6E,KAAMhC,EAAKgC,KAAM7E,MAAOA,EAAOzH,IAAK2M,GAAQrC,OCvD9E,SAAS8C,KACd,OACE,yBAAK3N,UAAU,QACb,kBAACgG,EAAD,MACA,yBAAKhG,UAAU,kBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,OACb,yBAAKmB,aAAW,cACd,wBAAInB,UAAU,cACZ,wBAAIA,UAAU,yBAAyB+J,eAAa,QAApD,aAOR,yBAAK/J,UAAU,gCACb,yBAAKA,UAAU,OACb,kBAAC,GAAD,QAGJ,kBAACyB,EAAD,Q,OCnBD,SAASmM,IAAS,OAAE7B,EAAF,KAAU8B,IACjC,OAAO,kBAAC,IAAD,CAAMrG,GAAK,UAASuE,GAAW8B,GAAS,SAAQ9B,G,aCRlD,MAAM+B,GAAiB,CAC5BC,UAAW,CAAEC,QAAS,OAAQC,cAAe,UAC7C1E,KAAM,CAAE2E,MAAO,KACfC,WAAY,CAAED,MAAO,MCOjBE,GAAqB,CACzBC,SAAU,CAAEC,UAAW,8CAA+CpH,OAAQ,MAG1EqH,GAAmB,CAAC,CAAE3H,MAAOjI,EAASC,QAAQZ,cAAc,GAAIkJ,OAAQ,MAMvE,SAASsH,IAAgB,gBAAEC,IAChC,MAAM,YAAE3J,EAAF,cAAec,GAAkBjI,IAAMmD,WAAWpD,IAEjDgR,EAAWC,GAAgBhR,IAAMgE,UAAS,IAC1CuD,EAAOC,GAAYxH,IAAMgE,YAEzBiN,EAAMC,GAAWlR,IAAMgE,YAEvBmN,EAAWC,GAAgBpR,IAAMgE,YACjCqN,EAAaC,GAAkBtR,IAAMgE,YAErCuN,EAAiBC,GAAsBxR,IAAMgE,WAiDpD,OA/CAhE,IAAMuE,UAAU,KACd6M,EAAa,CAAEK,OAAQhB,KACvBa,EAAe,CAAEG,OAAQb,MACxB,IAEH5Q,IAAMuE,UAAU,MACd,OAAI4M,QAAJ,IAAIA,OAAJ,EAAIA,EAAW5J,OACbC,EAAS2J,EAAU5J,QAIrB,OAAIgK,QAAJ,IAAIA,OAAJ,EAAIA,EAAiBhK,OACnBC,EAAS+J,EAAgBhK,QAI3B,OAAI8J,QAAJ,IAAIA,OAAJ,EAAIA,EAAa9J,OACfC,EAAS6J,EAAY9J,OAIvBC,OAASE,IACR,CAAC2J,EAAaE,EAAiBJ,IA0BhC,yBAAK9O,UAAU,aACb,wBAAIA,UAAU,+BACZ,wBAAIA,UAAU,+CACZ,0BAAMwF,MAAM,4BAAZ,sBAEF,wBAAIxF,UAAU,+CACZ,kBAAC,KAAD,CACEqP,MAAM,OACNzO,OAAO,QACP0O,YAAalB,GACbmB,aAAa,EACbnN,MAAO0L,GACPrI,SAAU,EAAG+J,cAAoBT,EAAa,CAAEK,OAAQI,OAG5D,wBAAIxP,UAAU,+CACZ,0BAAMwF,MAAM,4BAAZ,uBAEF,wBAAIxF,UAAU,+CACZ,kBAAC,KAAD,CACEqP,MAAM,OACNzO,OAAO,QACP0O,YAAaf,GACbgB,aAAa,EACbnN,MAAO0L,GACPrI,SAAU,EAAG+J,cAAoBP,EAAe,CAAEG,OAAQI,OAG9D,wBAAIxP,UAAU,+CACZ,0BAAMwF,MAAM,4BAAZ,SACA,2BACExF,UAAU,mBACVlD,MAAO8R,EACPnJ,SAAWC,GAAUmJ,EAAQnJ,EAAMC,OAAO7I,UAG9C,yBAAKkD,UAAU,6BACZ0O,EACC,4BAAQ1O,UAAU,kBAAkBT,KAAK,SAASgG,UAAQ,GACxD,0BAAMvF,UAAU,wCAAwCgB,KAAK,SAASC,cAAY,SADpF,gBAKA,4BACEjB,UAAU,kBACVQ,QArEZ8C,iBACE,IAAI,OAACwL,QAAD,IAACA,OAAD,EAACA,EAAWM,SAAWtK,GAAgBc,EAA3C,CAEA+I,GAAa,GAEb,IACE,GrB5CC,SACL/I,GAEA,OAAOA,aAAyBnB,wBqByCxBgL,CAAwB7J,GAAgB,CAC1C,MAAM8J,QAA6C9J,EAAc+J,QAC/D7K,EACA2J,EACAK,EAAUM,OACVR,EAJiD,OAKjDI,QALiD,IAKjDA,OALiD,EAKjDA,EAAaI,QAEfD,EAAmB,CAAEC,OAAQM,KAE/B,MAAOxK,GACPiK,EAAmB,CAAEjK,MAAQ,kBAAiBA,EAAMW,UAGtD8I,GAAa,KAkDHpJ,WAAU,OAACuJ,QAAD,IAACA,OAAD,EAACA,EAAWM,UAAWxJ,GAHnC,sBASY,OAAfsJ,QAAe,IAAfA,OAAA,EAAAA,EAAiBE,QAChB,wBAAIpP,UAAU,mBACZ,0BAAMwF,MAAM,gCAAZ,aACA,yBAAKxF,UAAU,QAAQ4P,KAAKC,UAAUX,EAAgBE,YAAQ/J,EAAW,QAEzE,KACHH,EACC,wBAAIlF,UAAU,mBACZ,0BAAMA,UAAU,cAAcwF,MAAM,4BACjCN,IAGH,OCjIL,SAAS4K,IAAgB,WAAEjI,IAChC,OACE,2BAAO7H,UAAU,SACf,+BACE,4BACE,wBAAI8H,MAAM,OAAV,KACA,wBAAIA,MAAM,OAAV,UACA,wBAAIA,MAAM,OAAV,kBACA,wBAAIA,MAAM,OAAV,YAGJ,+BACGD,EAAWxH,IAAI,CAAC0H,EAAWC,IAC1B,wBAAIzH,IAAKwH,EAAUxH,KACjB,wBAAIuH,MAAM,OAAOE,EAAQ,GACzB,4BAAKD,EAAUnH,QACf,4BACE,kBAAC6G,EAAD,CAAiBC,cAAeK,EAAUL,iBAE5C,4BACE,kBAACJ,EAAD,CAAavD,QAASgE,EAAUnL,IAAImT,cC5B3C,SAASC,IAAY,oBAAEC,IAC5B,OACE,yBAAKjQ,UAAU,aACb,wBAAIA,UAAU,+BACZ,wBAAIA,UAAU,mBACZ,0BAAMwF,MAAM,sCAAZ,YAEDyK,EAAoB5P,IAAI,CAAC6P,EAAOlI,IAC/B,wBAAIzH,IAAKyH,EAAOhI,UAAU,mBACxB,0BAAMwF,MAAM,8BACT0K,EAAMC,UADT,MACsB,kBAACvC,GAAD,CAAU7B,OAAQmE,EAAMnE,UAE9C,yBAAK/L,UAAU,QAAQ4P,KAAKC,UAAUK,EAAMtT,IAAK,KAAM,WCT5D,SAASwT,IAAmB,SAAEjF,EAAF,oBAAYkF,IAC7C,OACE,yBAAKrQ,UAAU,aACb,wBAAIA,UAAU,+BACZ,wBAAIA,UAAU,mBAAd,6BAC6B,IAC1BR,EAAe6Q,GACd,iBACEjR,EAAaiR,GACf,aAC0BhL,IAAxBgL,EACF,SAEA,kBAAC5I,EAAD,CAAiBC,cAAe2I,KAGpC,wBAAIrQ,UAAU,mBAAd,YACW,kBAACsH,EAAD,CAAavD,QAASoH,EAASJ,QAASxD,UAAW,QAE9D,wBAAIvH,UAAU,mBAAd,UACUmL,EAASS,MAAQ,kBAACtE,EAAD,CAAavD,QAASoH,EAASS,MAAOrE,UAAW,OAAW,YCxB/F,MAAM+I,GAAmB,CAAElJ,QAAS,CAAErD,QAAS,gDAMxC,SAASwM,IAAc,gBAAE9B,IAC9B,MAAM,OAAExR,GAAWU,IAAMmD,WAAWpD,IAE7BwH,EAAOC,GAAYxH,IAAMgE,YACzB6O,EAAaC,GAAkB9S,IAAMgE,YACrC+O,EAAeC,GAAoBhT,IAAMgE,WAoChD,OAlCAhE,IAAMuE,UAAU,KACduO,EAAe,CAAErB,OAAQkB,MACxB,IAEH3S,IAAMuE,UAAU,MACd,OAAIsO,QAAJ,IAAIA,OAAJ,EAAIA,EAAatL,OACfC,EAASqL,EAAYtL,QAIvB,OAAIwL,QAAJ,IAAIA,OAAJ,EAAIA,EAAexL,OACjBC,EAASuL,EAAcxL,OAIzBC,OAASE,IACR,CAACmL,EAAaE,IAmBf,yBAAK1Q,UAAU,aACb,wBAAIA,UAAU,+BACZ,wBAAIA,UAAU,+CACZ,0BAAMwF,MAAM,4BAAZ,oBAEF,wBAAIxF,UAAU,+CACZ,kBAAC,KAAD,CACEqP,MAAM,OACNzO,OAAO,QACP0O,YAAagB,GACbf,aAAa,EACbnN,MAAO0L,GACPrI,SAAU,EAAG+J,cAAoBiB,EAAe,CAAErB,OAAQI,OAG9D,wBAAIxP,UAAU,mBACZ,4BACEA,UAAU,kBACVoC,MAAO,CAAEwO,OAAQ3T,IAAM,OAAIuT,QAAJ,IAAIA,OAAJ,EAAIA,EAAapB,QAAS,UAAY,eAC7D5O,QApCV8C,iBACE,GAAKrG,IAAU,OAACuT,QAAD,IAACA,OAAD,EAACA,EAAapB,QAE7B,IACE,MAAMyB,QAAiD5T,EAAO6T,mBAC5DrC,EACA+B,EAAYpB,QAGR2B,EAAkBnB,KAAKC,UAAUgB,EAAqB,KAAM,MAClEF,EAAiB,CAAEvB,OAAQ2B,IAC3B,MAAO7L,GACPyL,EAAiB,CAAEzL,MAAQ,gBAAeA,EAAMW,YAyB1CN,WAAU,OAACiL,QAAD,IAACA,OAAD,EAACA,EAAapB,SAJ1B,eASY,OAAbsB,QAAa,IAAbA,OAAA,EAAAA,EAAetB,QACd,wBAAIpP,UAAU,mBACZ,0BAAMwF,MAAM,sBAAZ,aACA,yBAAKxF,UAAU,QAAQ0Q,EAActB,SAErC,KACHlK,EACC,wBAAIlF,UAAU,mBACZ,0BAAMA,UAAU,cAAcwF,MAAM,4BACjCN,IAGH,OC9CZ,SAAS8L,GAA6BpU,GACpC,MAAuB,8CAAhBA,EAAIC,WAA6DD,EAAIE,MAwD9E,MAAM+M,GAAiB,CACrB5M,EACAwR,EACAvR,EACAoL,EACA2I,EACA9E,EACA+E,EACAC,IACG,KAnDgC,EACnClU,EACAwR,EACAwC,KAEAhU,EACGmU,uBAAuB3C,GACvBzM,KAAKiP,GACLhP,MAAOiD,IACNmM,QAAQnM,MAAMA,MA2ClBoM,CAA6BrU,EAAQwR,EAAiBwC,GA/D/B,EACvBhU,EACAwR,EACAtC,KAEAlP,EACGyO,YAAY+C,GACZzM,KAAKmK,GACLlK,MAAM,IAAMkK,EAAW1M,KAwD1B8R,CAAiBtU,EAAQwR,EAAiBtC,GAxCP,EACnClP,EACAwR,EACA0C,KAEClU,EAAO6L,SAAS,CACf0C,KAAMxB,EACH,2EAA0EyE,KAG5EzM,KAAMyK,IACL,MAAMC,EAAQD,EAAQE,KAAK,KAAM,GACjCwE,EAAsB,OAACzE,QAAD,IAACA,OAAD,EAACA,EAAO/C,QAE/B1H,MAAM,IAAMkP,EAAuB1R,KA2BtC+R,CAA6BvU,EAAQwR,EAAiB0C,GAEtD3I,QAAQC,IAAI9J,EAASC,QAAQZ,cAAcqC,IAAKuG,GAAU3J,EAAOyL,WAAW+F,EAAiB7H,KAC1F5E,KAAM2G,IACL,MAAMC,EAAmBD,EAASE,OAAQzB,GAAyC,OAAZA,GACvEkB,EAAWM,KAEZ3G,MAAM,IAAMqG,EAAW7I,IAE1BxC,EACG6L,SAAS,CACR0C,KAAMxB,EAAU,4BAA2ByE,8BAE5CzM,KAAMgH,IACL,MAAMC,EAAMD,EAAIE,OAAO,CAACrB,EAAkCsB,KAAyC,IAAD,IAChG,MAAMC,EAAYC,KAAGC,OAAOH,EAAGA,IAI/B,MAAO,IAAItB,MAHU,iBAACuB,QAAD,IAACA,GAAD,UAACA,EAAWG,YAAZ,aAAC,EAAiBC,gBAAlB,QAA8B,IAChDX,OAAOmI,IACP3Q,IA1CX,SAAoDnD,EAAwBiM,GAC1E,MAAO,CAACvM,EAA6B6M,KACnC,MAAMC,EAAaxM,EAAaoM,OAAO,CAAEzM,QAASD,EAAIC,QAASC,MAAOF,EAAIE,QAC1E,MAAO,CACLyD,IAAM,GAAE4I,EAAGQ,QAAQF,IACnB7I,OAAQuI,EAAGvI,OACX8G,cAAeyB,EAAGQ,KAClB/M,IAAK8M,IAmCI+H,CAA2CvU,EAAciM,MAE/D,IACH+H,EAAcjI,KAEfhH,MAAM,IAAMiP,EAAczR,KAGxB,SAASiS,KACd,MAAM,OAAEzU,EAAF,aAAUC,GAAiBS,IAAMmD,WAAWpD,IAC1C+Q,gBAAiBkD,GAAyBtJ,cAC5CoG,EAAkBkD,GAAwB,IAEzCzF,EAASC,GAAcxO,IAAMgE,SAA+CjC,IAC5E0H,EAASkB,GAAc3K,IAAMgE,SAAuDjC,IACpF2Q,EAAqBc,GAA0BxT,IAAMgE,SAE1DjC,IACKuQ,EAAqBgB,GAA0BtT,IAAMgE,SAC1D,KAEKkG,EAAYqJ,GAAiBvT,IAAMgE,SACxCjC,GAGF/B,IAAMuE,UACJM,EAAiBvF,GACb4M,GACE5M,EACAwR,EACAvR,EACAoL,EACA2I,EACA9E,EACA+E,EACAC,GAEF,OACJ,CAAClU,EAAQwR,EAAiBvR,IAG5B,MAAM4M,EAAY,0BAAMtE,MAAOiJ,GAAb,YAAwCxI,EAAawI,EAAiB,KAExF,OACE,yBAAKzO,UAAU,QACb,kBAACgG,EAAD,MACA,yBAAKhG,UAAU,qCACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,OACb,yBAAKmB,aAAW,cACd,wBAAInB,UAAU,cACZ,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAMwH,GAAG,UAAT,UAEF,wBAAIxH,UAAU,mBACXR,EAAe0M,GACd,gDACE9M,EAAa8M,GACf,uCAEA,kBAAC0B,GAAD,CAAU7B,OAAQG,EAAQH,UAG9B,wBAAI/L,UAAU,yBAAyB+J,eAAa,QACjDD,OAMX,yBAAK9J,UAAU,iBACb,yBAAKA,UAAU,mBACb,4BAAK8J,GACL,wBAAI9J,UAAU,yCACZ,wBAAIA,UAAU,kBAAkBwF,MAAM,sCAAtC,WACW,IACRhG,EAAe4H,GACZ,iBACAhI,EAAagI,GACb,QACAD,EAAiBC,MAI3B,yBAAKpH,UAAU,mBACZR,EAAe0M,GACd,6CACE9M,EAAa8M,GACf,sEAEA,oCACE,kBAACkE,GAAD,CAAoBjF,SAAUe,EAASmE,oBAAqBA,IAC5D,kBAACL,GAAD,CAAaC,oBAAqBA,IAClC,kBAACM,GAAD,CAAe9B,gBAAiBA,IAChC,kBAACD,GAAD,CAAiBC,gBAAiBA,OAK1C,yBAAKzO,UAAU,gCACb,yBAAKA,UAAU,OACb,0CACCR,EAAeqI,GACd,6CACEzI,EAAayI,GACf,0EACwB,IAAtBA,EAAW9H,OACb,kBAAC+P,GAAD,CAAiBjI,WAAYA,IAE7B,8DAKN,kBAACpG,EAAD,Q,OC7OD,SAASmQ,IAAc,GAAEzI,IAE9B,MAAM0I,EAAsB,IAAZ1I,EAAG0B,KAEnB,OACE,wBAAI7K,UAAU,yCACZ,wBAAIA,UAAU,mBAAd,WAAyCmJ,EAAGvI,QAI5C,wBAAIZ,UAAU,mBACZ,0BAAMwF,MAAQ,yBAAuBqM,EAAU,MAAQ,OAAvD,YACYA,EAnBF,SAmByB,4BAAuB1I,EAAG0B,WCV9D,SAASvN,IAAmB,IAAEV,IAA4B,IAAD,MAC9D,OACE,kBAAC,WAAD,KACE,wBAAIoD,UAAU,mBAAd,aACY,kBAACgL,GAAD,CAAcjH,QAAO,UAAEnH,EAAIuO,gBAAN,QAAkB,IAAK5D,UAAW,QAEnE,wBAAIvH,UAAU,mBAAd,WACU,kBAACsH,EAAD,CAAavD,QAAO,UAAEnH,EAAImT,cAAN,QAAgB,IAAKxI,UAAW,QAE9D,wBAAIvH,UAAU,mBAAd,eAA6CmH,EAAgB,UAACvK,EAAIkV,aAAL,QAAc,KAC3E,wBAAI9R,UAAU,mBACZ,0BAAMwF,MAAM,8BAAZ,kBADF,IACkE,IAChE,yBAAKxF,UAAU,QAAQ4P,KAAKC,UAAUjT,EAAIA,IAAK,KAAM,SCZtD,SAASS,IAAuB,IAAET,IAA4B,IAAD,UAClE,OACE,kBAAC,WAAD,KACE,wBAAIoD,UAAU,mBAAd,WACU,kBAACsH,EAAD,CAAavD,QAASnH,EAAImT,QAAU,IAAKxI,UAAW,QAE9D,wBAAIvH,UAAU,mBAAd,YACW,kBAAC4N,GAAD,CAAU7B,OAAM,oBAAEnP,EAAImP,cAAN,aAAE,EAAYgG,kBAAd,QAA4B,EAAGlE,KAAI,oBAAEjR,EAAImP,cAAN,aAAE,EAAY3I,kBAAd,QAA4B,OAE1F,wBAAIpD,UAAU,mBAAd,UAAwCpD,EAAI+O,OAC5C,wBAAI3L,UAAU,mBAAd,eAA6CmH,EAAgB,UAACvK,EAAIkV,aAAL,QAAc,KAC3E,wBAAI9R,UAAU,mBACZ,0BAAMwF,MAAM,8BAAZ,gBADF,IACgE,IAC9D,yBAAKxF,UAAU,QAAQ4P,KAAKC,UAAUjT,EAAIoV,QAAS,KAAM,SCd1D,SAASC,IAAQ,IAAErV,IAA4B,IAAD,MACnD,OACE,kBAAC,WAAD,KACE,wBAAIoD,UAAU,mBAAd,WACU,kBAACsH,EAAD,CAAavD,QAAO,UAAEnH,EAAIqL,mBAAN,QAAqB,IAAKV,UAAW,QAEnE,wBAAIvH,UAAU,mBAAd,cACa,kBAACsH,EAAD,CAAavD,QAAO,UAAEnH,EAAIsL,iBAAN,QAAmB,IAAKX,UAAW,QAEpE,wBAAIvH,UAAU,mBAAd,WAAyCmH,EAAgB,UAACvK,EAAIsK,cAAL,QAAe,M,mBCb9E,SAASgL,GAAgBC,EAAezO,GACtC,OAPF,SAAoByO,EAAeC,GACjC,OAAID,EAAEpS,SAAWqS,EAAErS,SACAoS,EAAEE,KAAK,CAACC,EAAMtK,IAAUoK,EAAEpK,KAAWsK,GAKjDC,CAAWJ,EAAE1L,MAAM,EAAG/C,EAAO3D,QAAS2D,GAG/C,MAAM8O,GAAQ,CACZC,KAAMC,mBAAQ,QACdC,KAAMD,mBAAQ,aCET,SAAStV,IAAa,IAAER,IAA4B,IAAD,IACxD,MAAOgW,EAAaC,GAAkBlV,IAAMgE,UAAkB,GAExDmR,EAAWnV,IAAMoV,QAAQ,KAAO,IAAD,EACnC,MAAMlG,EAAI,UAAGjQ,EAAIoW,oBAAP,QAAuB,IAAIC,WACrC,MAAQ,GDFL,SAAqBpG,GAC1B,OAAIqF,GAAgBrF,EAAM2F,GAAMC,MAAc,OAC1CP,GAAgBrF,EAAM2F,GAAMG,MAAc,YAA9C,ECAYO,CAAYrG,IAAS,cAAcA,EAAK9M,gBACjD,CAACnD,EAAIoW,eAER,OACE,kBAAC,WAAD,KACE,wBAAIhT,UAAU,mBAAd,WACU,kBAACsH,EAAD,CAAavD,QAAO,UAAEnH,EAAImT,cAAN,QAAgB,IAAKxI,UAAW,QAE9D,wBAAIvH,UAAU,mBAAd,WAAyCpD,EAAI4N,QAAU,UACvD,wBAAIxK,UAAU,mBAAd,YAA0CpD,EAAI6N,SAAW,UACzD,wBAAIzK,UAAU,mBAAd,SACS8S,EAAU,IACfF,EAQA,0BAAM5S,UAAU,oBAAoBpD,EAAIoW,cAPxC,kBAAC,WAAD,KACE,8B5BpBL,SAAqB9M,EAAaC,GACvC,GAAID,EAAInG,QAAUoG,EAChB,OAAOD,EAET,MACME,EAAWD,EADF,SACqBpG,OACpC,OAAOmG,EAAIO,MAAM,EAAGL,GAFL,S4BgBE+M,CAAYC,oBAAQ,UAACxW,EAAIoW,oBAAL,QAAqB,IAAIC,YAAe,MAAa,IAChF,4BAAQjT,UAAU,iCAAiCQ,QAAS,IAAMqS,GAAe,IAAjF,eCzBL,SAASQ,IAAO,GAAElK,IAA2B,IAAD,oBACjD,OACE,yBAAKnJ,UAAU,aACb,wBAAIA,UAAU,+BACZ,wBAAIA,UAAU,mBAAd,UAAuC,UAAAmJ,EAAGI,YAAH,eAASqF,OAAQ,UACxD,wBAAI5O,UAAU,mBAAd,QAAsCmH,EAAgB,oBAACgC,EAAGmK,gBAAJ,iBAAC,EAAaC,WAAd,aAAC,EAAkBrM,cAAnB,QAA6B,KACnF,wBAAIlH,UAAU,mBAAd,4BAAsCmJ,EAAGmK,gBAAzC,iBAAsC,EAAaC,WAAnD,iBAAsC,EAAkBC,gBAAxD,aAAsC,EAA4BpQ,kBAAlE,QAAgF,KAChF,wBAAIpD,UAAU,mBAAd,mCAA6CmJ,EAAGsK,kBAAhD,aAA6C,EAAe1T,cAA5D,QAAsE,KC6BvE,SAAS2T,KAAuB,IAAD,IACpC,MAAM,OAAEzW,EAAF,aAAUC,GAAiBS,IAAMmD,WAAWpD,IAC1CiW,KAAMC,GAAcvL,cACtBsL,EAAOC,GAAa,GAEpB9J,EAAY,0BAAMtE,MAAOmO,GAAb,MAAuB1N,EAAa0N,EAAM,MAErDzH,EAASC,GAAcxO,IAAMgE,SAClCjC,GAUF,OAPA/B,IAAMuE,UACJM,EAAiBvF,GAzBE,EACrBA,EACA0W,EACAxH,IACG,KACHlP,EACG4W,MAAMF,GACN3R,KAAMmH,IACLgD,EAAWhD,QAAM9D,KAElBpD,MAAM,IAAMkK,EAAW1M,KAgBpBoK,CAAe5M,EAAQ0W,EAAMxH,GAC7B,OACJ,CAAClP,EAAQ0W,EAAMzW,IAIf,yBAAK8C,UAAU,QACb,kBAACgG,EAAD,MACA,yBAAKhG,UAAU,kBACb,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,OACb,yBAAKmB,aAAW,cACd,wBAAInB,UAAU,cACZ,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAMwH,GAAG,KAAT,SAEF,wBAAIxH,UAAU,yBAAyB+J,eAAa,QACjDD,OAOX,yBAAK9J,UAAU,iBACb,yBAAKA,UAAU,OACb,4BAAK8J,GACJtK,EAAe0M,GACd,yCACE9M,EAAa8M,GACf,yCACc7G,IAAZ6G,EACF,oDAEA,kBAAC0F,GAAD,CAAezI,GAAI+C,KAGvB,yBAAKlM,UAAU,OACZR,EAAe0M,GACd,6CACE9M,EAAa8M,GACf,yCACc7G,IAAZ6G,EACF,oDAEA,kBAACmH,GAAD,CAAQlK,GAAIE,KAAGC,OAAO4C,EAAQ/C,QAKpC,yBAAKnJ,UAAU,gCACb,yBAAKA,UAAU,OACb,wCACA,mIAICR,EAAe0M,GACd,6CACE9M,EAAa8M,GACf,yCACc7G,IAAZ6G,EACF,oDADE,UAGF7C,KAAGC,OAAO4C,EAAQ/C,IAAII,YAHpB,iBAGF,EAA4BC,gBAH1B,aAGF,EAAsCnJ,IAAI,CAACzD,EAAUoL,IACnD,yBAAKhI,UAAU,YAAYO,IAAM,GAAE2L,EAAQvC,QAAQ3B,KACjD,yBAAKhI,UAAU,eAAf,WACWgI,EAAQ,EADnB,WAC8BpL,EAAIC,SAAW,qCAD7C,KAGA,wBAAImD,UAAU,+BACXrD,EAAaC,GACZ,kBAACqV,GAAD,CAASrV,IAAKM,EAAaoM,OAAO,CAAEzM,QAASD,EAAIC,QAASC,MAAOF,EAAIE,U1ClGpF,SAA2BF,GAChC,OAAOA,EAAIC,UAAYJ,KAAyBG,EAAIE,M0CkG9BgX,CAAkBlX,GACpB,kBAAC,GAAD,CAAcA,IAAKM,EAAaoM,OAAO,CAAEzM,QAASD,EAAIC,QAASC,MAAOF,EAAIE,U1ChGzF,SAAqCF,GAC1C,MAhC2C,kDAgCpCA,EAAIC,WAA+CD,EAAIE,M0CgGxCiX,CAA4BnX,GAC9B,kBAACS,GAAD,CACET,IAAKM,EAAaoM,OAAO,CAAEzM,QAASD,EAAIC,QAASC,MAAOF,EAAIE,U1C/F7E,SAAiCF,GACtC,OAAOA,EAAIC,UAAYH,KAA+BE,EAAIE,M0CgGpCkX,CAAwBpX,GAC1B,kBAACU,GAAD,CACEV,IAAKM,EAAaoM,OAAO,CAAEzM,QAASD,EAAIC,QAASC,MAAOF,EAAIE,UAG9D,wBAAIkD,UAAU,mBACZ,2EAUhB,kBAACyB,EAAD,QClJD,SAASwS,IAAe,KAAE1U,EAAF,SAAQ2U,IACrC,OAAQ3U,GACN,IAAK,iBACH,OAAO,kBAAC,IAAD,CAAe4U,SAAUrV,0CAAyBoV,GAC3D,IAAK,cACH,OAAO,kBAAC,IAAD,KAAaA,ICU1B,MAAQpW,SAAF,mBAAYC,IAAoBY,EAASC,QACzC1B,GAAe,IAAIC,WAAS,CAChC,CAACV,EAAqBW,gBACtB,C5CpB2C,gD4CoBXC,0BAChC,CAACX,EAA2BY,wBAGvB,SAAS8W,KACd,MAAOpX,EAASqX,GAAc1W,IAAMgE,SAAS7D,GAAS,KAC/CgH,EAAatH,GAAkBG,IAAMgE,YACrCiE,EAAenI,GAAoBE,IAAMgE,YACzC2S,EAAcC,GAAmB5W,IAAMgE,SAA6B,CACzE3E,QAASA,EACTC,OAAQ,KACRC,aAAcA,GACdK,YAAa8W,EACbvP,YAAaA,EACbtH,eAAgBA,EAChBoI,cAAeA,EACfnI,iBAAkBA,IAkBpB,OAfAE,IAAMuE,UAAU,MACd,iBACE,MAAMjF,QAAewF,iBAAe+R,QAAQxX,GAC5CuX,EAAiBE,IAAD,IAA4BA,EAAkBzX,QAASA,EAASC,OAAQA,KAF1F,IAIC,CAACD,IAEJW,IAAMuE,UAAU,KACdqS,EAAiBE,IAAD,IAA4BA,EAAkB7O,cAAeA,MAC5E,CAACA,IAEJjI,IAAMuE,UAAU,KACdqS,EAAiBE,IAAD,IAA4BA,EAAkB3P,YAAaA,MAC1E,CAACA,IAGF,kBAACpH,EAAcgX,SAAf,CAAwB5X,MAAOwX,GAC7B,kBAACL,GAAD,CAAgB1U,KAAMZ,EAASM,WAAWC,YACxC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOyV,OAAK,EAACC,KAAK,SAASC,UAAWlH,KACtC,kBAAC,IAAD,CAAOiH,KAAK,iBAAiBC,UAAW/I,KACxC,kBAAC,IAAD,CAAO8I,KAAK,8BAA8BC,UAAWnD,KACrD,kBAAC,IAAD,CAAOkD,KAAK,sBAAsBC,UAAWnB,KAC7C,kBAAC,IAAD,CAAOkB,KAAK,qBAAqBC,UAAW1M,IAC5C,kBAAC,IAAD,CAAO0M,UAAW,IAAM,kBAAC,IAAD,CAAUrN,GAAG,gBC3D/CsN,IAASC,OAAO,kBAACX,GAAD,MAASY,SAASC,eAAe,W","file":"static/js/main.5f0a0a4f.chunk.js","sourcesContent":["import { Any } from \"@cosmjs/stargate/build/codec/google/protobuf/any\"\r\n\r\ntype IAny = Any;\r\n\r\nexport const msgSendTypeUrl = \"/cosmos.bank.v1beta1.MsgSend\";\r\nexport const msgStoreCodeTypeUrl = \"/cosmwasm.wasm.v1beta1.MsgStoreCode\";\r\nexport const msgInstantiateContractTypeUrl = \"/cosmwasm.wasm.v1beta1.MsgInstantiateContract\";\r\nexport const msgExecuteContractTypeUrl = \"/cosmwasm.wasm.v1beta1.MsgExecuteContract\";\r\n\r\nexport interface AnyMsgSend {\r\n  readonly typeUrl: \"/cosmos.bank.v1beta1.MsgSend\";\r\n  readonly value: Uint8Array;\r\n}\r\n\r\nexport interface AnyMsgStoreCode {\r\n  readonly typeUrl: \"/cosmwasm.wasm.v1beta1.MsgStoreCode\";\r\n  readonly value: Uint8Array;\r\n}\r\n\r\nexport interface AnyMsgInstantiateContract {\r\n  readonly typeUrl: \"/cosmwasm.wasm.v1beta1.MsgInstantiateContract\";\r\n  readonly value: Uint8Array;\r\n}\r\n\r\nexport interface AnyMsgExecuteContract {\r\n  readonly typeUrl: \"/cosmwasm.wasm.v1beta1.MsgExecuteContract\";\r\n  readonly value: Uint8Array;\r\n}\r\n\r\nexport function isAnyMsgSend(msg: IAny): msg is AnyMsgSend {\r\n  return msg.typeUrl === msgSendTypeUrl && !!msg.value;\r\n}\r\n\r\nexport function isAnyMsgStoreCode(msg: IAny): msg is AnyMsgStoreCode {\r\n  return msg.typeUrl === msgStoreCodeTypeUrl && !!msg.value;\r\n}\r\n\r\nexport function isAnyMsgInstantiateContract(msg: IAny): msg is AnyMsgInstantiateContract {\r\n  return msg.typeUrl === msgInstantiateContractTypeUrl && !!msg.value;\r\n}\r\n\r\nexport function isAnyMsgExecuteContract(msg: IAny): msg is AnyMsgExecuteContract {\r\n  return msg.typeUrl === msgExecuteContractTypeUrl && !!msg.value;\r\n}\r\n\r\n/* eslint-enable @typescript-eslint/camelcase */\r\n","import { MsgExecuteContract, MsgInstantiateContract, MsgStoreCode } from \"@cosmjs/cosmwasm-stargate/build/codec/cosmwasm/wasm/v1beta1/tx\";\r\nimport { Registry } from \"@cosmjs/proto-signing\";\r\nimport React from \"react\";\r\n\r\nimport {\r\n  StargateClient,\r\n  StargateSigningClient,\r\n} from \"../ui-utils/clients\";\r\nimport {\r\n  msgExecuteContractTypeUrl,\r\n  msgInstantiateContractTypeUrl,\r\n  msgStoreCodeTypeUrl,\r\n} from \"../ui-utils/txs\";\r\n\r\nexport interface ClientContextValue {\r\n  readonly nodeUrl: string;\r\n  readonly client: StargateClient | null;\r\n  readonly typeRegistry: Registry;\r\n  readonly resetClient: (nodeUrl: string) => void;\r\n  readonly userAddress?: string;\r\n  readonly setUserAddress: (newUserAddress?: string) => void;\r\n  readonly signingClient?: StargateSigningClient;\r\n  readonly setSigningClient: (newSigningClient?: StargateSigningClient) => void;\r\n}\r\n\r\n/**\r\n * \"only used when a component does not have a matching Provider above it in the tree\"\r\n *\r\n * @see https://reactjs.org/docs/context.html#reactcreatecontext\r\n */\r\nconst dummyContext: ClientContextValue = {\r\n  nodeUrl: \"\",\r\n  client: null,\r\n  typeRegistry: new Registry([\r\n    [msgStoreCodeTypeUrl, MsgStoreCode],\r\n    [msgInstantiateContractTypeUrl, MsgInstantiateContract],\r\n    [msgExecuteContractTypeUrl, MsgExecuteContract],\r\n  ]),\r\n  resetClient: () => {},\r\n  setUserAddress: () => {},\r\n  setSigningClient: () => {},\r\n};\r\n\r\nexport const ClientContext = React.createContext<ClientContextValue>(dummyContext);\r\n","import { GasPrice } from \"@cosmjs/stargate\";\r\n\r\nexport type NonEmptyArray<ElementType> = { readonly 0: ElementType } & readonly ElementType[];\r\n\r\nexport interface BackendSettings {\r\n  readonly nodeUrls: NonEmptyArray<string>;\r\n  readonly stargateEnabled: boolean;\r\n  readonly denominations: readonly string[];\r\n  readonly addressPrefix: string;\r\n  readonly gasPrice: GasPrice;\r\n}\r\n\r\nconst devnetStargateSettings: BackendSettings = {\r\n  nodeUrls: [\"http://localhost:26659\"],\r\n  stargateEnabled: true,\r\n  denominations: [\"ucosm\", \"ustake\"],\r\n  addressPrefix: \"wasm\",\r\n  gasPrice: GasPrice.fromString(\"0.25ucosm\"),\r\n};\r\n\r\nconst coralnetSettings: BackendSettings = {\r\n  nodeUrls: [\"https://lcd.coralnet.cosmwasm.com\"],\r\n  stargateEnabled: false,\r\n  denominations: [\"ucosm\", \"ustake\"],\r\n  addressPrefix: \"coral\",\r\n  gasPrice: GasPrice.fromString(\"0.25ucosm\"),\r\n};\r\n\r\nconst heldernetSettings: BackendSettings = {\r\n  nodeUrls: [\"https://lcd.heldernet.cosmwasm.com\"],\r\n  stargateEnabled: false,\r\n  denominations: [\"ucosm\", \"ustake\"],\r\n  addressPrefix: \"cosmos\",\r\n  gasPrice: GasPrice.fromString(\"0.25ucosm\"),\r\n};\r\n\r\nconst musselnetSettings: BackendSettings = {\r\n  nodeUrls: [\"https://rpc.musselnet.cosmwasm.com\"],\r\n  stargateEnabled: true,\r\n  denominations: [\"umayo\", \"ufrites\"],\r\n  addressPrefix: \"wasm\",\r\n  gasPrice: GasPrice.fromString(\"0.25ucosm\"),\r\n};\r\n\r\nconst lucinanetSettings: BackendSettings = {\r\n  nodeUrls: [\"https://rpc.juno.giansalex.dev\"],\r\n  stargateEnabled: true,\r\n  denominations: [\"ujuno\"],\r\n  addressPrefix: \"juno\",\r\n  gasPrice: GasPrice.fromString(\"0.25ujuno\"),\r\n};\r\n\r\nconst knownBackends: Partial<Record<string, BackendSettings>> = {\r\n  coralnet: coralnetSettings,\r\n  heldernet: heldernetSettings,\r\n  devnetStargate: devnetStargateSettings,\r\n  musselnet: musselnetSettings,\r\n  lucinanet: lucinanetSettings \r\n};\r\n\r\nexport function getCurrentBackend(): BackendSettings {\r\n  const id = process.env.REACT_APP_BACKEND || \"lucinanet\";\r\n  const backend = knownBackends[id];\r\n  if (!backend) {\r\n    throw new Error(`No backend found for the given ID \"${id}\"`);\r\n  }\r\n  return backend;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\nimport { BackendSettings, getCurrentBackend } from \"./backend\";\r\n\r\nexport interface DeploymentSettings {\r\n  readonly routerType: \"browser-router\" | \"hash-router\";\r\n}\r\n\r\nexport interface Settings {\r\n  /** Where do we connect to */\r\n  readonly backend: BackendSettings;\r\n  /** How are we hosted */\r\n  readonly deployment: DeploymentSettings;\r\n}\r\n\r\nconst developmentServer: DeploymentSettings = {\r\n  routerType: \"browser-router\",\r\n};\r\n\r\nconst ghPages: DeploymentSettings = {\r\n  routerType: \"hash-router\",\r\n};\r\n\r\nconst firebaseHosting: DeploymentSettings = {\r\n  routerType: \"browser-router\",\r\n};\r\n\r\nexport const settings: Settings = {\r\n  backend: getCurrentBackend(),\r\n  deployment: process.env.NODE_ENV === \"production\" ? ghPages : developmentServer,\r\n};\r\n","import { isNonNullObject } from \"@cosmjs/utils\";\r\n\r\nconst runtimeCodes = {\r\n  error: \"_\\u2588_ErrorState_\\u2588_\" as const,\r\n  loading: \"_\\u2588_LoadingState_\\u2588_\" as const,\r\n};\r\n\r\nexport interface ErrorState {\r\n  readonly type: typeof runtimeCodes.error;\r\n}\r\n\r\nexport interface LoadingState {\r\n  readonly type: typeof runtimeCodes.loading;\r\n}\r\n\r\nexport function isErrorState(state: unknown): state is ErrorState {\r\n  if (!isNonNullObject(state)) return false;\r\n  return (state as ErrorState).type === runtimeCodes.error;\r\n}\r\n\r\nexport function isLoadingState(state: unknown): state is LoadingState {\r\n  if (!isNonNullObject(state)) return false;\r\n  return (state as LoadingState).type === runtimeCodes.loading;\r\n}\r\n\r\nexport const errorState: ErrorState = { type: runtimeCodes.error };\r\nexport const loadingState: LoadingState = { type: runtimeCodes.loading };\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport { NonEmptyArray } from \"../settings/backend\";\r\n\r\ninterface Props {\r\n  readonly currentUrl: string;\r\n  readonly urls: NonEmptyArray<string>;\r\n  readonly urlChanged: (newUrl: string) => void;\r\n}\r\n\r\nexport function EndpointSelector({ urls, currentUrl, urlChanged }: Props): JSX.Element {\r\n  if (urls.length === 1) {\r\n    return <Fragment>{currentUrl}</Fragment>;\r\n  } else {\r\n    return (\r\n      <Fragment>\r\n        <button\r\n          className=\"btn btn-secondary btn-sm dropdown-toggle\"\r\n          type=\"button\"\r\n          id=\"dropdownMenuButton\"\r\n          data-toggle=\"dropdown\"\r\n          aria-haspopup=\"true\"\r\n          aria-expanded=\"false\"\r\n        >\r\n          {currentUrl}\r\n        </button>\r\n        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n          {urls.map((url) => (\r\n            <button\r\n              key={url}\r\n              className={`dropdown-item` + (url === currentUrl ? \" active\" : \"\")}\r\n              type=\"button\"\r\n              onClick={() => urlChanged(url)}\r\n            >\r\n              {url}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport { ClientContext } from \"../contexts/ClientContext\";\r\nimport { ErrorState, isErrorState, isLoadingState, LoadingState } from \"../ui-utils/states\";\r\n\r\ninterface Props {\r\n  readonly htmlId: string;\r\n  readonly chainId: string | ErrorState | LoadingState;\r\n  readonly height: number | ErrorState | LoadingState;\r\n}\r\n\r\nexport function NodeInfoModal({ htmlId, chainId, height }: Props): JSX.Element {\r\n  const clientContext = React.useContext(ClientContext);\r\n\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id={htmlId}\r\n      tabIndex={-1}\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n              Node info\r\n            </h5>\r\n            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            Endpoint: {clientContext.nodeUrl}\r\n            <br />\r\n            Chain ID: {isLoadingState(chainId) ? \"Loading …\" : isErrorState(chainId) ? \"Error\" : chainId}\r\n            <br />\r\n            Height: {isLoadingState(height) ? \"Loading …\" : isErrorState(height) ? \"Error\" : height}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport { ClientContext } from \"../contexts/ClientContext\";\r\nimport { settings } from \"../settings\";\r\nimport { ErrorState, errorState, LoadingState, loadingState } from \"../ui-utils/states\";\r\nimport { EndpointSelector } from \"./EndpointSelector\";\r\nimport { NodeInfoModal } from \"./NodeInfoModal\";\r\n\r\ninterface Props {}\r\n\r\nconst hrStyle: React.CSSProperties = {\r\n  borderColor: \"rgba(255, 255, 255, 0.8)\",\r\n};\r\nconst whiteText = { color: \"#f0f0f0\" };\r\n\r\nfunction Separator(): JSX.Element {\r\n  return <Fragment> | </Fragment>;\r\n}\r\n\r\n/** Place me as a row in a container */\r\nexport function FooterRow(): JSX.Element {\r\n  const { client, nodeUrl, resetClient } = React.useContext(ClientContext);\r\n\r\n  const [chainId, setChainId] = React.useState<string | ErrorState | LoadingState>(loadingState);\r\n  const [height, setHeight] = React.useState<number | ErrorState | LoadingState>(loadingState);\r\n\r\n  const updateHeight = React.useCallback(() => {\r\n    client\r\n      ?.getHeight()\r\n      .then(setHeight)\r\n      .catch(() => setHeight(errorState));\r\n  }, [client]);\r\n\r\n  React.useEffect(() => {\r\n    client\r\n      ?.getChainId()\r\n      .then(setChainId)\r\n      .catch(() => setChainId(errorState));\r\n    updateHeight();\r\n  }, [client, updateHeight]);\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col\">\r\n        <hr style={hrStyle} />\r\n        <NodeInfoModal htmlId=\"nodeInfoModal\" chainId={chainId} height={height} />\r\n        <div style={whiteText} className=\"dropdown text-center font-weight-light mb-3\">\r\n          Endpoint{\" \"}\r\n          <EndpointSelector\r\n            currentUrl={nodeUrl}\r\n            urls={settings.backend.nodeUrls}\r\n            urlChanged={(newUrl) => resetClient(newUrl)}\r\n          />{\" \"}\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-sm btn-secondary\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#nodeInfoModal\"\r\n            onClick={updateHeight}\r\n          >\r\n            Node info\r\n          </button>\r\n          <Separator />\r\n          <a href=\"https://github.com/CosmWasm/code-explorer\" style={whiteText}>\r\n            Fork me on GitHub\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {\r\n  CosmWasmClient as StargateClient,\r\n  CosmWasmFeeTable,\r\n  SigningCosmWasmClient as StargateSigningClient,\r\n} from \"@cosmjs/cosmwasm-stargate\";\r\nimport { GasLimits, defaultGasLimits as defaultStargateGasLimits } from \"@cosmjs/stargate\";\r\nimport { MsgExecuteContract, MsgInstantiateContract, MsgStoreCode } from \"@cosmjs/cosmwasm-stargate/build/codec/cosmwasm/wasm/v1beta1/tx\";\r\nimport { Bip39, Random } from \"@cosmjs/crypto\";\r\n\r\nimport { DirectSecp256k1HdWallet, OfflineDirectSigner, OfflineSigner, Registry } from \"@cosmjs/proto-signing\";\r\n\r\nimport { settings } from \"../settings\";\r\nimport { msgExecuteContractTypeUrl, msgInstantiateContractTypeUrl, msgStoreCodeTypeUrl } from \"./txs\";\r\n\r\nexport { StargateClient, StargateSigningClient };\r\n\r\nexport function isStargateClient(client: StargateClient | null): client is StargateClient {\r\n  return client instanceof StargateClient;\r\n}\r\n\r\nexport function isStargateSigningClient(\r\n  signingClient: StargateSigningClient | null,\r\n): signingClient is StargateSigningClient {\r\n  return signingClient instanceof StargateSigningClient;\r\n}\r\n\r\nexport function generateMnemonic(): string {\r\n  return Bip39.encode(Random.getBytes(16)).toString();\r\n}\r\n\r\nexport function loadOrCreateMnemonic(mnemonic?: string): string {\r\n  const key = \"burner-wallet\";\r\n  const loaded = localStorage.getItem(key);\r\n  if (loaded && !mnemonic) {\r\n    return loaded;\r\n  }\r\n  const loadedMnemonic = mnemonic || generateMnemonic();\r\n  localStorage.setItem(key, loadedMnemonic);\r\n  return loadedMnemonic;\r\n}\r\n\r\nexport type WalletLoaderDirect = (addressPrefix: string, mnemonic?: string) => Promise<OfflineDirectSigner>;\r\n\r\nexport async function loadOrCreateWalletDirect(\r\n  addressPrefix: string,\r\n  mnemonic?: string,\r\n): Promise<OfflineDirectSigner> {\r\n  const loadedMnemonic = loadOrCreateMnemonic(mnemonic);\r\n  return DirectSecp256k1HdWallet.fromMnemonic(loadedMnemonic, {\r\n    // hdPaths: [hdPath],\r\n    prefix: addressPrefix\r\n  });\r\n}\r\n\r\nasync function createStargateSigningClient(signer: OfflineSigner): Promise<StargateSigningClient> {\r\n  const { nodeUrls, gasPrice } = settings.backend;\r\n  const endpoint = nodeUrls[0];\r\n\r\n  const typeRegistry = new Registry([\r\n    [msgStoreCodeTypeUrl, MsgStoreCode],\r\n    [msgInstantiateContractTypeUrl, MsgInstantiateContract],\r\n    [msgExecuteContractTypeUrl, MsgExecuteContract],\r\n  ]);\r\n\r\n  const gasLimits: GasLimits<CosmWasmFeeTable> = {\r\n    ...defaultStargateGasLimits,\r\n    upload: 1500000,\r\n    init: 600000,\r\n    exec: 400000,\r\n    migrate: 600000,\r\n    send: 80000,\r\n    changeAdmin: 80000,\r\n  };\r\n\r\n  return StargateSigningClient.connectWithSigner(endpoint, signer, {\r\n    registry: typeRegistry,\r\n    gasPrice: gasPrice,\r\n    gasLimits: gasLimits,\r\n  });\r\n}\r\n\r\nexport async function getAddressAndStargateSigningClient(\r\n  loadWallet: WalletLoaderDirect,\r\n  mnemonic?: string,\r\n): Promise<[string, StargateSigningClient]> {\r\n  const signer = await loadWallet(settings.backend.addressPrefix, mnemonic);\r\n  const userAddress = (await signer.getAccounts())[0].address;\r\n  const signingClient = await createStargateSigningClient(signer);\r\n  return [userAddress, signingClient];\r\n}\r\n\r\nexport function webUsbMissing(): boolean {\r\n  const anyNavigator: any = navigator;\r\n  return !anyNavigator?.usb;\r\n}\r\n","import React from \"react\";\r\n\r\nimport { ClientContext } from \"../contexts/ClientContext\";\r\nimport {\r\n  getAddressAndStargateSigningClient,\r\n  loadOrCreateWalletDirect,\r\n  WalletLoaderDirect,\r\n  webUsbMissing,\r\n} from \"../ui-utils/clients\";\r\n\r\nexport function Login(): JSX.Element {\r\n  const { userAddress, setUserAddress, setSigningClient } = React.useContext(ClientContext);\r\n  const [mnemonic, setMnemonic] = React.useState<string>();\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState<string>();\r\n\r\n  async function loginStargate(loadWallet: WalletLoaderDirect): Promise<void> {\r\n    setLoading(true);\r\n    setError(undefined);\r\n\r\n    try {\r\n      const [userAddress, signingClient] = await getAddressAndStargateSigningClient(loadWallet, mnemonic);\r\n      setUserAddress(userAddress);\r\n      setSigningClient(signingClient);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  function logout(): void {\r\n    setError(undefined);\r\n    setUserAddress(undefined);\r\n    setMnemonic(undefined);\r\n    setSigningClient(undefined);\r\n  }\r\n\r\n  function renderLoginButton(): JSX.Element {\r\n    return loading ? (\r\n      <button className=\"btn btn-primary\" type=\"button\" disabled>\r\n        <span className=\"spinner-border spinner-border-sm mr-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n        Loading...\r\n      </button>\r\n    ) : (\r\n      <>\r\n        <div className=\"mr-3 p-2 rounded bg-white\">\r\n          <span title=\"Mnemonic for burner wallet\">Mnemonic:</span>\r\n          <input\r\n            className=\"ml-3 flex-grow-1\"\r\n            value={mnemonic}\r\n            onChange={(event) => setMnemonic(event.target.value)}\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary dropdown-toggle\"\r\n          data-toggle=\"dropdown\"\r\n          aria-haspopup=\"true\"\r\n          aria-expanded=\"false\"\r\n        >\r\n          Login\r\n        </button>\r\n        <div className=\"dropdown-menu\">\r\n          <h6 className=\"dropdown-header\">with</h6>\r\n          <button\r\n            className=\"dropdown-item\"\r\n            onClick={() =>\r\n              loginStargate(loadOrCreateWalletDirect)\r\n            }\r\n          >\r\n            Browser wallet\r\n          </button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  function renderLogoutButton(): JSX.Element {\r\n    return (\r\n      <button className=\"btn btn-primary\" onClick={logout}>\r\n        Logout\r\n      </button>\r\n    );\r\n  }\r\n\r\n  const isUserLoggedIn = !!userAddress;\r\n\r\n  return (\r\n    <div className=\"d-flex align-items-center justify-content-end\">\r\n      {error ? <div className=\"mr-3 p-2 rounded bg-white text-danger\">{error}</div> : null}\r\n      {isUserLoggedIn ? renderLogoutButton() : renderLoginButton()}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { ClientContext } from \"../contexts/ClientContext\";\r\n\r\nexport function UserAddress(): JSX.Element {\r\n  const { userAddress } = React.useContext(ClientContext);\r\n\r\n  return userAddress ? (\r\n    <div className=\"mr-3 p-2 rounded bg-white\">\r\n      <span>My address: </span>\r\n      <span>{userAddress}</span>\r\n    </div>\r\n  ) : (\r\n    <></>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Login } from \"./Login\";\r\nimport { UserAddress } from \"./UserAddress\";\r\n\r\nexport function Header(): JSX.Element {\r\n  return (\r\n    <header className=\"mt-3 p-0 d-flex align-items-center justify-content-end container contract-container\">\r\n      <UserAddress />\r\n      <Login />\r\n    </header>\r\n  );\r\n}\r\n","import { Decimal } from \"@cosmjs/math\";\r\nimport { Coin } from \"@cosmjs/stargate/build/codec/cosmos/base/v1beta1/coin\";\r\n\r\ntype ICoin = Coin;\r\n\r\nexport function ellideMiddle(str: string, maxOutLen: number): string {\r\n  if ((str || \"\").length <= maxOutLen) {\r\n    return str;\r\n  }\r\n  const ellide = \"…\";\r\n  const frontLen = Math.ceil((maxOutLen - ellide.length) / 2);\r\n  const tailLen = Math.floor((maxOutLen - ellide.length) / 2);\r\n  return str.slice(0, frontLen) + ellide + str.slice(str.length - tailLen, str.length);\r\n}\r\n\r\nexport function ellideRight(str: string, maxOutLen: number): string {\r\n  if (str.length <= maxOutLen) {\r\n    return str;\r\n  }\r\n  const ellide = \"…\";\r\n  const frontLen = maxOutLen - ellide.length;\r\n  return str.slice(0, frontLen) + ellide;\r\n}\r\n\r\n// NARROW NO-BREAK SPACE (U+202F)\r\nconst thinSpace = \"\\u202F\";\r\n\r\nfunction printableCoin(coin: ICoin): string {\r\n  if (coin.denom?.startsWith(\"u\")) {\r\n    const ticker = coin.denom.slice(1).toUpperCase();\r\n    return Decimal.fromAtomics(coin.amount ?? \"0\", 6).toString() + thinSpace + ticker;\r\n  } else {\r\n    return coin.amount + thinSpace + coin.denom;\r\n  }\r\n}\r\n\r\nexport function printableBalance(balance: readonly ICoin[]): string {\r\n  if (balance.length === 0) return \"–\";\r\n  return balance.map(printableCoin).join(\", \");\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { ellideMiddle } from \"../ui-utils\";\r\n\r\ninterface Props {\r\n  readonly address: string;\r\n  readonly maxLength?: number | null;\r\n}\r\n\r\nexport function AccountLink({ address, maxLength = 20 }: Props): JSX.Element {\r\n  return (\r\n    <Link to={`/accounts/${address}`} title={address}>\r\n      {ellideMiddle(address, maxLength || 99999)}\r\n    </Link>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { ellideMiddle } from \"../ui-utils\";\r\n\r\ninterface Props {\r\n  readonly transactionId: string;\r\n  readonly maxLength?: number | null;\r\n}\r\n\r\nexport function TransactionLink({ transactionId, maxLength = 20 }: Props): JSX.Element {\r\n  return (\r\n    <Link to={`/transactions/${transactionId}`} title={transactionId}>\r\n      {ellideMiddle(transactionId, maxLength || 99999)}\r\n    </Link>\r\n  );\r\n}\r\n","import { MsgSend } from \"@cosmjs/stargate/build/codec/cosmos/bank/v1beta1/tx\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { TransactionLink } from \"../../components/TransactionLink\";\r\nimport { printableBalance } from \"../../ui-utils\";\r\n\r\nexport interface Transfer {\r\n  readonly key: string;\r\n  readonly height: number;\r\n  readonly transactionId: string;\r\n  readonly msg: MsgSend;\r\n}\r\n\r\ninterface Props {\r\n  readonly transfers: readonly Transfer[];\r\n}\r\n\r\nexport function TransfersTable({ transfers: executions }: Props): JSX.Element {\r\n  return (\r\n    <table className=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">#</th>\r\n          <th scope=\"col\">Height</th>\r\n          <th scope=\"col\">Transaction ID</th>\r\n          <th scope=\"col\">Sender</th>\r\n          <th scope=\"col\">Recipient</th>\r\n          <th scope=\"col\">Amount</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {executions.map((execution, index) => (\r\n          <tr key={execution.key}>\r\n            <th scope=\"row\">{index + 1}</th>\r\n            <td>{execution.height}</td>\r\n            <td>\r\n              <TransactionLink transactionId={execution.transactionId} />\r\n            </td>\r\n            <td>\r\n              <AccountLink address={execution.msg.fromAddress} />\r\n            </td>\r\n            <td>\r\n              <AccountLink address={execution.msg.toAddress} />\r\n            </td>\r\n            <td>{printableBalance(execution.msg.amount)}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n","import { Registry } from \"@cosmjs/proto-signing\";\r\nimport { IndexedTx } from \"@cosmjs/stargate\";\r\nimport { Coin } from \"@cosmjs/stargate/build/codec/cosmos/base/v1beta1/coin\";\r\nimport { Tx } from \"@cosmjs/stargate/build/codec/cosmos/tx/v1beta1/tx\";\r\nimport React from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport { FooterRow } from \"../../components/FooterRow\";\r\nimport { Header } from \"../../components/Header\";\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { settings } from \"../../settings\";\r\nimport { ellideMiddle, printableBalance } from \"../../ui-utils\";\r\nimport { isStargateClient, StargateClient } from \"../../ui-utils/clients\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\nimport { AnyMsgSend, isAnyMsgSend } from \"../../ui-utils/txs\";\r\nimport { Transfer, TransfersTable } from \"./TransfersTable\";\r\n\r\ntype ICoin = Coin;\r\n\r\nfunction getTransferFromStargateMsgSend(typeRegistry: Registry, tx: IndexedTx) {\r\n  return (msg: AnyMsgSend, i: number) => {\r\n    const decodedMsg = typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value });\r\n    return {\r\n      key: `${tx.hash}_${i}`,\r\n      height: tx.height,\r\n      transactionId: tx.hash,\r\n      msg: decodedMsg,\r\n    };\r\n  };\r\n}\r\n\r\nconst stargateEffect = (\r\n  client: StargateClient,\r\n  address: string,\r\n  typeRegistry: Registry,\r\n  setBalance: (balance: readonly ICoin[] | ErrorState | LoadingState) => void,\r\n  setTransfers: (transfers: readonly Transfer[] | ErrorState | LoadingState) => void,\r\n) => (): void => {\r\n  Promise.all(settings.backend.denominations.map((denom) => client.getBalance(address, denom)))\r\n    .then((balances) => {\r\n      const filteredBalances = balances.filter((balance): balance is Coin => balance !== null);\r\n      setBalance(filteredBalances);\r\n    })\r\n    .catch(() => setBalance(errorState));\r\n  client\r\n    .searchTx({ sentFromOrTo: address })\r\n    .then((txs) => {\r\n      const out = txs.reduce((transfers: readonly Transfer[], tx: IndexedTx): readonly Transfer[] => {\r\n        const decodedTx = Tx.decode(tx.tx);\r\n        const txTransfers = (decodedTx?.body?.messages ?? [])\r\n          .filter(isAnyMsgSend)\r\n          .map(getTransferFromStargateMsgSend(typeRegistry, tx));\r\n        return [...transfers, ...txTransfers];\r\n      }, []);\r\n      setTransfers(out);\r\n    })\r\n    .catch(() => setTransfers(errorState));\r\n};\r\n\r\nexport function AccountPage(): JSX.Element {\r\n  const { client, typeRegistry } = React.useContext(ClientContext);\r\n  const { address: addressParam } = useParams<{ readonly address: string }>();\r\n  const address = addressParam || \"\";\r\n\r\n  const [balance, setBalance] = React.useState<readonly ICoin[] | ErrorState | LoadingState>(loadingState);\r\n  const [transfers, setTransfers] = React.useState<readonly Transfer[] | ErrorState | LoadingState>(\r\n    loadingState,\r\n  );\r\n\r\n  React.useEffect(\r\n    isStargateClient(client)\r\n      ? stargateEffect(client, address, typeRegistry, setBalance, setTransfers)\r\n      : () => {},\r\n    [address, client, typeRegistry],\r\n  );\r\n\r\n  const pageTitle = <span title={address}>Account {ellideMiddle(address, 15)}</span>;\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header />\r\n      <div className=\"container mt-3 contract-container\">\r\n        <div className=\"row white-row white-row-first\">\r\n          <div className=\"col\">\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\">\r\n                  <Link to=\"/\">Home</Link>\r\n                </li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                  {pageTitle}\r\n                </li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row white-row\">\r\n          <div className=\"col\">\r\n            <h1>{pageTitle}</h1>\r\n            <ul className=\"list-group list-group-horizontal mb-3\">\r\n              <li className=\"list-group-item\" title=\"Bank tokens owned by this contract\">\r\n                Balance:{\" \"}\r\n                {isLoadingState(balance)\r\n                  ? \"Loading …\"\r\n                  : isErrorState(balance)\r\n                  ? \"Error\"\r\n                  : printableBalance(balance)}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row white-row white-row-last\">\r\n          <div className=\"col\">\r\n            <h2>Token transfers</h2>\r\n            <p>Incoming and outgoing bank token transfers</p>\r\n            {isLoadingState(transfers) ? (\r\n              <p>Loading …</p>\r\n            ) : isErrorState(transfers) ? (\r\n              <p>Error</p>\r\n            ) : transfers.length === 0 ? (\r\n              <p>No transfer found</p>\r\n            ) : (\r\n              <TransfersTable transfers={transfers} />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <FooterRow />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export interface Tag {\r\n  readonly key: string;\r\n  readonly value: string;\r\n}\r\n\r\nexport function makeTags(oneLiner: string): Tag[] {\r\n  return oneLiner.split(\"&\").map((pair) => {\r\n    if (pair.indexOf(\"=\") === -1) throw new Error(\"Parsing error: Equal sign missing\");\r\n    const parts = pair.split(\"=\");\r\n    if (parts.length > 2) {\r\n      throw new Error(\r\n        \"Parsing error: Multiple equal signs found. If you need escaping support, please create a PR.\",\r\n      );\r\n    }\r\n    const [key, value] = parts;\r\n    if (!key) throw new Error(\"Parsing error: Key must not be empty\");\r\n    return { key, value };\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport { quote } from \"shell-quote\";\r\n\r\ninterface Props {\r\n  readonly checksum: string;\r\n  readonly source: string | undefined;\r\n  readonly builder: string | undefined;\r\n}\r\n\r\nfunction VerifyContract({ checksum, source, builder }: Props): JSX.Element {\r\n  if (!source || !builder) {\r\n    return (\r\n      <span>\r\n        Contract cannot be verified since <code>builder</code> or <code>source</code> is missing\r\n      </span>\r\n    );\r\n  }\r\n\r\n  const verificationCmd = quote([\"cosmwasm-verify\", source, builder, checksum]);\r\n\r\n  return <code>{verificationCmd}</code>;\r\n}\r\n\r\nexport default VerifyContract;\r\n","import { CodeDetails } from \"@cosmjs/cosmwasm-stargate\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { TransactionLink } from \"../../components/TransactionLink\";\r\nimport { ErrorState, isErrorState, isLoadingState, LoadingState } from \"../../ui-utils/states\";\r\nimport VerifyContract from \"./VerifyContract\";\r\n\r\ninterface Props {\r\n  readonly code: CodeDetails;\r\n  readonly uploadTxHash: string | undefined | ErrorState | LoadingState;\r\n}\r\n\r\nexport function CodeInfo({ code, uploadTxHash }: Props): JSX.Element {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item\">\r\n          Upload transaction:{\" \"}\r\n          {isLoadingState(uploadTxHash) ? (\r\n            \"Loading …\"\r\n          ) : isErrorState(uploadTxHash) ? (\r\n            \"Error\"\r\n          ) : uploadTxHash === undefined ? (\r\n            \"–\"\r\n          ) : (\r\n            <TransactionLink transactionId={uploadTxHash} />\r\n          )}\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          Creator: <AccountLink address={code.creator} maxLength={null} />\r\n        </li>\r\n        <li className=\"list-group-item\">Checksum: {code.checksum}</li>\r\n        <li className=\"list-group-item\">Source: {code.source || \"–\"}</li>\r\n        <li className=\"list-group-item\">Builder: {code.builder || \"–\"}</li>\r\n        <li className=\"list-group-item\">\r\n          <p className=\"text-muted\">\r\n            Code verification allows you to verify that uploaded code was compiled from the source it claims.{\" \"}\r\n            <a href=\"https://github.com/CosmWasm/cosmwasm-verify\" className=\"text-muted\">\r\n              Tell me more!\r\n            </a>\r\n          </p>\r\n          <p className=\"mb-0\">\r\n            <VerifyContract checksum={code.checksum} source={code.source} builder={code.builder} />\r\n          </p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { ellideMiddle } from \"../ui-utils\";\r\n\r\ninterface Props {\r\n  readonly address: string;\r\n  readonly maxLength?: number | null;\r\n}\r\n\r\nexport function ContractLink({ address, maxLength = 20 }: Props): JSX.Element {\r\n  return (\r\n    <Link to={`/contracts/${address}`} title={address}>\r\n      {ellideMiddle(address, maxLength || 99999)}\r\n    </Link>\r\n  );\r\n}\r\n","import { Contract } from \"@cosmjs/cosmwasm-stargate\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { ContractLink } from \"../../components/ContractLink\";\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\n\r\ninterface Props {\r\n  readonly position: number;\r\n  readonly contract: string;\r\n}\r\n\r\nfunction InstanceRow({ position, contract }: Props): JSX.Element {\r\n  const { client } = React.useContext(ClientContext);\r\n  const [executionCount, setExecutionCount] = React.useState<number | ErrorState | LoadingState>(\r\n    loadingState,\r\n  );\r\n  const [contractInfo, setContractInfo] = React.useState<Contract | ErrorState | LoadingState>(\r\n    loadingState,\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    const tags = [\r\n      {\r\n        key: \"message.contract_address\",\r\n        value: contract,\r\n      },\r\n      {\r\n        key: \"message.action\",\r\n        value: \"execute\",\r\n      },\r\n    ];\r\n    (client?.searchTx({ tags: tags }) as Promise<ReadonlyArray<{ readonly hash: string }>>)\r\n      .then((execTxs) => setExecutionCount(execTxs.length))\r\n      .catch(() => setExecutionCount(errorState));\r\n\r\n    (client?.getContract(contract) as Promise<Contract>)\r\n        .then((execTxs) => setContractInfo(execTxs))\r\n        .catch(() => setContractInfo(errorState));\r\n  }, [client, contract]);\r\n\r\n  return isLoadingState(contractInfo) \r\n    ? (<tr><td>Loading ...</td></tr>) \r\n    : isErrorState(contractInfo)\r\n    ? (<tr><td>Error ...</td></tr>) \r\n    : (\r\n    <tr>\r\n      <th scope=\"row\">{position}</th>\r\n      <td>{contractInfo.label}</td>\r\n      <td>\r\n      <ContractLink address={contractInfo.address} />\r\n      </td>\r\n      <td>\r\n        <AccountLink address={contractInfo.creator} />\r\n      </td>\r\n      <td>{contractInfo.admin ? <AccountLink address={contractInfo.admin} /> : \"–\"}</td>\r\n      <td>\r\n        {isLoadingState(executionCount)\r\n          ? \"Loading …\"\r\n          : isErrorState(executionCount)\r\n          ? \"Error\"\r\n          : executionCount}\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default InstanceRow;\r\n","import React from \"react\";\r\n\r\nexport function InstancesEmptyState(): JSX.Element {\r\n  return <p>Code is not yet instantiated</p>;\r\n}\r\n","import \"./CodePage.css\";\r\n\r\nimport { CodeDetails } from \"@cosmjs/cosmwasm-stargate\";\r\nimport React from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport { FooterRow } from \"../../components/FooterRow\";\r\nimport { Header } from \"../../components/Header\";\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { makeTags } from \"../../ui-utils/sdkhelpers\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\nimport { CodeInfo } from \"./CodeInfo\";\r\nimport InstanceRow from \"./InstanceRow\";\r\nimport { InstancesEmptyState } from \"./InstancesEmptyState\";\r\nimport { CosmWasmClient } from \"@cosmjs/cosmwasm-stargate\";\r\n\r\nexport function CodePage(): JSX.Element {\r\n  const { client } = React.useContext(ClientContext);\r\n  const { codeId: codeIdParam } = useParams<{ readonly codeId: string }>();\r\n  const codeId = parseInt(codeIdParam || \"0\", 10);\r\n\r\n  const [details, setDetails] = React.useState<CodeDetails | ErrorState | LoadingState>(loadingState);\r\n  const [contracts, setContracts] = React.useState<readonly string[] | ErrorState | LoadingState>(\r\n    loadingState,\r\n  );\r\n  const [uploadTxHash, setUploadTxHash] = React.useState<string | undefined | ErrorState | LoadingState>(\r\n    loadingState,\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    client\r\n      ?.getContracts(codeId)\r\n      .then(setContracts)\r\n      .catch(() => setContracts(errorState));\r\n    client\r\n      ?.getCodeDetails(codeId)\r\n      .then(setDetails)\r\n      .catch(() => setDetails(errorState));\r\n    (client?.searchTx({\r\n      tags: makeTags(`message.module=wasm&message.action=store-code&message.code_id=${codeId}`),\r\n    }) as Promise<ReadonlyArray<{ readonly hash: string }>>)?.then((results) => {\r\n      const first = results.find(() => true);\r\n      setUploadTxHash(first?.hash);\r\n    });\r\n  }, [client, codeId]);\r\n\r\n  const pageTitle = <span>Code #{codeId}</span>;\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header />\r\n      <div className=\"container mt-3\">\r\n        <div className=\"row white-row white-row-first\">\r\n          <div className=\"col\">\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\">\r\n                  <Link to=\"/codes\">Codes</Link>\r\n                </li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                  {pageTitle}\r\n                </li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n        <div className=\"row white-row\">\r\n          <div className=\"col\">\r\n            <h1>{pageTitle}</h1>\r\n            <ul className=\"list-group list-group-horizontal mb-3\">\r\n              <li className=\"list-group-item\">Type: Wasm</li>\r\n              <li className=\"list-group-item\">\r\n                Size:{\" \"}\r\n                {isLoadingState(details)\r\n                  ? \"Loading …\"\r\n                  : isErrorState(details)\r\n                  ? \"Error\"\r\n                  : Math.round(details.data.length / 1024) + \" KiB\"}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"col\">\r\n            {isLoadingState(details) ? (\r\n              <span>Loading …</span>\r\n            ) : isErrorState(details) ? (\r\n              <span>Error</span>\r\n            ) : (\r\n              <CodeInfo code={details} uploadTxHash={uploadTxHash} />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"row white-row white-row-last\">\r\n          <div className=\"col\">\r\n            <h2>Instances</h2>\r\n            {isLoadingState(contracts) ? (\r\n              <p>Loading …</p>\r\n            ) : isErrorState(contracts) ? (\r\n              <p>Error loading instances</p>\r\n            ) : contracts.length === 0 ? (\r\n              <InstancesEmptyState />\r\n            ) : (\r\n              <table className=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Label</th>\r\n                    <th scope=\"col\">Contract</th>\r\n                    <th scope=\"col\">Creator</th>\r\n                    <th scope=\"col\">Admin</th>\r\n                    <th scope=\"col\">Executions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {contracts.map((contract, index) => (\r\n                    <InstanceRow position={index + 1} contract={contract} key={contract} />\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <FooterRow />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./Code.css\";\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { ellideMiddle } from \"../../ui-utils\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\nimport { Contract, CosmWasmClient } from \"@cosmjs/cosmwasm-stargate\";\r\n\r\nexport interface CodeData {\r\n  readonly codeId: number;\r\n  readonly checksum: string;\r\n  readonly creator: string;\r\n  readonly source: string;\r\n  readonly builder: string;\r\n}\r\n\r\ninterface Props {\r\n  readonly data: CodeData;\r\n  readonly index: number;\r\n}\r\n\r\ninterface InstantiationInfo {\r\n  readonly instantiations: number;\r\n}\r\n\r\nexport function Code({ data, index }: Props): JSX.Element {\r\n  const { client } = React.useContext(ClientContext);\r\n  const [instantiationInfo, setInstantiationInfo] = React.useState<\r\n    InstantiationInfo | ErrorState | LoadingState\r\n  >(loadingState);\r\n\r\n  React.useEffect(() => {\r\n    client\r\n      ?.getContracts(data.codeId)\r\n      .then((contracts) => {\r\n        setInstantiationInfo({\r\n          instantiations: contracts.length,\r\n        });\r\n      })\r\n      .catch(() => setInstantiationInfo(errorState));\r\n    // Don't make clientContext.client a dependency. Whenever it changes, this component is recreated entirely\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data.codeId]);\r\n\r\n  return (\r\n    <div className={\"flex-element-two-two mb-3\" + (index % 2 ? \" pl-lg-2\" : \" pr-lg-2\")}>\r\n      <Link to={`/codes/${data.codeId}`} className=\"code-content\">\r\n        <div className=\"id\">#{data.codeId}</div>\r\n        <div className=\"details\">\r\n          Creator: {ellideMiddle(data.creator, 30)}\r\n          <br />\r\n          Source: {ellideMiddle(data.source, 42) || \"–\"}\r\n          <br />\r\n          Builder: {data.builder || \"–\"}\r\n          <br />\r\n          Checksum: {data.checksum.slice(0, 10)}\r\n          <br />\r\n          Instances:{\" \"}\r\n          {isLoadingState(instantiationInfo)\r\n            ? \"Loading …\"\r\n            : isErrorState(instantiationInfo)\r\n            ? \"Error\"\r\n            : instantiationInfo.instantiations}\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import \"./Codes.css\";\r\n\r\nimport React from \"react\";\r\n\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\nimport { Code, CodeData } from \"./Code\";\r\n\r\ninterface LoadedCode {\r\n  readonly source: string;\r\n  readonly data: CodeData;\r\n}\r\n\r\nfunction codeKey(code: LoadedCode): string {\r\n  return `${code.source}__${code.data.codeId}`;\r\n}\r\n\r\nexport function Codes(): JSX.Element {\r\n  const { client, nodeUrl } = React.useContext(ClientContext);\r\n  const [codes, setCodes] = React.useState<readonly LoadedCode[] | ErrorState | LoadingState>(loadingState);\r\n\r\n  React.useEffect(() => {\r\n    client\r\n      ?.getCodes()\r\n      .then((codeInfos) => {\r\n        const processed = codeInfos\r\n          .map(\r\n            (response): LoadedCode => ({\r\n              source: nodeUrl,\r\n              data: {\r\n                codeId: response.id,\r\n                checksum: response.checksum,\r\n                creator: response.creator,\r\n                source: response.source || \"\",\r\n                builder: response.builder || \"\",\r\n              },\r\n            }),\r\n          )\r\n          .reverse();\r\n        setCodes(processed);\r\n      })\r\n      .catch(() => setCodes(errorState));\r\n  }, [client, nodeUrl]);\r\n\r\n  // Display codes vertically on small devices and in a flex container on large and above\r\n  return (\r\n    <div className=\"d-lg-flex flex-wrap\">\r\n      {isLoadingState(codes) ? (\r\n        <p>Loading …</p>\r\n      ) : isErrorState(codes) ? (\r\n        <p>Error loading codes</p>\r\n      ) : codes.length === 0 ? (\r\n        <p>No code uploaded yet</p>\r\n      ) : (\r\n        codes.map((code, index) => <Code data={code.data} index={index} key={codeKey(code)} />)\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { FooterRow } from \"../../components/FooterRow\";\r\nimport { Header } from \"../../components/Header\";\r\nimport { Codes } from \"./Codes\";\r\n\r\nexport function CodesPage(): JSX.Element {\r\n  return (\r\n    <div className=\"page\">\r\n      <Header />\r\n      <div className=\"container mt-3\">\r\n        <div className=\"row white-row white-row-first\">\r\n          <div className=\"col\">\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                  Codes\r\n                </li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n        <div className=\"row white-row white-row-last\">\r\n          <div className=\"col\">\r\n            <Codes />\r\n          </div>\r\n        </div>\r\n        <FooterRow />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  readonly codeId: number;\r\n  readonly text?: string;\r\n}\r\n\r\nexport function CodeLink({ codeId, text }: Props): JSX.Element {\r\n  return <Link to={`/codes/${codeId}`}>{text || `Code #${codeId}`}</Link>;\r\n}\r\n","// Place error box below text box, so appearing error does not push text box down\r\nexport const jsonInputStyle = {\r\n  container: { display: \"flex\", flexDirection: \"column\" },\r\n  body: { order: \"1\" },\r\n  warningBox: { order: \"2\" },\r\n};\r\n","import { ExecuteResult } from \"@cosmjs/cosmwasm-stargate\";\r\nimport { Coin } from \"@cosmjs/stargate\";\r\nimport React from \"react\";\r\nimport JSONInput from \"react-json-editor-ajrm\";\r\n\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { settings } from \"../../settings\";\r\nimport { isStargateSigningClient } from \"../../ui-utils/clients\";\r\nimport { jsonInputStyle } from \"../../ui-utils/jsonInput\";\r\nimport { Result } from \"./ContractPage\";\r\n\r\nconst executePlaceholder = {\r\n  transfer: { recipient: \"juno14vhcdsyf83ngsrrqc92kmw8q9xakqjm0ff2dpn\", amount: \"1\" },\r\n};\r\n\r\nconst coinsPlaceholder = [{ denom: settings.backend.denominations[0], amount: \"1\" }];\r\n\r\ninterface Props {\r\n  readonly contractAddress: string;\r\n}\r\n\r\nexport function ExecuteContract({ contractAddress }: Props): JSX.Element {\r\n  const { userAddress, signingClient } = React.useContext(ClientContext);\r\n\r\n  const [executing, setExecuting] = React.useState(false);\r\n  const [error, setError] = React.useState<string>();\r\n\r\n  const [memo, setMemo] = React.useState<string>();\r\n\r\n  const [msgObject, setMsgObject] = React.useState<Result<Record<string, any>>>();\r\n  const [coinsObject, setCoinsObject] = React.useState<Result<ReadonlyArray<Coin>>>();\r\n\r\n  const [executeResponse, setExecuteResponse] = React.useState<Result<ExecuteResult>>();\r\n\r\n  React.useEffect(() => {\r\n    setMsgObject({ result: executePlaceholder });\r\n    setCoinsObject({ result: coinsPlaceholder });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (msgObject?.error) {\r\n      setError(msgObject.error);\r\n      return;\r\n    }\r\n\r\n    if (executeResponse?.error) {\r\n      setError(executeResponse.error);\r\n      return;\r\n    }\r\n\r\n    if (coinsObject?.error) {\r\n      setError(coinsObject.error);\r\n      return;\r\n    }\r\n\r\n    setError(undefined);\r\n  }, [coinsObject, executeResponse, msgObject]);\r\n\r\n  async function executeContract(): Promise<void> {\r\n    if (!msgObject?.result || !userAddress || !signingClient) return;\r\n\r\n    setExecuting(true);\r\n\r\n    try {\r\n      if (isStargateSigningClient(signingClient)) {\r\n        const executeResponseResult: ExecuteResult = await signingClient.execute(\r\n          userAddress,\r\n          contractAddress,\r\n          msgObject.result,\r\n          memo,\r\n          coinsObject?.result,\r\n        );\r\n        setExecuteResponse({ result: executeResponseResult });\r\n      }\r\n    } catch (error) {\r\n      setExecuteResponse({ error: `Execute error: ${error.message}` });\r\n    }\r\n\r\n    setExecuting(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <span title=\"The contract query input\">Execute contract:</span>\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <JSONInput\r\n            width=\"100%\"\r\n            height=\"200px\"\r\n            placeholder={executePlaceholder}\r\n            confirmGood={false}\r\n            style={jsonInputStyle}\r\n            onChange={({ jsObject }: any) => setMsgObject({ result: jsObject })}\r\n          />\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <span title=\"The contract query input\">Coins to transfer:</span>\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <JSONInput\r\n            width=\"100%\"\r\n            height=\"120px\"\r\n            placeholder={coinsPlaceholder}\r\n            confirmGood={false}\r\n            style={jsonInputStyle}\r\n            onChange={({ jsObject }: any) => setCoinsObject({ result: jsObject })}\r\n          />\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <span title=\"The contract query input\">Memo:</span>\r\n          <input\r\n            className=\"ml-3 flex-grow-1\"\r\n            value={memo}\r\n            onChange={(event) => setMemo(event.target.value)}\r\n          />\r\n        </li>\r\n        <div className=\"list-group-item btn-group\">\r\n          {executing ? (\r\n            <button className=\"btn btn-primary\" type=\"button\" disabled>\r\n              <span className=\"spinner-border spinner-border-sm mr-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n              Executing...\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={executeContract}\r\n              disabled={!msgObject?.result || !signingClient}\r\n            >\r\n              Execute contract\r\n            </button>\r\n          )}\r\n        </div>\r\n        {executeResponse?.result ? (\r\n          <li className=\"list-group-item\">\r\n            <span title=\"The contract formatted input\">Response:</span>\r\n            <pre className=\"mb-0\">{JSON.stringify(executeResponse.result, undefined, \"  \")}</pre>\r\n          </li>\r\n        ) : null}\r\n        {error ? (\r\n          <li className=\"list-group-item\">\r\n            <span className=\"text-danger\" title=\"The contract query error\">\r\n              {error}\r\n            </span>\r\n          </li>\r\n        ) : null}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import { MsgExecuteContract } from \"@cosmjs/cosmwasm-stargate/build/codec/cosmwasm/wasm/v1beta1/tx\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { TransactionLink } from \"../../components/TransactionLink\";\r\n\r\nexport interface Execution {\r\n  readonly key: string;\r\n  readonly height: number;\r\n  readonly transactionId: string;\r\n  readonly msg: MsgExecuteContract;\r\n}\r\n\r\ninterface Props {\r\n  readonly executions: readonly Execution[];\r\n}\r\n\r\nexport function ExecutionsTable({ executions }: Props): JSX.Element {\r\n  return (\r\n    <table className=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">#</th>\r\n          <th scope=\"col\">Height</th>\r\n          <th scope=\"col\">Transaction ID</th>\r\n          <th scope=\"col\">Sender</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {executions.map((execution, index) => (\r\n          <tr key={execution.key}>\r\n            <th scope=\"row\">{index + 1}</th>\r\n            <td>{execution.height}</td>\r\n            <td>\r\n              <TransactionLink transactionId={execution.transactionId} />\r\n            </td>\r\n            <td>\r\n              <AccountLink address={execution.msg.sender} />\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n","import { ContractCodeHistoryEntry } from \"@cosmjs/cosmwasm-stargate\";\r\nimport React from \"react\";\r\n\r\nimport { CodeLink } from \"../../components/CodeLink\";\r\n\r\ninterface Props {\r\n  readonly contractCodeHistory: readonly ContractCodeHistoryEntry[];\r\n}\r\n\r\nexport function HistoryInfo({ contractCodeHistory }: Props): JSX.Element {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item\">\r\n          <span title=\"The contract level message history\">History</span>\r\n        </li>\r\n        {contractCodeHistory.map((entry, index) => (\r\n          <li key={index} className=\"list-group-item\">\r\n            <span title=\"The message operation type\">\r\n              {entry.operation} - <CodeLink codeId={entry.codeId} />\r\n            </span>\r\n            <pre className=\"mb-0\">{JSON.stringify(entry.msg, null, \"  \")}</pre>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import { Contract } from \"@cosmjs/cosmwasm-stargate\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { TransactionLink } from \"../../components/TransactionLink\";\r\nimport { ErrorState, isErrorState, isLoadingState, LoadingState } from \"../../ui-utils/states\";\r\n\r\ninterface Props {\r\n  readonly contract: Contract;\r\n  readonly instantiationTxHash: string | undefined | ErrorState | LoadingState;\r\n}\r\n\r\nexport function InitializationInfo({ contract, instantiationTxHash }: Props): JSX.Element {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item\">\r\n          Instantiation transaction:{\" \"}\r\n          {isLoadingState(instantiationTxHash) ? (\r\n            \"Loading …\"\r\n          ) : isErrorState(instantiationTxHash) ? (\r\n            \"Error\"\r\n          ) : instantiationTxHash === undefined ? (\r\n            \"–\"\r\n          ) : (\r\n            <TransactionLink transactionId={instantiationTxHash} />\r\n          )}\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          Creator: <AccountLink address={contract.creator} maxLength={null} />\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          Admin: {contract.admin ? <AccountLink address={contract.admin} maxLength={null} /> : \"–\"}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport JSONInput from \"react-json-editor-ajrm\";\r\n\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { jsonInputStyle } from \"../../ui-utils/jsonInput\";\r\nimport { Result } from \"./ContractPage\";\r\n\r\n// eslint-disable-next-line @typescript-eslint/camelcase\r\nconst queryPlaceholder = { balance: { address: \"juno14vhcdsyf83ngsrrqc92kmw8q9xakqjm0ff2dpn\" } };\r\n\r\ninterface Props {\r\n  readonly contractAddress: string;\r\n}\r\n\r\nexport function QueryContract({ contractAddress }: Props): JSX.Element {\r\n  const { client } = React.useContext(ClientContext);\r\n\r\n  const [error, setError] = React.useState<string>();\r\n  const [queryObject, setQueryObject] = React.useState<Result<Record<string, any>>>();\r\n  const [queryResponse, setQueryResponse] = React.useState<Result<string>>();\r\n\r\n  React.useEffect(() => {\r\n    setQueryObject({ result: queryPlaceholder });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (queryObject?.error) {\r\n      setError(queryObject.error);\r\n      return;\r\n    }\r\n\r\n    if (queryResponse?.error) {\r\n      setError(queryResponse.error);\r\n      return;\r\n    }\r\n\r\n    setError(undefined);\r\n  }, [queryObject, queryResponse]);\r\n\r\n  async function runQuery(): Promise<void> {\r\n    if (!client || !queryObject?.result) return;\r\n\r\n    try {\r\n      const queryResponseResult: Record<string, any> = await client.queryContractSmart(\r\n        contractAddress,\r\n        queryObject.result,\r\n      );\r\n\r\n      const formattedResult = JSON.stringify(queryResponseResult, null, \"  \");\r\n      setQueryResponse({ result: formattedResult });\r\n    } catch (error) {\r\n      setQueryResponse({ error: `Query error: ${error.message}` });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <span title=\"The contract query input\">Query contract:</span>\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <JSONInput\r\n            width=\"100%\"\r\n            height=\"200px\"\r\n            placeholder={queryPlaceholder}\r\n            confirmGood={false}\r\n            style={jsonInputStyle}\r\n            onChange={({ jsObject }: any) => setQueryObject({ result: jsObject })}\r\n          />\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            style={{ cursor: client && queryObject?.result ? \"pointer\" : \"not-allowed\" }}\r\n            onClick={runQuery}\r\n            disabled={!queryObject?.result}\r\n          >\r\n            Run query\r\n          </button>\r\n        </li>\r\n        {queryResponse?.result ? (\r\n          <li className=\"list-group-item\">\r\n            <span title=\"The query response\">Response:</span>\r\n            <pre className=\"mb-0\">{queryResponse.result}</pre>\r\n          </li>\r\n        ) : null}\r\n        {error ? (\r\n          <li className=\"list-group-item\">\r\n            <span className=\"text-danger\" title=\"The contract query error\">\r\n              {error}\r\n            </span>\r\n          </li>\r\n        ) : null}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import \"./ContractPage.css\";\r\n\r\nimport {\r\n  Contract,\r\n  ContractCodeHistoryEntry,\r\n} from \"@cosmjs/cosmwasm-stargate\";\r\nimport { Coin } from \"@cosmjs/stargate\";\r\nimport { Registry } from \"@cosmjs/proto-signing\";\r\nimport { IndexedTx } from \"@cosmjs/stargate\";\r\nimport React from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport { CodeLink } from \"../../components/CodeLink\";\r\nimport { FooterRow } from \"../../components/FooterRow\";\r\nimport { Header } from \"../../components/Header\";\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { settings } from \"../../settings\";\r\nimport { ellideMiddle, printableBalance } from \"../../ui-utils\";\r\nimport { isStargateClient, StargateClient } from \"../../ui-utils/clients\";\r\nimport { makeTags } from \"../../ui-utils/sdkhelpers\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\nimport { ExecuteContract } from \"./ExecuteContract\";\r\nimport { Execution, ExecutionsTable } from \"./ExecutionsTable\";\r\nimport { HistoryInfo } from \"./HistoryInfo\";\r\nimport { InitializationInfo } from \"./InitializationInfo\";\r\nimport { QueryContract } from \"./QueryContract\";\r\nimport { Tx } from \"@cosmjs/stargate/build/codec/cosmos/tx/v1beta1/tx\";\r\nimport { Any } from \"@cosmjs/stargate/build/codec/google/protobuf/any\"\r\nimport { Coin as CosmosICoin } from \"@cosmjs/stargate/build/codec/cosmos/base/v1beta1/coin\";\r\n\r\ntype ICoin = CosmosICoin;\r\ntype IAny = Any;\r\n\r\ntype IAnyMsgExecuteContract = {\r\n  readonly typeUrl: \"/cosmwasm.wasm.v1beta1.MsgExecuteContract\";\r\n  readonly value: Uint8Array;\r\n};\r\n\r\nexport type Result<T> = { readonly result?: T; readonly error?: string };\r\n\r\nfunction isStargateMsgExecuteContract(msg: IAny): msg is IAnyMsgExecuteContract {\r\n  return msg.typeUrl === \"/cosmwasm.wasm.v1beta1.MsgExecuteContract\" && !!msg.value;\r\n}\r\n\r\nconst getAndSetDetails = (\r\n  client: StargateClient,\r\n  contractAddress: string,\r\n  setDetails: (details: Contract | ErrorState | LoadingState) => void,\r\n): void => {\r\n  client\r\n    .getContract(contractAddress)\r\n    .then(setDetails)\r\n    .catch(() => setDetails(errorState));\r\n};\r\n\r\nconst getAndSetContractCodeHistory = (\r\n  client: StargateClient,\r\n  contractAddress: string,\r\n  setContractCodeHistory: (contractCodeHistory: readonly ContractCodeHistoryEntry[]) => void,\r\n): void => {\r\n  client\r\n    .getContractCodeHistory(contractAddress)\r\n    .then(setContractCodeHistory)\r\n    .catch((error) => {\r\n      console.error(error);\r\n    });\r\n};\r\n\r\nconst getAndSetInstantiationTxHash = (\r\n  client: StargateClient,\r\n  contractAddress: string,\r\n  setInstantiationTxHash: (instantiationTxHash: string | undefined | ErrorState | LoadingState) => void,\r\n): void => {\r\n  (client.searchTx({\r\n    tags: makeTags(\r\n      `message.module=wasm&message.action=instantiate&message.contract_address=${contractAddress}`,\r\n    ),\r\n  }) as Promise<ReadonlyArray<{ readonly hash: string }>>)\r\n    .then((results) => {\r\n      const first = results.find(() => true);\r\n      setInstantiationTxHash(first?.hash);\r\n    })\r\n    .catch(() => setInstantiationTxHash(errorState));\r\n};\r\n\r\nfunction getExecutionFromStargateMsgExecuteContract(typeRegistry: Registry, tx: IndexedTx) {\r\n  return (msg: IAnyMsgExecuteContract, i: number) => {\r\n    const decodedMsg = typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value });\r\n    return {\r\n      key: `${tx.hash}_${i}`,\r\n      height: tx.height,\r\n      transactionId: tx.hash,\r\n      msg: decodedMsg,\r\n    };\r\n  };\r\n}\r\n\r\nconst stargateEffect = (\r\n  client: StargateClient,\r\n  contractAddress: string,\r\n  typeRegistry: Registry,\r\n  setBalance: (balance: readonly ICoin[] | ErrorState | LoadingState) => void,\r\n  setContractCodeHistory: (contractCodeHistory: readonly ContractCodeHistoryEntry[]) => void,\r\n  setDetails: (details: Contract | ErrorState | LoadingState) => void,\r\n  setExecutions: (executions: readonly Execution[] | ErrorState | LoadingState) => void,\r\n  setInstantiationTxHash: (instantiationTxHash: string | undefined | ErrorState | LoadingState) => void,\r\n) => () => {\r\n  getAndSetContractCodeHistory(client, contractAddress, setContractCodeHistory);\r\n  getAndSetDetails(client, contractAddress, setDetails);\r\n  getAndSetInstantiationTxHash(client, contractAddress, setInstantiationTxHash);\r\n\r\n  Promise.all(settings.backend.denominations.map((denom) => client.getBalance(contractAddress, denom)))\r\n    .then((balances) => {\r\n      const filteredBalances = balances.filter((balance): balance is Coin => balance !== null);\r\n      setBalance(filteredBalances);\r\n    })\r\n    .catch(() => setBalance(errorState));\r\n\r\n  client\r\n    .searchTx({\r\n      tags: makeTags(`message.contract_address=${contractAddress}&message.action=execute`),\r\n    })\r\n    .then((txs) => {\r\n      const out = txs.reduce((executions: readonly Execution[], tx: IndexedTx): readonly Execution[] => {\r\n        const decodedTx = Tx.decode(tx.tx);\r\n        const txExecutions = (decodedTx?.body?.messages ?? [])\r\n          .filter(isStargateMsgExecuteContract)\r\n          .map(getExecutionFromStargateMsgExecuteContract(typeRegistry, tx));\r\n        return [...executions, ...txExecutions];\r\n      }, []);\r\n      setExecutions(out);\r\n    })\r\n    .catch(() => setExecutions(errorState));\r\n};\r\n\r\nexport function ContractPage(): JSX.Element {\r\n  const { client, typeRegistry } = React.useContext(ClientContext);\r\n  const { contractAddress: contractAddressParam } = useParams<{ readonly contractAddress: string }>();\r\n  const contractAddress = contractAddressParam || \"\";\r\n\r\n  const [details, setDetails] = React.useState<Contract | ErrorState | LoadingState>(loadingState);\r\n  const [balance, setBalance] = React.useState<readonly ICoin[] | ErrorState | LoadingState>(loadingState);\r\n  const [instantiationTxHash, setInstantiationTxHash] = React.useState<\r\n    string | undefined | ErrorState | LoadingState\r\n  >(loadingState);\r\n  const [contractCodeHistory, setContractCodeHistory] = React.useState<readonly ContractCodeHistoryEntry[]>(\r\n    [],\r\n  );\r\n  const [executions, setExecutions] = React.useState<readonly Execution[] | ErrorState | LoadingState>(\r\n    loadingState,\r\n  );\r\n\r\n  React.useEffect(\r\n    isStargateClient(client)\r\n      ? stargateEffect(\r\n          client,\r\n          contractAddress,\r\n          typeRegistry,\r\n          setBalance,\r\n          setContractCodeHistory,\r\n          setDetails,\r\n          setExecutions,\r\n          setInstantiationTxHash,\r\n        )\r\n      : () => {},\r\n    [client, contractAddress, typeRegistry],\r\n  );\r\n\r\n  const pageTitle = <span title={contractAddress}>Contract {ellideMiddle(contractAddress, 15)}</span>;\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header />\r\n      <div className=\"container mt-3 contract-container\">\r\n        <div className=\"row white-row white-row-first\">\r\n          <div className=\"col\">\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\">\r\n                  <Link to=\"/codes\">Codes</Link>\r\n                </li>\r\n                <li className=\"breadcrumb-item\">\r\n                  {isLoadingState(details) ? (\r\n                    <span>Loading …</span>\r\n                  ) : isErrorState(details) ? (\r\n                    <span>Error</span>\r\n                  ) : (\r\n                    <CodeLink codeId={details.codeId} />\r\n                  )}\r\n                </li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                  {pageTitle}\r\n                </li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n        <div className=\"row white-row\">\r\n          <div className=\"col-12 col-md-6\">\r\n            <h1>{pageTitle}</h1>\r\n            <ul className=\"list-group list-group-horizontal mb-3\">\r\n              <li className=\"list-group-item\" title=\"Bank tokens owned by this contract\">\r\n                Balance:{\" \"}\r\n                {isLoadingState(balance)\r\n                  ? \"Loading …\"\r\n                  : isErrorState(balance)\r\n                  ? \"Error\"\r\n                  : printableBalance(balance)}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"col-12 col-md-6\">\r\n            {isLoadingState(details) ? (\r\n              <p>Loading …</p>\r\n            ) : isErrorState(details) ? (\r\n              <p>An Error occurred when loading contract</p>\r\n            ) : (\r\n              <>\r\n                <InitializationInfo contract={details} instantiationTxHash={instantiationTxHash} />\r\n                <HistoryInfo contractCodeHistory={contractCodeHistory} />\r\n                <QueryContract contractAddress={contractAddress} />\r\n                <ExecuteContract contractAddress={contractAddress} />\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"row white-row white-row-last\">\r\n          <div className=\"col\">\r\n            <h2>Executions</h2>\r\n            {isLoadingState(executions) ? (\r\n              <p>Loading …</p>\r\n            ) : isErrorState(executions) ? (\r\n              <p>An Error occurred when loading transactions</p>\r\n            ) : executions.length !== 0 ? (\r\n              <ExecutionsTable executions={executions} />\r\n            ) : (\r\n              <p>Contract was not yet executed</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <FooterRow />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// import { fromRfc3339 } from \"@cosmjs/encoding\";\r\nimport { IndexedTx } from \"@cosmjs/stargate\";\r\nimport React from \"react\";\r\n\r\nconst checkMark = \"✔\"; // U+2714 HEAVY CHECK MARK\r\nconst xMark = \"🗙\"; // U+1F5D9 CANCELLATION X\r\n\r\ninterface Props {\r\n  readonly tx: IndexedTx;\r\n}\r\n\r\nexport function ExecutionInfo({ tx }: Props): JSX.Element {\r\n  // const time = fromRfc3339(tx.timestamp);\r\n  const success = tx.code === 0;\r\n\r\n  return (\r\n    <ul className=\"list-group list-group-horizontal mb-3\">\r\n      <li className=\"list-group-item\">Height: {tx.height}</li>\r\n      {/* <li className=\"list-group-item\">\r\n        <span title={tx.timestamp}>Time: {time.toLocaleString()}</span>\r\n      </li> */}\r\n      <li className=\"list-group-item\">\r\n        <span title={`Execution succeeded: ${success ? \"yes\" : \"no\"}`}>\r\n          Success: {success ? checkMark : `${xMark} (error code ${tx.code})`}\r\n        </span>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n","import { MsgExecuteContract as MsgExecuteCtr } from \"@cosmjs/cosmwasm-stargate/build/codec/cosmwasm/wasm/v1beta1/tx\";\r\nimport React, { Fragment } from \"react\";\r\n\r\nimport { AccountLink } from \"../../../components/AccountLink\";\r\nimport { ContractLink } from \"../../../components/ContractLink\";\r\nimport { printableBalance } from \"../../../ui-utils\";\r\n\r\ntype IMsgExecuteContract = MsgExecuteCtr;\r\n\r\ninterface Props {\r\n  readonly msg: IMsgExecuteContract;\r\n}\r\n\r\nexport function MsgExecuteContract({ msg }: Props): JSX.Element {\r\n  return (\r\n    <Fragment>\r\n      <li className=\"list-group-item\">\r\n        Contract: <ContractLink address={msg.contract ?? \"-\"} maxLength={null} />\r\n      </li>\r\n      <li className=\"list-group-item\">\r\n        Sender: <AccountLink address={msg.sender ?? \"-\"} maxLength={null} />\r\n      </li>\r\n      <li className=\"list-group-item\">Sent funds: {printableBalance(msg.funds ?? [])}</li>\r\n      <li className=\"list-group-item\">\r\n        <span title=\"The contract level message\">Handle message</span>:{\" \"}\r\n        <pre className=\"mb-0\">{JSON.stringify(msg.msg, null, \"  \")}</pre>\r\n      </li>\r\n    </Fragment>\r\n  );\r\n}\r\n","import { MsgInstantiateContract as MsgInitContract } from \"@cosmjs/cosmwasm-stargate/build/codec/cosmwasm/wasm/v1beta1/tx\";\r\nimport React, { Fragment } from \"react\";\r\n\r\nimport { AccountLink } from \"../../../components/AccountLink\";\r\nimport { CodeLink } from \"../../../components/CodeLink\";\r\nimport { printableBalance } from \"../../../ui-utils\";\r\n\r\ntype IMsgInstantiateContract = MsgInitContract;\r\n\r\ninterface Props {\r\n  readonly msg: IMsgInstantiateContract;\r\n}\r\n\r\nexport function MsgInstantiateContract({ msg }: Props): JSX.Element {\r\n  return (\r\n    <Fragment>\r\n      <li className=\"list-group-item\">\r\n        Sender: <AccountLink address={msg.sender || \"-\"} maxLength={null} />\r\n      </li>\r\n      <li className=\"list-group-item\">\r\n        Code ID: <CodeLink codeId={msg.codeId?.toNumber() ?? 0} text={msg.codeId?.toString() ?? \"-\"} />\r\n      </li>\r\n      <li className=\"list-group-item\">Label: {msg.label}</li>\r\n      <li className=\"list-group-item\">Init funds: {printableBalance(msg.funds ?? [])}</li>\r\n      <li className=\"list-group-item\">\r\n        <span title=\"The contract level message\">Init message</span>:{\" \"}\r\n        <pre className=\"mb-0\">{JSON.stringify(msg.initMsg, null, \"  \")}</pre>\r\n      </li>\r\n    </Fragment>\r\n  );\r\n}\r\n","import { MsgSend as CosmosMsgSend } from \"@cosmjs/stargate/build/codec/cosmos/bank/v1beta1/tx\";\r\nimport React, { Fragment } from \"react\";\r\n\r\nimport { AccountLink } from \"../../../components/AccountLink\";\r\nimport { printableBalance } from \"../../../ui-utils\";\r\n\r\ntype IMsgSend = CosmosMsgSend;\r\n\r\ninterface Props {\r\n  readonly msg: IMsgSend;\r\n}\r\n\r\nexport function MsgSend({ msg }: Props): JSX.Element {\r\n  return (\r\n    <Fragment>\r\n      <li className=\"list-group-item\">\r\n        Sender: <AccountLink address={msg.fromAddress ?? \"-\"} maxLength={null} />\r\n      </li>\r\n      <li className=\"list-group-item\">\r\n        Recipient: <AccountLink address={msg.toAddress ?? \"-\"} maxLength={null} />\r\n      </li>\r\n      <li className=\"list-group-item\">Amount: {printableBalance(msg.amount ?? [])}</li>\r\n    </Fragment>\r\n  );\r\n}\r\n","import { fromHex } from \"@cosmjs/encoding\";\r\n\r\nfunction arrayEqual(a: Uint8Array, b: Uint8Array): boolean {\r\n  if (a.length !== b.length) return false;\r\n  const difference = a.some((byte, index) => b[index] !== byte);\r\n  return !difference;\r\n}\r\n\r\nfunction arrayStartsWith(a: Uint8Array, prefix: Uint8Array): boolean {\r\n  return arrayEqual(a.slice(0, prefix.length), prefix);\r\n}\r\n\r\nconst magic = {\r\n  gzip: fromHex(\"1F8B\"),\r\n  wasm: fromHex(\"0061736d\"),\r\n};\r\n\r\nexport type SupportedTypes = \"gzip\" | \"wasm\";\r\n\r\nexport function getFileType(data: Uint8Array): SupportedTypes | undefined {\r\n  if (arrayStartsWith(data, magic.gzip)) return \"gzip\";\r\n  if (arrayStartsWith(data, magic.wasm)) return \"wasm\";\r\n  return undefined;\r\n}\r\n","import \"./MsgStoreCode.css\";\r\n\r\nimport { MsgStoreCode as MsgStoreC } from \"@cosmjs/cosmwasm-stargate/build/codec/cosmwasm/wasm/v1beta1/tx\";\r\nimport { toBase64 } from \"@cosmjs/encoding\";\r\nimport React, { Fragment } from \"react\";\r\n\r\nimport { AccountLink } from \"../../../components/AccountLink\";\r\nimport { ellideRight } from \"../../../ui-utils\";\r\nimport { getFileType } from \"./magic\";\r\n\r\ntype IMsgStoreCode = MsgStoreC;\r\n\r\ninterface Props {\r\n  readonly msg: IMsgStoreCode;\r\n}\r\n\r\nexport function MsgStoreCode({ msg }: Props): JSX.Element {\r\n  const [showAllCode, setShowAllCode] = React.useState<boolean>(false);\r\n\r\n  const dataInfo = React.useMemo(() => {\r\n    const data = msg.wasmByteCode ?? new Uint8Array();\r\n    return `${getFileType(data) || \"unknown\"}; ${data.length} bytes`;\r\n  }, [msg.wasmByteCode]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <li className=\"list-group-item\">\r\n        Sender: <AccountLink address={msg.sender ?? \"-\"} maxLength={null} />\r\n      </li>\r\n      <li className=\"list-group-item\">Source: {msg.source || \"–\"}</li>\r\n      <li className=\"list-group-item\">Builder: {msg.builder || \"–\"}</li>\r\n      <li className=\"list-group-item\">\r\n        Data: {dataInfo}{\" \"}\r\n        {!showAllCode ? (\r\n          <Fragment>\r\n            <code>{ellideRight(toBase64(msg.wasmByteCode ?? new Uint8Array()), 300)}</code>{\" \"}\r\n            <button className=\"btn btn-sm btn-outline-primary\" onClick={() => setShowAllCode(true)}>\r\n              Show all\r\n            </button>\r\n          </Fragment>\r\n        ) : (\r\n          <code className=\"long-inline-code\">{msg.wasmByteCode}</code>\r\n        )}\r\n      </li>\r\n    </Fragment>\r\n  );\r\n}\r\n","import { Tx } from \"@cosmjs/stargate/build/codec/cosmos/tx/v1beta1/tx\";\r\nimport React from \"react\";\r\n\r\nimport { printableBalance } from \"../../ui-utils\";\r\n\r\ntype ITx = Tx;\r\n\r\ninterface Props {\r\n  readonly tx: ITx;\r\n}\r\n\r\nexport function TxInfo({ tx }: Props): JSX.Element {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item\">Memo: {tx.body?.memo || \"–\"}</li>\r\n        <li className=\"list-group-item\">Fee: {printableBalance(tx.authInfo?.fee?.amount ?? [])}</li>\r\n        <li className=\"list-group-item\">Gas: {tx.authInfo?.fee?.gasLimit?.toString() ?? \"0\"}</li>\r\n        <li className=\"list-group-item\">Signatures: {tx.signatures?.length ?? 0}</li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import \"./TxPage.css\";\r\n\r\nimport { IndexedTx } from \"@cosmjs/stargate\";\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { FooterRow } from \"../../components/FooterRow\";\r\nimport { Header } from \"../../components/Header\";\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { ellideMiddle } from \"../../ui-utils\";\r\nimport { isStargateClient, StargateClient } from \"../../ui-utils/clients\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\nimport {\r\n  isAnyMsgExecuteContract,\r\n  isAnyMsgInstantiateContract,\r\n  isAnyMsgSend,\r\n  isAnyMsgStoreCode,\r\n} from \"../../ui-utils/txs\";\r\nimport { ExecutionInfo } from \"./ExecutionInfo\";\r\nimport { MsgExecuteContract } from \"./msgs/MsgExecuteContract\";\r\nimport { MsgInstantiateContract } from \"./msgs/MsgInstantiateContract\";\r\nimport { MsgSend } from \"./msgs/MsgSend\";\r\nimport { MsgStoreCode } from \"./msgs/MsgStoreCode\";\r\nimport { TxInfo } from \"./TxInfo\";\r\nimport { Tx } from \"@cosmjs/stargate/build/codec/cosmos/tx/v1beta1/tx\"\r\n\r\nconst stargateEffect = (\r\n  client: StargateClient,\r\n  txId: string,\r\n  setDetails: (details: IndexedTx | undefined | ErrorState | LoadingState) => void,\r\n) => (): void => {\r\n  client\r\n    .getTx(txId)\r\n    .then((tx) => {\r\n      setDetails(tx || undefined);\r\n    })\r\n    .catch(() => setDetails(errorState));\r\n};\r\n\r\nexport function TxPage(): JSX.Element {\r\n  const { client, typeRegistry } = React.useContext(ClientContext);\r\n  const { txId: txIdParam } = useParams<{ readonly txId: string }>();\r\n  const txId = txIdParam || \"\";\r\n\r\n  const pageTitle = <span title={txId}>Tx {ellideMiddle(txId, 20)}</span>;\r\n\r\n  const [details, setDetails] = React.useState<IndexedTx | undefined | ErrorState | LoadingState>(\r\n    loadingState,\r\n  );\r\n\r\n  React.useEffect(\r\n    isStargateClient(client)\r\n      ? stargateEffect(client, txId, setDetails)\r\n      : () => {},\r\n    [client, txId, typeRegistry],\r\n  );\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header />\r\n      <div className=\"container mt-3\">\r\n        <div className=\"row white-row white-row-first\">\r\n          <div className=\"col\">\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\">\r\n                  <Link to=\"/\">Home</Link>\r\n                </li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                  {pageTitle}\r\n                </li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row white-row\">\r\n          <div className=\"col\">\r\n            <h1>{pageTitle}</h1>\r\n            {isLoadingState(details) ? (\r\n              <p>Loading...</p>\r\n            ) : isErrorState(details) ? (\r\n              <p>Error</p>\r\n            ) : details === undefined ? (\r\n              <p>Transaction not found</p>\r\n            ) : (\r\n              <ExecutionInfo tx={details} />\r\n            )}\r\n          </div>\r\n          <div className=\"col\">\r\n            {isLoadingState(details) ? (\r\n              <p>Loading …</p>\r\n            ) : isErrorState(details) ? (\r\n              <p>Error</p>\r\n            ) : details === undefined ? (\r\n              <p>Transaction not found</p>\r\n            ) : (\r\n              <TxInfo tx={Tx.decode(details.tx)} />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row white-row white-row-last\">\r\n          <div className=\"col\">\r\n            <h2>Messages</h2>\r\n            <p>\r\n              A Cosmos SDK transaction is composed of one or more messages, that represent actions to be\r\n              executed.\r\n            </p>\r\n            {isLoadingState(details) ? (\r\n              <p>Loading …</p>\r\n            ) : isErrorState(details) ? (\r\n              <p>Error</p>\r\n            ) : details === undefined ? (\r\n              <p>Transaction not found</p>\r\n            ) : (\r\n              Tx.decode(details.tx).body?.messages?.map((msg: any, index: number) => (\r\n                <div className=\"card mb-3\" key={`${details.hash}_${index}`}>\r\n                  <div className=\"card-header\">\r\n                    Message {index + 1} (Type: {msg.typeUrl || <em>unset</em>})\r\n                  </div>\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    {isAnyMsgSend(msg) ? (\r\n                      <MsgSend msg={typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value })} />\r\n                    ) : isAnyMsgStoreCode(msg) ? (\r\n                      <MsgStoreCode msg={typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value })} />\r\n                    ) : isAnyMsgInstantiateContract(msg) ? (\r\n                      <MsgInstantiateContract\r\n                        msg={typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value })}\r\n                      />\r\n                    ) : isAnyMsgExecuteContract(msg) ? (\r\n                      <MsgExecuteContract\r\n                        msg={typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value })}\r\n                      />\r\n                    ) : (\r\n                      <li className=\"list-group-item\">\r\n                        <em>This message type cannot be displayed</em>\r\n                      </li>\r\n                    )}\r\n                  </ul>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <FooterRow />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, HashRouter } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  readonly type: \"browser-router\" | \"hash-router\";\r\n  readonly children: React.ReactNode;\r\n}\r\n\r\nexport function FlexibleRouter({ type, children }: Props): JSX.Element {\r\n  switch (type) {\r\n    case \"browser-router\":\r\n      return <BrowserRouter basename={process.env.PUBLIC_URL}>{children}</BrowserRouter>;\r\n    case \"hash-router\":\r\n      return <HashRouter>{children}</HashRouter>;\r\n  }\r\n}\r\n","import { MsgExecuteContract, MsgInstantiateContract, MsgStoreCode } from \"@cosmjs/cosmwasm-stargate/build/codec/cosmwasm/wasm/v1beta1/tx\";\r\nimport { Registry } from \"@cosmjs/proto-signing\";\r\nimport React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router\";\r\n\r\nimport { ClientContext, ClientContextValue } from \"../contexts/ClientContext\";\r\nimport { AccountPage } from \"../pages/account/AccountPage\";\r\nimport { CodePage } from \"../pages/code/CodePage\";\r\nimport { CodesPage } from \"../pages/codes/CodesPage\";\r\nimport { ContractPage } from \"../pages/contract/ContractPage\";\r\nimport { TxPage } from \"../pages/tx/TxPage\";\r\nimport { settings } from \"../settings\";\r\nimport {\r\n  StargateClient,\r\n  StargateSigningClient,\r\n} from \"../ui-utils/clients\";\r\nimport {\r\n  msgExecuteContractTypeUrl,\r\n  msgInstantiateContractTypeUrl,\r\n  msgStoreCodeTypeUrl,\r\n} from \"../ui-utils/txs\";\r\nimport { FlexibleRouter } from \"./FlexibleRouter\";\r\n\r\nconst { nodeUrls, stargateEnabled } = settings.backend;\r\nconst typeRegistry = new Registry([\r\n  [msgStoreCodeTypeUrl, MsgStoreCode],\r\n  [msgInstantiateContractTypeUrl, MsgInstantiateContract],\r\n  [msgExecuteContractTypeUrl, MsgExecuteContract],\r\n]);\r\n\r\nexport function App(): JSX.Element {\r\n  const [nodeUrl, setNodeUrl] = React.useState(nodeUrls[0]);\r\n  const [userAddress, setUserAddress] = React.useState<string>();\r\n  const [signingClient, setSigningClient] = React.useState<StargateSigningClient>();\r\n  const [contextValue, setContextValue] = React.useState<ClientContextValue>({\r\n    nodeUrl: nodeUrl,\r\n    client: null,\r\n    typeRegistry: typeRegistry,\r\n    resetClient: setNodeUrl,\r\n    userAddress: userAddress,\r\n    setUserAddress: setUserAddress,\r\n    signingClient: signingClient,\r\n    setSigningClient: setSigningClient,\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    (async function updateContextValue() {\r\n      const client = await StargateClient.connect(nodeUrl);\r\n      setContextValue((prevContextValue) => ({ ...prevContextValue, nodeUrl: nodeUrl, client: client }));\r\n    })();\r\n  }, [nodeUrl]);\r\n\r\n  React.useEffect(() => {\r\n    setContextValue((prevContextValue) => ({ ...prevContextValue, signingClient: signingClient }));\r\n  }, [signingClient]);\r\n\r\n  React.useEffect(() => {\r\n    setContextValue((prevContextValue) => ({ ...prevContextValue, userAddress: userAddress }));\r\n  }, [userAddress]);\r\n\r\n  return (\r\n    <ClientContext.Provider value={contextValue}>\r\n      <FlexibleRouter type={settings.deployment.routerType}>\r\n        <Switch>\r\n          <Route exact path=\"/codes\" component={CodesPage} />\r\n          <Route path=\"/codes/:codeId\" component={CodePage} />\r\n          <Route path=\"/contracts/:contractAddress\" component={ContractPage} />\r\n          <Route path=\"/transactions/:txId\" component={TxPage} />\r\n          <Route path=\"/accounts/:address\" component={AccountPage} />\r\n          <Route component={() => <Redirect to=\"/codes\" />} />\r\n        </Switch>\r\n      </FlexibleRouter>\r\n    </ClientContext.Provider>\r\n  );\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.bundle\";\r\nimport \"jquery/dist/jquery.slim\";\r\nimport \"./index.css\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { App } from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}