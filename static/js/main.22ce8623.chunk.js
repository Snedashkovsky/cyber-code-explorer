(this["webpackJsonpcode-explorer"]=this["webpackJsonpcode-explorer"]||[]).push([[0],{183:function(e,t){},285:function(e,t,a){e.exports=a(618)},290:function(e,t,a){},312:function(e,t){},314:function(e,t){},365:function(e,t){},366:function(e,t){},612:function(e,t,a){},613:function(e,t,a){},614:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},617:function(e,t,a){},618:function(e,t,a){"use strict";a.r(t);a(286),a(287),a(289),a(290);var n=a(0),l=a.n(n),r=a(277),c=a.n(r),s=a(23),o=a(22),i=a(14);const m="/cosmwasm.wasm.v1beta1.MsgStoreCode",u="/cosmwasm.wasm.v1beta1.MsgExecuteContract";function d(e){return"/cosmos.bank.v1beta1.MsgSend"===e.typeUrl&&!!e.value}const E={nodeUrl:"",client:null,typeRegistry:new o.Registry([[m,s.MsgStoreCode],["/cosmwasm.wasm.v1beta1.MsgInstantiateContract",s.MsgInstantiateContract],[u,s.MsgExecuteContract]]),resetClient:()=>{},setUserAddress:()=>{},setSigningClient:()=>{}},g=l.a.createContext(E);var p=a(33),h=a(12),v=a(34);const f={nodeUrls:["http://localhost:26659"],stargateEnabled:!0,denominations:["ucosm","ustake"],addressPrefix:"wasm",gasPrice:v.GasPrice.fromString("0.25ucosm")},b={coralnet:{nodeUrls:["https://lcd.coralnet.cosmwasm.com"],stargateEnabled:!1,denominations:["ucosm","ustake"],addressPrefix:"coral",gasPrice:v.GasPrice.fromString("0.25ucosm")},heldernet:{nodeUrls:["https://lcd.heldernet.cosmwasm.com"],stargateEnabled:!1,denominations:["ucosm","ustake"],addressPrefix:"cosmos",gasPrice:v.GasPrice.fromString("0.25ucosm")},devnetStargate:f,musselnet:{nodeUrls:["https://rpc.musselnet.cosmwasm.com"],stargateEnabled:!0,denominations:["umayo","ufrites"],addressPrefix:"wasm",gasPrice:v.GasPrice.fromString("0.25ucosm")},lucinanet:{nodeUrls:["https://rpc.juno.giansalex.dev"],stargateEnabled:!0,denominations:["ujuno"],addressPrefix:"juno",gasPrice:v.GasPrice.fromString("0.25ujuno")}};const N={backend:function(){const e="lucinanet",t=b[e];if(!t)throw new Error(`No backend found for the given ID "${e}"`);return t}(),deployment:{routerType:"hash-router"}};var w=a(11);const y="_\u2588_ErrorState_\u2588_",x="_\u2588_LoadingState_\u2588_";function C(e){return!!Object(w.isNonNullObject)(e)&&e.type===y}function S(e){return!!Object(w.isNonNullObject)(e)&&e.type===x}const k={type:y},I={type:x};function L({urls:e,currentUrl:t,urlChanged:a}){return 1===e.length?l.a.createElement(n.Fragment,null,t):l.a.createElement(n.Fragment,null,l.a.createElement("button",{className:"btn btn-secondary btn-sm dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},e.map(e=>l.a.createElement("button",{key:e,className:"dropdown-item"+(e===t?" active":""),type:"button",onClick:()=>a(e)},e))))}function j({htmlId:e,chainId:t,height:a}){const n=l.a.useContext(g);return l.a.createElement("div",{className:"modal fade",id:e,tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Node info"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},"Endpoint: ",n.nodeUrl,l.a.createElement("br",null),"Chain ID: ",S(t)?"Loading \u2026":C(t)?"Error":t,l.a.createElement("br",null),"Height: ",S(a)?"Loading \u2026":C(a)?"Error":a))))}const U={borderColor:"rgba(255, 255, 255, 0.8)"},T={color:"#f0f0f0"};function P(){return l.a.createElement(n.Fragment,null," | ")}function M(){const{client:e,nodeUrl:t,resetClient:a}=l.a.useContext(g),[n,r]=l.a.useState(I),[c,s]=l.a.useState(I),o=l.a.useCallback(()=>{null===e||void 0===e||e.getHeight().then(s).catch(()=>s(k))},[e]);return l.a.useEffect(()=>{null===e||void 0===e||e.getChainId().then(r).catch(()=>r(k)),o()},[e,o]),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("hr",{style:U}),l.a.createElement(j,{htmlId:"nodeInfoModal",chainId:n,height:c}),l.a.createElement("div",{style:T,className:"dropdown text-center font-weight-light mb-3"},"Endpoint"," ",l.a.createElement(L,{currentUrl:t,urls:N.backend.nodeUrls,urlChanged:e=>a(e)})," ",l.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary","data-toggle":"modal","data-target":"#nodeInfoModal",onClick:o},"Node info"),l.a.createElement(P,null),l.a.createElement("a",{href:"https://github.com/CosmWasm/code-explorer",style:T},"Fork me on GitHub"))))}var A=a(55),O=a(10),B=a(278),H=a(281),D=a(16);function q(e){return e instanceof A.CosmWasmClient}function _(e){const t="burner-wallet",a=localStorage.getItem(t);if(a&&!e)return a;const n=e||O.Bip39.encode(O.Random.getBytes(16)).toString();return localStorage.setItem(t,n),n}async function F(e){const t=await e.getChainId();return async()=>{await async function(){const e=window;if(!e.getOfflineSigner||!e.keplr)throw"Please install keplr extension";if(!e.keplr.experimentalSuggestChain)throw"Please use the recent version of keplr extension";try{await e.keplr.experimentalSuggestChain({chainId:"lucina",chainName:"Juno testnet",rpc:"https://rpc.juno.giansalex.dev:443",rest:"https://lcd.juno.giansalex.dev:443",stakeCurrency:{coinDenom:"JUNO",coinMinimalDenom:"ujuno",coinDecimals:6},bip44:{coinType:118},bech32Config:{bech32PrefixAccAddr:"juno",bech32PrefixAccPub:"junopub",bech32PrefixValAddr:"junovaloper",bech32PrefixValPub:"junovaloperpub",bech32PrefixConsAddr:"junovalcons",bech32PrefixConsPub:"junovalconspub"},currencies:[{coinDenom:"JUNO",coinMinimalDenom:"ujuno",coinDecimals:6}],feeCurrencies:[{coinDenom:"JUNO",coinMinimalDenom:"ujuno",coinDecimals:6}],gasPriceStep:{low:.01,average:.025,high:.04},features:["stargate","ibc-transfer"],explorerUrlToTx:"https://testnet.juno.aneka.io/txs/{txHash}"})}catch{throw"Failed to suggest the chain"}}();const e=window;return await e.keplr.enable(t),e.getOfflineSigner(t)}}async function R(e,t){const a=_(t),n=Object(D.makeCosmoshubPath)(0);return o.DirectSecp256k1HdWallet.fromMnemonic(a,{hdPaths:[n],prefix:e})}async function $(e){const t=await B.a.create(12e4,12e4);return new H.LedgerSigner(t,{hdPaths:[Object(D.makeCosmoshubPath)(0)],prefix:e})}async function G(e,t){const a=await e(N.backend.addressPrefix,t);return[(await a.getAccounts())[0].address,await async function(e){const{nodeUrls:t,gasPrice:a}=N.backend,n=t[0],l=new o.Registry([[m,s.MsgStoreCode],["/cosmwasm.wasm.v1beta1.MsgInstantiateContract",s.MsgInstantiateContract],[u,s.MsgExecuteContract]]),r={...v.defaultGasLimits,upload:15e5,init:6e5,exec:4e5,migrate:6e5,send:8e4,changeAdmin:8e4};return A.SigningCosmWasmClient.connectWithSigner(n,e,{registry:l,gasPrice:a,gasLimits:r})}(a)]}function W(){const e=navigator;return!(null===e||void 0===e?void 0:e.usb)}function J(){const{userAddress:e,setUserAddress:t,setSigningClient:a,client:n}=l.a.useContext(g),[r,c]=l.a.useState(),[s,o]=l.a.useState(!1),[i,m]=l.a.useState();async function u(e){o(!0),m(void 0);try{const[n,l]=await G(e,r);t(n),a(l)}catch(i){m(i.message)}o(!1)}function d(){m(void 0),t(void 0),c(void 0),a(void 0)}const E=!!e;return l.a.createElement("div",{className:"d-flex align-items-center justify-content-end"},i?l.a.createElement("div",{className:"mr-3 p-2 rounded bg-white text-danger"},i):null,E?l.a.createElement("button",{className:"btn btn-primary",onClick:d},"Logout"):s?l.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:!0},l.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Loading..."):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mr-3 p-2 rounded bg-white"},l.a.createElement("span",{title:"Mnemonic for burner wallet"},"Mnemonic:"),l.a.createElement("input",{className:"ml-3 flex-grow-1",value:r,onChange:e=>c(e.target.value)})),l.a.createElement("button",{type:"button",className:"btn btn-primary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Login"),l.a.createElement("div",{className:"dropdown-menu"},l.a.createElement("h6",{className:"dropdown-header"},"with"),l.a.createElement("button",{className:"dropdown-item",onClick:()=>u(R)},"Browser wallet"),l.a.createElement("button",{className:"dropdown-item",onClick:async()=>u(await F(n))},"Keplr wallet"),l.a.createElement("button",{className:"dropdown-item",onClick:()=>u($),disabled:W()},"Ledger wallet"))))}function z(){const{userAddress:e}=l.a.useContext(g);return e?l.a.createElement("div",{className:"mr-3 p-2 rounded bg-white"},l.a.createElement("span",null,"My address: "),l.a.createElement("span",null,e)):l.a.createElement(l.a.Fragment,null)}function K(){return l.a.createElement("header",{className:"mt-3 p-0 d-flex align-items-center justify-content-end container contract-container"},l.a.createElement(z,null),l.a.createElement(J,null))}var Q=a(9);function V(e,t){if(e.length<=t)return e;const a=Math.ceil((t-"\u2026".length)/2),n=Math.floor((t-"\u2026".length)/2);return e.slice(0,a)+"\u2026"+e.slice(e.length-n,e.length)}function X(e){var t;if(null===(t=e.denom)||void 0===t?void 0:t.startsWith("u")){var a;const t=e.denom.slice(1).toUpperCase();return Q.Decimal.fromAtomics(null!==(a=e.amount)&&void 0!==a?a:"0",6).toString()+"\u202f"+t}return e.amount+"\u202f"+e.denom}function Y(e){return 0===e.length?"\u2013":e.map(X).join(", ")}function Z(e){if(!e)return{};let t="";return e.forEach(e=>{t+=String.fromCharCode(e)}),JSON.parse(t)}function ee({address:e,maxLength:t=20}){return l.a.createElement(h.c,{to:"/accounts/"+e,title:e},V(e,t||99999))}function te({transactionId:e,maxLength:t=20}){return l.a.createElement(h.c,{to:"/transactions/"+e,title:e},V(e,t||99999))}function ae({transfers:e}){return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Height"),l.a.createElement("th",{scope:"col"},"Transaction ID"),l.a.createElement("th",{scope:"col"},"Sender"),l.a.createElement("th",{scope:"col"},"Recipient"),l.a.createElement("th",{scope:"col"},"Amount"))),l.a.createElement("tbody",null,e.map((e,t)=>l.a.createElement("tr",{key:e.key},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",null,e.height),l.a.createElement("td",null,l.a.createElement(te,{transactionId:e.transactionId})),l.a.createElement("td",null,l.a.createElement(ee,{address:e.msg.fromAddress})),l.a.createElement("td",null,l.a.createElement(ee,{address:e.msg.toAddress})),l.a.createElement("td",null,Y(e.msg.amount))))))}function ne(){const{client:e,typeRegistry:t}=l.a.useContext(g),{address:a}=Object(i.g)(),n=a||"",[r,c]=l.a.useState(I),[s,o]=l.a.useState(I);l.a.useEffect(q(e)?((e,t,a,n,l)=>()=>{Promise.all(N.backend.denominations.map(a=>e.getBalance(t,a))).then(e=>{const t=e.filter(e=>null!==e);n(t)}).catch(()=>n(k)),e.searchTx({sentFromOrTo:t}).then(e=>{const t=e.reduce((e,t)=>{var n,l;const r=p.Tx.decode(t.tx);return[...e,...(null!==(n=null===r||void 0===r||null===(l=r.body)||void 0===l?void 0:l.messages)&&void 0!==n?n:[]).filter(d).map(function(e,t){return(a,n)=>{const l=e.decode({typeUrl:a.typeUrl,value:a.value});return{key:`${t.hash}_${n}`,height:t.height,transactionId:t.hash,msg:l}}}(a,t))]},[]);l(t)}).catch(()=>l(k))})(e,n,t,c,o):()=>{},[n,e,t]);const m=l.a.createElement("span",{title:n},"Account ",V(n,15));return l.a.createElement("div",{className:"page"},l.a.createElement(K,null),l.a.createElement("div",{className:"container mt-3 contract-container"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(h.c,{to:"/"},"Home")),l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},m))))),l.a.createElement("div",{className:"row white-row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,m),l.a.createElement("ul",{className:"list-group list-group-horizontal mb-3"},l.a.createElement("li",{className:"list-group-item",title:"Bank tokens owned by this contract"},"Balance:"," ",S(r)?"Loading \u2026":C(r)?"Error":Y(r))))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Token transfers"),l.a.createElement("p",null,"Incoming and outgoing bank token transfers"),S(s)?l.a.createElement("p",null,"Loading \u2026"):C(s)?l.a.createElement("p",null,"Error"):0===s.length?l.a.createElement("p",null,"No transfer found"):l.a.createElement(ae,{transfers:s}))),l.a.createElement(M,null)))}a(612);function le(e){return e.split("&").map(e=>{if(-1===e.indexOf("="))throw new Error("Parsing error: Equal sign missing");const t=e.split("=");if(t.length>2)throw new Error("Parsing error: Multiple equal signs found. If you need escaping support, please create a PR.");const[a,n]=t;if(!a)throw new Error("Parsing error: Key must not be empty");return{key:a,value:n}})}var re=a(284);var ce=function({checksum:e,source:t,builder:a}){if(!t||!a)return l.a.createElement("span",null,"Contract cannot be verified since ",l.a.createElement("code",null,"builder")," or ",l.a.createElement("code",null,"source")," is missing");const n=Object(re.quote)(["cosmwasm-verify",t,a,e]);return l.a.createElement("code",null,n)};function se({code:e,uploadTxHash:t}){return l.a.createElement("div",{className:"card mb-3"},l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item"},"Upload transaction:"," ",S(t)?"Loading \u2026":C(t)?"Error":void 0===t?"\u2013":l.a.createElement(te,{transactionId:t})),l.a.createElement("li",{className:"list-group-item"},"Creator: ",l.a.createElement(ee,{address:e.creator,maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Checksum: ",e.checksum),l.a.createElement("li",{className:"list-group-item"},"Source: ",e.source||"\u2013"),l.a.createElement("li",{className:"list-group-item"},"Builder: ",e.builder||"\u2013"),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("p",{className:"text-muted"},"Code verification allows you to verify that uploaded code was compiled from the source it claims."," ",l.a.createElement("a",{href:"https://github.com/CosmWasm/cosmwasm-verify",className:"text-muted"},"Tell me more!")),l.a.createElement("p",{className:"mb-0"},l.a.createElement(ce,{checksum:e.checksum,source:e.source,builder:e.builder})))))}function oe({address:e,maxLength:t=20}){return l.a.createElement(h.c,{to:"/contracts/"+e,title:e},V(e,t||99999))}var ie=function({position:e,address:t}){const{client:a}=l.a.useContext(g),[n,r]=l.a.useState(I),[c,s]=l.a.useState(I);return l.a.useEffect(()=>{(null===a||void 0===a?void 0:a.getContract(t)).then(e=>s(e)).catch(()=>s(k));const e=[{key:"message.contract_address",value:t},{key:"message.action",value:"execute"}];(null===a||void 0===a?void 0:a.searchTx({tags:e})).then(e=>r(e.length)).catch(()=>r(k))},[a,t]),S(c)?l.a.createElement("tr",null,l.a.createElement("td",null,"Loading ...")):C(c)?l.a.createElement("tr",null,l.a.createElement("td",null,"Error")):l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},e),l.a.createElement("td",null,c.label),l.a.createElement("td",null,l.a.createElement(oe,{address:c.address})),l.a.createElement("td",null,l.a.createElement(ee,{address:c.creator})),l.a.createElement("td",null,c.admin?l.a.createElement(ee,{address:c.admin}):"\u2013"),l.a.createElement("td",null,S(n)?"Loading \u2026":C(n)?"Error":n))};function me(){return l.a.createElement("p",null,"Code is not yet instantiated")}function ue(){const{client:e}=l.a.useContext(g),{codeId:t}=Object(i.g)(),a=parseInt(t||"0",10),[n,r]=l.a.useState(I),[c,s]=l.a.useState(I),[o,m]=l.a.useState(I);l.a.useEffect(()=>{var t;null===e||void 0===e||e.getContracts(a).then(s).catch(()=>s(k)),null===e||void 0===e||e.getCodeDetails(a).then(r).catch(()=>r(k)),null===(t=null===e||void 0===e?void 0:e.searchTx({tags:le("message.module=wasm&message.action=store-code&message.code_id="+a)}))||void 0===t||t.then(e=>{const t=e.find(()=>!0);m(null===t||void 0===t?void 0:t.hash)})},[e,a]);const u=l.a.createElement("span",null,"Code #",a);return l.a.createElement("div",{className:"page"},l.a.createElement(K,null),l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(h.c,{to:"/codes"},"Codes")),l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},u))))),l.a.createElement("div",{className:"row white-row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,u),l.a.createElement("ul",{className:"list-group list-group-horizontal mb-3"},l.a.createElement("li",{className:"list-group-item"},"Type: Wasm"),l.a.createElement("li",{className:"list-group-item"},"Size:"," ",S(n)?"Loading \u2026":C(n)?"Error":Math.round(n.data.length/1024)+" KiB"))),l.a.createElement("div",{className:"col"},S(n)?l.a.createElement("span",null,"Loading \u2026"):C(n)?l.a.createElement("span",null,"Error"):l.a.createElement(se,{code:n,uploadTxHash:o}))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Instances"),S(c)?l.a.createElement("p",null,"Loading \u2026"):C(c)?l.a.createElement("p",null,"Error loading instances"):0===c.length?l.a.createElement(me,null):l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Label"),l.a.createElement("th",{scope:"col"},"Contract"),l.a.createElement("th",{scope:"col"},"Creator"),l.a.createElement("th",{scope:"col"},"Admin"),l.a.createElement("th",{scope:"col"},"Executions"))),l.a.createElement("tbody",null,c.map((e,t)=>l.a.createElement(ie,{position:t+1,address:e,key:e})))))),l.a.createElement(M,null)))}a(613),a(614);function de({data:e,index:t}){const{client:a}=l.a.useContext(g),[n,r]=l.a.useState(I);return l.a.useEffect(()=>{null===a||void 0===a||a.getContracts(e.codeId).then(e=>{r({instantiations:e.length})}).catch(()=>r(k))},[e.codeId]),l.a.createElement("div",{className:"flex-element-two-two mb-3"+(t%2?" pl-lg-2":" pr-lg-2")},l.a.createElement(h.c,{to:"/codes/"+e.codeId,className:"code-content"},l.a.createElement("div",{className:"id"},"#",e.codeId),l.a.createElement("div",{className:"details"},"Creator: ",V(e.creator,30),l.a.createElement("br",null),"Source: ",V(e.source,42)||"\u2013",l.a.createElement("br",null),"Builder: ",e.builder||"\u2013",l.a.createElement("br",null),"Checksum: ",e.checksum.slice(0,10),l.a.createElement("br",null),"Instances:"," ",S(n)?"Loading \u2026":C(n)?"Error":n.instantiations)))}function Ee(e){return`${e.source}__${e.data.codeId}`}function ge(){const{client:e,nodeUrl:t}=l.a.useContext(g),[a,n]=l.a.useState(I);return l.a.useEffect(()=>{null===e||void 0===e||e.getCodes().then(e=>{const a=e.map(e=>({source:t,data:{codeId:e.id,checksum:e.checksum,creator:e.creator,source:e.source||"",builder:e.builder||""}})).reverse();n(a)}).catch(()=>n(k))},[e,t]),l.a.createElement("div",{className:"d-lg-flex flex-wrap"},S(a)?l.a.createElement("p",null,"Loading \u2026"):C(a)?l.a.createElement("p",null,"Error loading codes"):0===a.length?l.a.createElement("p",null,"No code uploaded yet"):a.map((e,t)=>l.a.createElement(de,{data:e.data,index:t,key:Ee(e)})))}function pe(){return l.a.createElement("div",{className:"page"},l.a.createElement(K,null),l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},"Codes"))))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement(ge,null))),l.a.createElement(M,null)))}a(615);function he({codeId:e,text:t}){return l.a.createElement(h.c,{to:"/codes/"+e},t||"Code #"+e)}var ve=a(69);const fe={container:{display:"flex",flexDirection:"column"},body:{order:"1"},warningBox:{order:"2"}},be={transfer:{recipient:"juno14vhcdsyf83ngsrrqc92kmw8q9xakqjm0ff2dpn",amount:"1"}},Ne=[{denom:N.backend.denominations[0],amount:"1"}];function we({contractAddress:e}){const{userAddress:t,signingClient:a}=l.a.useContext(g),[n,r]=l.a.useState(!1),[c,s]=l.a.useState(),[o,i]=l.a.useState(),[m,u]=l.a.useState(),[d,E]=l.a.useState(),[p,h]=l.a.useState();return l.a.useEffect(()=>{u({result:be}),E({result:Ne})},[]),l.a.useEffect(()=>{(null===m||void 0===m?void 0:m.error)?s(m.error):(null===p||void 0===p?void 0:p.error)?s(p.error):(null===d||void 0===d?void 0:d.error)?s(d.error):s(void 0)},[d,p,m]),l.a.createElement("div",{className:"card mb-3"},l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item d-flex align-items-baseline"},l.a.createElement("span",{title:"The contract query input"},"Execute contract:")),l.a.createElement("li",{className:"list-group-item d-flex align-items-baseline"},l.a.createElement(ve.a,{width:"100%",height:"200px",placeholder:be,confirmGood:!1,style:fe,onChange:({jsObject:e})=>u({result:e})})),l.a.createElement("li",{className:"list-group-item d-flex align-items-baseline"},l.a.createElement("span",{title:"The contract query input"},"Coins to transfer:")),l.a.createElement("li",{className:"list-group-item d-flex align-items-baseline"},l.a.createElement(ve.a,{width:"100%",height:"120px",placeholder:Ne,confirmGood:!1,style:fe,onChange:({jsObject:e})=>E({result:e})})),l.a.createElement("li",{className:"list-group-item d-flex align-items-baseline"},l.a.createElement("span",{title:"The contract query input"},"Memo:"),l.a.createElement("input",{className:"ml-3 flex-grow-1",value:o,onChange:e=>i(e.target.value)})),l.a.createElement("div",{className:"list-group-item btn-group"},n?l.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:!0},l.a.createElement("span",{className:"spinner-border spinner-border-sm mr-2",role:"status","aria-hidden":"true"}),"Executing..."):l.a.createElement("button",{className:"btn btn-primary",onClick:async function(){if((null===m||void 0===m?void 0:m.result)&&t&&a){r(!0);try{if(function(e){return e instanceof A.SigningCosmWasmClient}(a)){const n=await a.execute(t,e,m.result,o,null===d||void 0===d?void 0:d.result);h({result:n})}}catch(c){h({error:"Execute error: "+c.message})}r(!1)}},disabled:!(null===m||void 0===m?void 0:m.result)||!a},"Execute contract")),(null===p||void 0===p?void 0:p.result)?l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{title:"The contract formatted input"},"Response:"),l.a.createElement("pre",{className:"mb-0"},JSON.stringify(p.result,void 0,"  "))):null,c?l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"text-danger",title:"The contract query error"},c)):null))}function ye({executions:e}){return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Height"),l.a.createElement("th",{scope:"col"},"Transaction ID"),l.a.createElement("th",{scope:"col"},"Sender"))),l.a.createElement("tbody",null,e.map((e,t)=>l.a.createElement("tr",{key:e.key},l.a.createElement("th",{scope:"row"},t+1),l.a.createElement("td",null,e.height),l.a.createElement("td",null,l.a.createElement(te,{transactionId:e.transactionId})),l.a.createElement("td",null,l.a.createElement(ee,{address:e.msg.sender}))))))}var xe=a(56),Ce=a.n(xe);function Se({contractCodeHistory:e}){return l.a.createElement("div",{className:"card mb-3"},l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{title:"The contract level message history"},"History")),e.map((e,t)=>l.a.createElement("li",{key:t,className:"list-group-item"},l.a.createElement("span",{title:"The message operation type"},e.operation," - ",l.a.createElement(he,{codeId:e.codeId})),l.a.createElement(Ce.a,{src:e.msg})))))}function ke({contract:e,instantiationTxHash:t}){return l.a.createElement("div",{className:"card mb-3"},l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item"},"Instantiation transaction:"," ",S(t)?"Loading \u2026":C(t)?"Error":void 0===t?"\u2013":l.a.createElement(te,{transactionId:t})),l.a.createElement("li",{className:"list-group-item"},"Creator: ",l.a.createElement(ee,{address:e.creator,maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Admin: ",e.admin?l.a.createElement(ee,{address:e.admin,maxLength:null}):"\u2013")))}const Ie={balance:{address:"juno14vhcdsyf83ngsrrqc92kmw8q9xakqjm0ff2dpn"}};function Le({contractAddress:e}){const{client:t}=l.a.useContext(g),[a,n]=l.a.useState(),[r,c]=l.a.useState(),[s,o]=l.a.useState();return l.a.useEffect(()=>{c({result:Ie})},[]),l.a.useEffect(()=>{(null===r||void 0===r?void 0:r.error)?n(r.error):(null===s||void 0===s?void 0:s.error)?n(s.error):n(void 0)},[r,s]),l.a.createElement("div",{className:"card mb-3"},l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item d-flex align-items-baseline"},l.a.createElement("span",{title:"The contract query input"},"Query contract:")),l.a.createElement("li",{className:"list-group-item d-flex align-items-baseline"},l.a.createElement(ve.a,{width:"100%",height:"200px",placeholder:Ie,confirmGood:!1,style:fe,onChange:({jsObject:e})=>c({result:e})})),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("button",{className:"btn btn-primary",style:{cursor:t&&(null===r||void 0===r?void 0:r.result)?"pointer":"not-allowed"},onClick:async function(){if(t&&(null===r||void 0===r?void 0:r.result))try{const a=await t.queryContractSmart(e,r.result),n=JSON.stringify(a,null,"  ");o({result:n})}catch(a){o({error:"Query error: "+a.message})}},disabled:!(null===r||void 0===r?void 0:r.result)},"Run query")),(null===s||void 0===s?void 0:s.result)?l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{title:"The query response"},"Response:"),l.a.createElement("pre",{className:"mb-0"},s.result)):null,a?l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{className:"text-danger",title:"The contract query error"},a)):null))}function je(e){return"/cosmwasm.wasm.v1beta1.MsgExecuteContract"===e.typeUrl&&!!e.value}const Ue=(e,t,a,n,l,r,c,s)=>()=>{((e,t,a)=>{e.getContractCodeHistory(t).then(a).catch(e=>{console.error(e)})})(e,t,l),((e,t,a)=>{e.getContract(t).then(a).catch(()=>a(k))})(e,t,r),((e,t,a)=>{e.searchTx({tags:le("message.module=wasm&message.action=instantiate&message.contract_address="+t)}).then(e=>{const t=e.find(()=>!0);a(null===t||void 0===t?void 0:t.hash)}).catch(()=>a(k))})(e,t,s),Promise.all(N.backend.denominations.map(a=>e.getBalance(t,a))).then(e=>{const t=e.filter(e=>null!==e);n(t)}).catch(()=>n(k)),e.searchTx({tags:le(`message.contract_address=${t}&message.action=execute`)}).then(e=>{const t=e.reduce((e,t)=>{var n,l;const r=p.Tx.decode(t.tx);return[...e,...(null!==(n=null===r||void 0===r||null===(l=r.body)||void 0===l?void 0:l.messages)&&void 0!==n?n:[]).filter(je).map(function(e,t){return(a,n)=>{const l=e.decode({typeUrl:a.typeUrl,value:a.value});return{key:`${t.hash}_${n}`,height:t.height,transactionId:t.hash,msg:l}}}(a,t))]},[]);c(t)}).catch(()=>c(k))};function Te(){const{client:e,typeRegistry:t}=l.a.useContext(g),{contractAddress:a}=Object(i.g)(),n=a||"",[r,c]=l.a.useState(I),[s,o]=l.a.useState(I),[m,u]=l.a.useState(I),[d,E]=l.a.useState([]),[p,v]=l.a.useState(I);l.a.useEffect(q(e)?Ue(e,n,t,o,E,c,v,u):()=>{},[e,n,t]);const f=l.a.createElement("span",{title:n},"Contract ",V(n,15));return l.a.createElement("div",{className:"page"},l.a.createElement(K,null),l.a.createElement("div",{className:"container mt-3 contract-container"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(h.c,{to:"/codes"},"Codes")),l.a.createElement("li",{className:"breadcrumb-item"},S(r)?l.a.createElement("span",null,"Loading \u2026"):C(r)?l.a.createElement("span",null,"Error"):l.a.createElement(he,{codeId:r.codeId})),l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},f))))),l.a.createElement("div",{className:"row white-row"},l.a.createElement("div",{className:"col-12 col-md-6"},l.a.createElement("h1",null,f),l.a.createElement("ul",{className:"list-group list-group-horizontal mb-3"},l.a.createElement("li",{className:"list-group-item",title:"Bank tokens owned by this contract"},"Balance:"," ",S(s)?"Loading \u2026":C(s)?"Error":Y(s)))),l.a.createElement("div",{className:"col-12 col-md-6"},S(r)?l.a.createElement("p",null,"Loading \u2026"):C(r)?l.a.createElement("p",null,"An Error occurred when loading contract"):l.a.createElement(l.a.Fragment,null,l.a.createElement(ke,{contract:r,instantiationTxHash:m}),l.a.createElement(Se,{contractCodeHistory:d}),l.a.createElement(Le,{contractAddress:n}),l.a.createElement(we,{contractAddress:n})))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Executions"),S(p)?l.a.createElement("p",null,"Loading \u2026"):C(p)?l.a.createElement("p",null,"An Error occurred when loading transactions"):0!==p.length?l.a.createElement(ye,{executions:p}):l.a.createElement("p",null,"Contract was not yet executed"))),l.a.createElement(M,null)))}a(616);var Pe=a(3);function Me({tx:e,timestamp:t}){const a=t?Object(Pe.fromRfc3339)(t):null,n=0===e.code;return l.a.createElement("ul",{className:"list-group list-group-horizontal mb-3"},l.a.createElement("li",{className:"list-group-item"},"Height: ",e.height),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{title:t},"Time: ",null===a||void 0===a?void 0:a.toLocaleString())),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{title:"Execution succeeded: "+(n?"yes":"no")},"Success: ",n?"\u2714":`\ud83d\uddd9 (error code ${e.code})`)))}function Ae({msg:e}){var t,a;return l.a.createElement(n.Fragment,null,l.a.createElement("li",{className:"list-group-item"},"Contract: ",l.a.createElement(oe,{address:null!==(t=e.contract)&&void 0!==t?t:"-",maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Sender: ",l.a.createElement(ee,{address:null!==(a=e.sender)&&void 0!==a?a:"-",maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Sent funds: ",Y(e.funds)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{title:"The contract level message"},"Handle message"),":",l.a.createElement(Ce.a,{src:Z(e.msg)})))}function Oe({msg:e}){var t,a,r,c;return l.a.createElement(n.Fragment,null,l.a.createElement("li",{className:"list-group-item"},"Sender: ",l.a.createElement(ee,{address:e.sender||"-",maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Code ID: ",l.a.createElement(he,{codeId:null!==(t=null===(a=e.codeId)||void 0===a?void 0:a.toNumber())&&void 0!==t?t:0,text:null!==(r=null===(c=e.codeId)||void 0===c?void 0:c.toString())&&void 0!==r?r:"-"})),l.a.createElement("li",{className:"list-group-item"},"Label: ",e.label),l.a.createElement("li",{className:"list-group-item"},"Init funds: ",Y(e.funds)),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("span",{title:"The contract level message"},"Init message"),":",l.a.createElement(Ce.a,{src:Z(e.initMsg)})))}function Be({msg:e}){var t,a,r;return l.a.createElement(n.Fragment,null,l.a.createElement("li",{className:"list-group-item"},"Sender: ",l.a.createElement(ee,{address:null!==(t=e.fromAddress)&&void 0!==t?t:"-",maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Recipient: ",l.a.createElement(ee,{address:null!==(a=e.toAddress)&&void 0!==a?a:"-",maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Amount: ",Y(null!==(r=e.amount)&&void 0!==r?r:[])))}a(617);function He(e,t){return function(e,t){return e.length===t.length&&!e.some((e,a)=>t[a]!==e)}(e.slice(0,t.length),t)}const De={gzip:Object(Pe.fromHex)("1F8B"),wasm:Object(Pe.fromHex)("0061736d")};function qe({msg:e}){var t,a;const[r,c]=l.a.useState(!1),s=l.a.useMemo(()=>{var t;const a=null!==(t=e.wasmByteCode)&&void 0!==t?t:new Uint8Array;return`${function(e){return He(e,De.gzip)?"gzip":He(e,De.wasm)?"wasm":void 0}(a)||"unknown"}; ${a.length} bytes`},[e.wasmByteCode]);return l.a.createElement(n.Fragment,null,l.a.createElement("li",{className:"list-group-item"},"Sender: ",l.a.createElement(ee,{address:null!==(t=e.sender)&&void 0!==t?t:"-",maxLength:null})),l.a.createElement("li",{className:"list-group-item"},"Source: ",e.source||"\u2013"),l.a.createElement("li",{className:"list-group-item"},"Builder: ",e.builder||"\u2013"),l.a.createElement("li",{className:"list-group-item"},"Data: ",s," ",r?l.a.createElement("code",{className:"long-inline-code"},e.wasmByteCode):l.a.createElement(n.Fragment,null,l.a.createElement("code",null,function(e,t){if(e.length<=t)return e;const a=t-"\u2026".length;return e.slice(0,a)+"\u2026"}(Object(Pe.toBase64)(null!==(a=e.wasmByteCode)&&void 0!==a?a:new Uint8Array),300))," ",l.a.createElement("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>c(!0)},"Show all"))))}function _e({tx:e}){var t,a,n,r,c,s,o,i,m,u;return l.a.createElement("div",{className:"card mb-3"},l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item"},"Memo: ",(null===(t=e.body)||void 0===t?void 0:t.memo)||"\u2013"),l.a.createElement("li",{className:"list-group-item"},"Fee: ",Y(null!==(a=null===(n=e.authInfo)||void 0===n||null===(r=n.fee)||void 0===r?void 0:r.amount)&&void 0!==a?a:[])),l.a.createElement("li",{className:"list-group-item"},"Gas: ",null!==(c=null===(s=e.authInfo)||void 0===s||null===(o=s.fee)||void 0===o||null===(i=o.gasLimit)||void 0===i?void 0:i.toString())&&void 0!==c?c:"0"),l.a.createElement("li",{className:"list-group-item"},"Signatures: ",null!==(m=null===(u=e.signatures)||void 0===u?void 0:u.length)&&void 0!==m?m:0)))}function Fe(){var e,t;const{client:a,typeRegistry:n}=l.a.useContext(g),{txId:r}=Object(i.g)(),c=r||"",s=l.a.createElement("span",{title:c},"Tx ",V(c,20)),[o,E]=l.a.useState(I),[v,f]=l.a.useState(I);return l.a.useEffect(()=>{null===a||void 0===a||a.getTx(c).then(e=>{E(e||void 0),e&&(null===a||void 0===a||a.getBlock(e.height).then(e=>{f(e)}).catch(()=>f(k)))}).catch(()=>E(k))},[a,c,n]),l.a.createElement("div",{className:"page"},l.a.createElement(K,null),l.a.createElement("div",{className:"container mt-3"},l.a.createElement("div",{className:"row white-row white-row-first"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"breadcrumb"},l.a.createElement("ol",{className:"breadcrumb"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(h.c,{to:"/"},"Home")),l.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},s))))),l.a.createElement("div",{className:"row white-row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,s),S(o)?l.a.createElement("p",null,"Loading..."):C(o)?l.a.createElement("p",null,"Error"):void 0===o?l.a.createElement("p",null,"Transaction not found"):l.a.createElement(Me,{tx:o,timestamp:S(v)||C(v)?"":(null===v||void 0===v?void 0:v.header.time)||""})),l.a.createElement("div",{className:"col"},S(o)?l.a.createElement("p",null,"Loading \u2026"):C(o)?l.a.createElement("p",null,"Error"):void 0===o?l.a.createElement("p",null,"Transaction not found"):l.a.createElement(_e,{tx:p.Tx.decode(o.tx)}))),l.a.createElement("div",{className:"row white-row white-row-last"},l.a.createElement("div",{className:"col"},l.a.createElement("h2",null,"Messages"),l.a.createElement("p",null,"A Cosmos SDK transaction is composed of one or more messages, that represent actions to be executed."),S(o)?l.a.createElement("p",null,"Loading \u2026"):C(o)?l.a.createElement("p",null,"Error"):void 0===o?l.a.createElement("p",null,"Transaction not found"):null===(e=p.Tx.decode(o.tx).body)||void 0===e||null===(t=e.messages)||void 0===t?void 0:t.map((e,t)=>l.a.createElement("div",{className:"card mb-3",key:`${o.hash}_${t}`},l.a.createElement("div",{className:"card-header"},"Message ",t+1," (Type: ",l.a.createElement("code",null,e.typeUrl||l.a.createElement("em",null,"unset")),")"),l.a.createElement("ul",{className:"list-group list-group-flush"},d(e)?l.a.createElement(Be,{msg:n.decode({typeUrl:e.typeUrl,value:e.value})}):function(e){return e.typeUrl===m&&!!e.value}(e)?l.a.createElement(qe,{msg:n.decode({typeUrl:e.typeUrl,value:e.value})}):function(e){return"/cosmwasm.wasm.v1beta1.MsgInstantiateContract"===e.typeUrl&&!!e.value}(e)?l.a.createElement(Oe,{msg:n.decode({typeUrl:e.typeUrl,value:e.value})}):function(e){return e.typeUrl===u&&!!e.value}(e)?l.a.createElement(Ae,{msg:n.decode({typeUrl:e.typeUrl,value:e.value})}):l.a.createElement("li",{className:"list-group-item"},l.a.createElement("em",null,"This message type cannot be displayed"))))))),l.a.createElement(M,null)))}function Re({type:e,children:t}){switch(e){case"browser-router":return l.a.createElement(h.a,{basename:"https://giansalex.github.io/juno-codes"},t);case"hash-router":return l.a.createElement(h.b,null,t)}}const{nodeUrls:$e,stargateEnabled:Ge}=N.backend,We=new o.Registry([[m,s.MsgStoreCode],["/cosmwasm.wasm.v1beta1.MsgInstantiateContract",s.MsgInstantiateContract],[u,s.MsgExecuteContract]]);function Je(){const[e,t]=l.a.useState($e[0]),[a,n]=l.a.useState(),[r,c]=l.a.useState(),[s,o]=l.a.useState({nodeUrl:e,client:null,typeRegistry:We,resetClient:t,userAddress:a,setUserAddress:n,signingClient:r,setSigningClient:c});return l.a.useEffect(()=>{!async function(){const t=await A.CosmWasmClient.connect(e);o(a=>({...a,nodeUrl:e,client:t}))}()},[e]),l.a.useEffect(()=>{o(e=>({...e,signingClient:r}))},[r]),l.a.useEffect(()=>{o(e=>({...e,userAddress:a}))},[a]),l.a.createElement(g.Provider,{value:s},l.a.createElement(Re,{type:N.deployment.routerType},l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/codes",component:pe}),l.a.createElement(i.b,{path:"/codes/:codeId",component:ue}),l.a.createElement(i.b,{path:"/contracts/:contractAddress",component:Te}),l.a.createElement(i.b,{path:"/transactions/:txId",component:Fe}),l.a.createElement(i.b,{path:"/accounts/:address",component:ne}),l.a.createElement(i.b,{component:()=>l.a.createElement(i.a,{to:"/codes"})}))))}c.a.render(l.a.createElement(Je,null),document.getElementById("root"))}},[[285,1,2]]]);
//# sourceMappingURL=main.22ce8623.chunk.js.map