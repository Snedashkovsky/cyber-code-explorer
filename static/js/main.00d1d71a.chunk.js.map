{"version":3,"sources":["ui-utils/txs.ts","contexts/ClientContext.tsx","settings/backend.ts","settings/index.ts","ui-utils/states.ts","components/EndpointSelector.tsx","components/NodeInfoModal.tsx","components/FooterRow.tsx","ui-utils/clients.ts","components/Login.tsx","components/UserAddress.tsx","components/Header.tsx","ui-utils/index.ts","components/AccountLink.tsx","components/TransactionLink.tsx","pages/account/TransfersTable.tsx","pages/account/AccountPage.tsx","ui-utils/sdkhelpers.ts","components/ContractLink.tsx","ui-utils/jsonInput.ts","pages/contract/InstantiationContract.tsx","pages/code/CodeInfo.tsx","pages/code/InstanceRow.tsx","pages/code/InstancesEmptyState.tsx","pages/code/CodePage.tsx","components/CodeLink.tsx","pages/code/NewCodePage.tsx","pages/codes/Code.tsx","pages/codes/Codes.tsx","pages/codes/CodesPage.tsx","components/JsonView.tsx","pages/contract/ExecuteContract.tsx","pages/contract/ExecutionsTable.tsx","pages/contract/HistoryInfo.tsx","pages/contract/InitializationInfo.tsx","pages/contract/QueryContract.tsx","pages/contract/ContractPage.tsx","pages/tx/ExecutionInfo.tsx","pages/tx/msgs/MsgExecuteContract.tsx","pages/tx/msgs/MsgInstantiateContract.tsx","pages/tx/msgs/MsgSend.tsx","pages/tx/msgs/magic.ts","pages/tx/msgs/MsgStoreCode.tsx","pages/tx/TxInfo.tsx","pages/tx/TxPage.tsx","components/FlexibleRouter.tsx","components/App.tsx","index.tsx"],"names":["isAnyMsgSend","msg","typeUrl","value","dummyContext","nodeUrl","client","typeRegistry","Registry","MsgStoreCode","MsgInstantiateContract","MsgExecuteContract","resetClient","setUserAddress","setSigningClient","ClientContext","React","createContext","knownBackends","devnetStargate","nodeUrls","denominations","addressPrefix","gasPrice","GasPrice","fromString","musselnet","pebblenet","keplrChainInfo","rpc","rest","chainId","chainName","stakeCurrency","coinDenom","coinMinimalDenom","coinDecimals","bip44","coinType","bech32Config","bech32PrefixAccAddr","bech32PrefixAccPub","bech32PrefixValAddr","bech32PrefixValPub","bech32PrefixConsAddr","bech32PrefixConsPub","currencies","feeCurrencies","features","explorerUrlToTx","uninet","settings","backend","Error","getCurrentBackend","deployment","routerType","runtimeCodes","isErrorState","state","isNonNullObject","type","isLoadingState","errorState","loadingState","EndpointSelector","urls","currentUrl","urlChanged","length","className","id","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","map","url","key","onClick","NodeInfoModal","htmlId","height","clientContext","useContext","tabIndex","role","aria-hidden","data-dismiss","aria-label","hrStyle","borderColor","whiteText","color","Separator","FooterRow","setChainId","useState","setHeight","updateHeight","useCallback","getHeight","then","catch","useEffect","getChainId","style","newUrl","data-target","href","loadKeplrWallet","async","chaindId","w","window","getOfflineSigner","keplr","experimentalSuggestChain","registerKeplrChain","enable","loadLedgerWallet","ledgerTransport","TransportWebUSB","create","LedgerSigner","hdPaths","makeCosmoshubPath","prefix","getAddressAndStargateSigningClient","loadWallet","mnemonic","signer","getAccounts","address","endpoint","StargateSigningClient","connectWithSigner","registry","createStargateSigningClient","webUsbMissing","anyNavigator","navigator","usb","Login","userAddress","loading","setLoading","error","setError","loginStargate","undefined","signingClient","message","logout","isUserLoggedIn","keplrButton","disabled","renderLoginButton","UserAddress","to","Header","ellideMiddle","str","maxOutLen","frontLen","Math","ceil","tailLen","floor","slice","printableCoin","coin","denom","startsWith","ticker","toUpperCase","Decimal","fromAtomics","amount","toString","printableBalance","balance","join","parseMsgContract","json","fromUtf8","JSON","parse","AccountLink","maxLength","title","TransactionLink","transactionId","TransfersTable","transfers","executions","scope","execution","index","fromAddress","toAddress","AccountPage","addressParam","useParams","setBalance","setTransfers","Promise","all","getBalance","balances","filteredBalances","filter","searchTx","sentFromOrTo","txs","out","reduce","tx","decodedTx","Tx","decode","body","messages","i","decodedMsg","hash","getTransferFromStargateMsgSend","stargateEffect","pageTitle","aria-current","makeTags","oneLiner","split","pair","indexOf","parts","ContractLink","jsonInputStyle","container","display","flexDirection","order","warningBox","executePlaceholder","name","symbol","decimals","coinsPlaceholder","InstantiationContract","codeId","executing","setExecuting","memo","setMemo","label","setLabel","msgObject","setMsgObject","coinsObject","setCoinsObject","executeResponse","setExecuteResponse","result","width","placeholder","confirmGood","onChange","jsObject","event","target","executeResponseResult","instantiate","calculateFee","funds","contractAddress","transactionHash","CodeInfo","code","uploadTxHash","creator","checksum","InstanceRow","position","contract","setContractInfo","getContract","execTxs","admin","InstancesEmptyState","CodePage","codeIdParam","parseInt","details","setDetails","contracts","setContracts","setUploadTxHash","getContracts","getCodeDetails","tags","results","first","find","round","data","CodeLink","text","NewCodePage","wasm","setWasm","accept","e","files","item","wasmBytes","Uint8Array","arrayBuffer","upload","Code","instantiationInfo","setInstantiationInfo","instantiations","codeKey","source","Codes","codes","setCodes","getCodes","codeInfos","processed","response","reverse","CodesPage","JsonView","src","strLength","displayDataTypes","displayObjectSize","collapseStringsAfterLength","theme","transfer","recipient","ExecuteContract","execute","ExecutionsTable","Object","keys","sender","HistoryInfo","contractCodeHistory","entry","operation","InitializationInfo","instantiationTxHash","queryPlaceholder","QueryContract","queryObject","setQueryObject","queryResponse","setQueryResponse","cursor","queryResponseResult","queryContractSmart","formattedResult","stringify","isStargateMsgExecuteContract","setContractCodeHistory","setExecutions","setInstantiationTxHash","getContractCodeHistory","console","getAndSetContractCodeHistory","getAndSetDetails","getAndSetInstantiationTxHash","getExecutionFromStargateMsgExecuteContract","ContractPage","contractAddressParam","ExecutionInfo","timestamp","time","fromRfc3339","success","toLocaleString","toNumber","MsgSend","arrayStartsWith","a","b","some","byte","arrayEqual","magic","gzip","fromHex","showAllCode","setShowAllCode","dataInfo","useMemo","wasmByteCode","getFileType","ellideRight","toBase64","TxInfo","authInfo","fee","gasLimit","signatures","TxPage","txId","txIdParam","block","setBlockInfo","getTx","getBlock","header","idx","lastIndexOf","substring","formatMsg","isAnyMsgStoreCode","isAnyMsgInstantiateContract","isAnyMsgExecuteContract","FlexibleRouter","children","basename","process","App","setNodeUrl","contextValue","setContextValue","StargateClient","connect","prevContextValue","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.00d1d71a.chunk.js","sourcesContent":["import { Any } from \"cosmjs-types/google/protobuf/any\";\r\n\r\ntype IAny = Any;\r\n\r\nexport const msgSendTypeUrl = \"/cosmos.bank.v1beta1.MsgSend\";\r\nexport const msgStoreCodeTypeUrl = \"/cosmwasm.wasm.v1.MsgStoreCode\";\r\nexport const msgInstantiateContractTypeUrl = \"/cosmwasm.wasm.v1.MsgInstantiateContract\";\r\nexport const msgExecuteContractTypeUrl = \"/cosmwasm.wasm.v1.MsgExecuteContract\";\r\n\r\nexport interface AnyMsgSend {\r\n  readonly typeUrl: \"/cosmos.bank.v1beta1.MsgSend\";\r\n  readonly value: Uint8Array;\r\n}\r\n\r\nexport interface AnyMsgStoreCode {\r\n  readonly typeUrl: \"/cosmwasm.wasm.v1.MsgStoreCode\";\r\n  readonly value: Uint8Array;\r\n}\r\n\r\nexport interface AnyMsgInstantiateContract {\r\n  readonly typeUrl: \"/cosmwasm.wasm.v1.MsgInstantiateContract\";\r\n  readonly value: Uint8Array;\r\n}\r\n\r\nexport interface AnyMsgExecuteContract {\r\n  readonly typeUrl: \"/cosmwasm.wasm.v1.MsgExecuteContract\";\r\n  readonly value: Uint8Array;\r\n}\r\n\r\nexport function isAnyMsgSend(msg: IAny): msg is AnyMsgSend {\r\n  return msg.typeUrl === msgSendTypeUrl && !!msg.value;\r\n}\r\n\r\nexport function isAnyMsgStoreCode(msg: IAny): msg is AnyMsgStoreCode {\r\n  return msg.typeUrl === msgStoreCodeTypeUrl && !!msg.value;\r\n}\r\n\r\nexport function isAnyMsgInstantiateContract(msg: IAny): msg is AnyMsgInstantiateContract {\r\n  return msg.typeUrl === msgInstantiateContractTypeUrl && !!msg.value;\r\n}\r\n\r\nexport function isAnyMsgExecuteContract(msg: IAny): msg is AnyMsgExecuteContract {\r\n  return msg.typeUrl === msgExecuteContractTypeUrl && !!msg.value;\r\n}\r\n\r\n/* eslint-enable @typescript-eslint/camelcase */\r\n","import {\r\n  MsgExecuteContract,\r\n  MsgInstantiateContract,\r\n  MsgStoreCode,\r\n} from \"cosmjs-types/cosmwasm/wasm/v1/tx\";\r\nimport { Registry } from \"@cosmjs/proto-signing\";\r\nimport React from \"react\";\r\n\r\nimport { StargateClient, StargateSigningClient } from \"../ui-utils/clients\";\r\nimport {\r\n  msgExecuteContractTypeUrl,\r\n  msgInstantiateContractTypeUrl,\r\n  msgStoreCodeTypeUrl,\r\n} from \"../ui-utils/txs\";\r\n\r\nexport interface ClientContextValue {\r\n  readonly nodeUrl: string;\r\n  readonly client: StargateClient | null;\r\n  readonly typeRegistry: Registry;\r\n  readonly resetClient: (nodeUrl: string) => void;\r\n  readonly userAddress?: string;\r\n  readonly setUserAddress: (newUserAddress?: string) => void;\r\n  readonly signingClient?: StargateSigningClient;\r\n  readonly setSigningClient: (newSigningClient?: StargateSigningClient) => void;\r\n}\r\n\r\n/**\r\n * \"only used when a component does not have a matching Provider above it in the tree\"\r\n *\r\n * @see https://reactjs.org/docs/context.html#reactcreatecontext\r\n */\r\nconst dummyContext: ClientContextValue = {\r\n  nodeUrl: \"\",\r\n  client: null,\r\n  typeRegistry: new Registry([\r\n    [msgStoreCodeTypeUrl, MsgStoreCode],\r\n    [msgInstantiateContractTypeUrl, MsgInstantiateContract],\r\n    [msgExecuteContractTypeUrl, MsgExecuteContract],\r\n  ]),\r\n  resetClient: () => {},\r\n  setUserAddress: () => {},\r\n  setSigningClient: () => {},\r\n};\r\n\r\nexport const ClientContext = React.createContext<ClientContextValue>(dummyContext);\r\n","import { GasPrice } from \"@cosmjs/stargate\";\r\n\r\nexport type NonEmptyArray<ElementType> = { readonly 0: ElementType } & readonly ElementType[];\r\n\r\nexport interface BackendSettings {\r\n  readonly nodeUrls: NonEmptyArray<string>;\r\n  readonly denominations: readonly string[];\r\n  readonly addressPrefix: string;\r\n  readonly gasPrice: GasPrice;\r\n  readonly keplrChainInfo?: any;\r\n}\r\n\r\nconst devnetStargateSettings: BackendSettings = {\r\n  nodeUrls: [\"http://localhost:26659\"],\r\n  denominations: [\"ucosm\", \"ustake\"],\r\n  addressPrefix: \"wasm\",\r\n  gasPrice: GasPrice.fromString(\"0.25ucosm\"),\r\n};\r\n\r\nconst musselnetSettings: BackendSettings = {\r\n  nodeUrls: [\"https://rpc.musselnet.cosmwasm.com\"],\r\n  denominations: [\"umayo\", \"ufrites\"],\r\n  addressPrefix: \"wasm\",\r\n  gasPrice: GasPrice.fromString(\"0.25ucosm\"),\r\n};\r\n\r\nconst pebblenetSettings: BackendSettings = {\r\n  nodeUrls: [\"https://rpc.pebblenet.cosmwasm.com\"],\r\n  denominations: [\"upebble\"],\r\n  addressPrefix: \"wasm\",\r\n  gasPrice: GasPrice.fromString(\"0.25ucosm\"),\r\n  keplrChainInfo: {\r\n    rpc: \"https://rpc.pebblenet.cosmwasm.com\",\r\n    rest: \"https://lcd.pebblenet.cosmwasm.com\",\r\n    chainId: \"pebblenet-1\",\r\n    chainName: \"Wasm Pebblenet\",\r\n    stakeCurrency: {\r\n      coinDenom: \"PEBBLE\",\r\n      coinMinimalDenom: \"upebble\",\r\n      coinDecimals: 6,\r\n    },\r\n    bip44: {\r\n      coinType: 118,\r\n    },\r\n    bech32Config: {\r\n      bech32PrefixAccAddr: \"wasm\",\r\n      bech32PrefixAccPub: \"wasmpub\",\r\n      bech32PrefixValAddr: \"wasmvaloper\",\r\n      bech32PrefixValPub: \"wasmvaloperpub\",\r\n      bech32PrefixConsAddr: \"wasmvalcons\",\r\n      bech32PrefixConsPub: \"wasmvalconspub\",\r\n    },\r\n    currencies: [\r\n      {\r\n        coinDenom: \"PEBBLE\",\r\n        coinMinimalDenom: \"upebble\",\r\n        coinDecimals: 6,\r\n      },\r\n    ],\r\n    feeCurrencies: [\r\n      {\r\n        coinDenom: \"PEBBLE\",\r\n        coinMinimalDenom: \"upebble\",\r\n        coinDecimals: 6,\r\n      },\r\n    ],\r\n    features: [\"stargate\", \"ibc-transfer\", \"cosmwasm\"],\r\n    explorerUrlToTx: \"https://block-explorer.pebblenet.cosmwasm.com/transactions/{txHash}\",\r\n  },\r\n};\r\n\r\nconst uniSettings: BackendSettings = {\r\n  nodeUrls: [\"https://rpc.juno.giansalex.dev\"],\r\n  denominations: [\"ujunox\"],\r\n  addressPrefix: \"juno\",\r\n  gasPrice: GasPrice.fromString(\"0.25ucosm\"),\r\n  keplrChainInfo: {\r\n    rpc: \"https://rpc.juno.giansalex.dev:443\",\r\n    rest: \"https://lcd.juno.giansalex.dev:443\",\r\n    chainId: \"uni\",\r\n    chainName: \"Juno Testnet\",\r\n    stakeCurrency: {\r\n      coinDenom: \"JUNOX\",\r\n      coinMinimalDenom: \"ujunox\",\r\n      coinDecimals: 6,\r\n    },\r\n    bip44: {\r\n      coinType: 118,\r\n    },\r\n    bech32Config: {\r\n      bech32PrefixAccAddr: \"juno\",\r\n      bech32PrefixAccPub: \"junopub\",\r\n      bech32PrefixValAddr: \"junovaloper\",\r\n      bech32PrefixValPub: \"junovaloperpub\",\r\n      bech32PrefixConsAddr: \"junovalcons\",\r\n      bech32PrefixConsPub: \"junovalconspub\",\r\n    },\r\n    currencies: [\r\n      {\r\n        coinDenom: \"JUNOX\",\r\n        coinMinimalDenom: \"ujunox\",\r\n        coinDecimals: 6,\r\n      },\r\n    ],\r\n    feeCurrencies: [\r\n      {\r\n        coinDenom: \"JUNOX\",\r\n        coinMinimalDenom: \"ujunox\",\r\n        coinDecimals: 6,\r\n      },\r\n    ],\r\n    features: [\"stargate\", \"ibc-transfer\", \"cosmwasm\", \"no-legacy-stdTx\"],\r\n    explorerUrlToTx: \"https://uni.junoscan.com/transactions/{txHash}\",\r\n  },\r\n};\r\n\r\nconst knownBackends: Partial<Record<string, BackendSettings>> = {\r\n  devnetStargate: devnetStargateSettings,\r\n  musselnet: musselnetSettings,\r\n  pebblenet: pebblenetSettings,\r\n  uninet: uniSettings,\r\n};\r\n\r\nexport function getCurrentBackend(): BackendSettings {\r\n  const id = process.env.REACT_APP_BACKEND || \"uninet\";\r\n  const backend = knownBackends[id];\r\n  if (!backend) {\r\n    throw new Error(`No backend found for the given ID \"${id}\"`);\r\n  }\r\n  return backend;\r\n}\r\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\n\r\nimport { BackendSettings, getCurrentBackend } from \"./backend\";\r\n\r\nexport interface DeploymentSettings {\r\n  readonly routerType: \"browser-router\" | \"hash-router\";\r\n}\r\n\r\nexport interface Settings {\r\n  /** Where do we connect to */\r\n  readonly backend: BackendSettings;\r\n  /** How are we hosted */\r\n  readonly deployment: DeploymentSettings;\r\n}\r\n\r\nconst developmentServer: DeploymentSettings = {\r\n  routerType: \"browser-router\",\r\n};\r\n\r\nconst ghPages: DeploymentSettings = {\r\n  routerType: \"hash-router\",\r\n};\r\n\r\nconst firebaseHosting: DeploymentSettings = {\r\n  routerType: \"browser-router\",\r\n};\r\n\r\nexport const settings: Settings = {\r\n  backend: getCurrentBackend(),\r\n  deployment: process.env.NODE_ENV === \"production\" ? ghPages : developmentServer,\r\n};\r\n","import { isNonNullObject } from \"@cosmjs/utils\";\r\n\r\nconst runtimeCodes = {\r\n  error: \"_\\u2588_ErrorState_\\u2588_\" as const,\r\n  loading: \"_\\u2588_LoadingState_\\u2588_\" as const,\r\n};\r\n\r\nexport interface ErrorState {\r\n  readonly type: typeof runtimeCodes.error;\r\n}\r\n\r\nexport interface LoadingState {\r\n  readonly type: typeof runtimeCodes.loading;\r\n}\r\n\r\nexport function isErrorState(state: unknown): state is ErrorState {\r\n  if (!isNonNullObject(state)) return false;\r\n  return (state as ErrorState).type === runtimeCodes.error;\r\n}\r\n\r\nexport function isLoadingState(state: unknown): state is LoadingState {\r\n  if (!isNonNullObject(state)) return false;\r\n  return (state as LoadingState).type === runtimeCodes.loading;\r\n}\r\n\r\nexport const errorState: ErrorState = { type: runtimeCodes.error };\r\nexport const loadingState: LoadingState = { type: runtimeCodes.loading };\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport { NonEmptyArray } from \"../settings/backend\";\r\n\r\ninterface Props {\r\n  readonly currentUrl: string;\r\n  readonly urls: NonEmptyArray<string>;\r\n  readonly urlChanged: (newUrl: string) => void;\r\n}\r\n\r\nexport function EndpointSelector({ urls, currentUrl, urlChanged }: Props): JSX.Element {\r\n  if (urls.length === 1) {\r\n    return <Fragment>{currentUrl}</Fragment>;\r\n  } else {\r\n    return (\r\n      <Fragment>\r\n        <button\r\n          className=\"btn btn-secondary btn-sm dropdown-toggle\"\r\n          type=\"button\"\r\n          id=\"dropdownMenuButton\"\r\n          data-toggle=\"dropdown\"\r\n          aria-haspopup=\"true\"\r\n          aria-expanded=\"false\"\r\n        >\r\n          {currentUrl}\r\n        </button>\r\n        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n          {urls.map((url) => (\r\n            <button\r\n              key={url}\r\n              className={`dropdown-item` + (url === currentUrl ? \" active\" : \"\")}\r\n              type=\"button\"\r\n              onClick={() => urlChanged(url)}\r\n            >\r\n              {url}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport { ClientContext } from \"../contexts/ClientContext\";\r\nimport { ErrorState, isErrorState, isLoadingState, LoadingState } from \"../ui-utils/states\";\r\n\r\ninterface Props {\r\n  readonly htmlId: string;\r\n  readonly chainId: string | ErrorState | LoadingState;\r\n  readonly height: number | ErrorState | LoadingState;\r\n}\r\n\r\nexport function NodeInfoModal({ htmlId, chainId, height }: Props): JSX.Element {\r\n  const clientContext = React.useContext(ClientContext);\r\n\r\n  return (\r\n    <div\r\n      className=\"modal fade\"\r\n      id={htmlId}\r\n      tabIndex={-1}\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div className=\"modal-dialog\" role=\"document\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n              Node info\r\n            </h5>\r\n            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            Endpoint: {clientContext.nodeUrl}\r\n            <br />\r\n            Chain ID: {isLoadingState(chainId) ? \"Loading …\" : isErrorState(chainId) ? \"Error\" : chainId}\r\n            <br />\r\n            Height: {isLoadingState(height) ? \"Loading …\" : isErrorState(height) ? \"Error\" : height}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport { ClientContext } from \"../contexts/ClientContext\";\r\nimport { settings } from \"../settings\";\r\nimport { ErrorState, errorState, LoadingState, loadingState } from \"../ui-utils/states\";\r\nimport { EndpointSelector } from \"./EndpointSelector\";\r\nimport { NodeInfoModal } from \"./NodeInfoModal\";\r\n\r\ninterface Props {}\r\n\r\nconst hrStyle: React.CSSProperties = {\r\n  borderColor: \"rgba(255, 255, 255, 0.8)\",\r\n};\r\nconst whiteText = { color: \"#f0f0f0\" };\r\n\r\nfunction Separator(): JSX.Element {\r\n  return <Fragment> | </Fragment>;\r\n}\r\n\r\n/** Place me as a row in a container */\r\nexport function FooterRow(): JSX.Element {\r\n  const { client, nodeUrl, resetClient } = React.useContext(ClientContext);\r\n\r\n  const [chainId, setChainId] = React.useState<string | ErrorState | LoadingState>(loadingState);\r\n  const [height, setHeight] = React.useState<number | ErrorState | LoadingState>(loadingState);\r\n\r\n  const updateHeight = React.useCallback(() => {\r\n    client\r\n      ?.getHeight()\r\n      .then(setHeight)\r\n      .catch(() => setHeight(errorState));\r\n  }, [client]);\r\n\r\n  React.useEffect(() => {\r\n    client\r\n      ?.getChainId()\r\n      .then(setChainId)\r\n      .catch(() => setChainId(errorState));\r\n    updateHeight();\r\n  }, [client, updateHeight]);\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col\">\r\n        <hr style={hrStyle} />\r\n        <NodeInfoModal htmlId=\"nodeInfoModal\" chainId={chainId} height={height} />\r\n        <div style={whiteText} className=\"dropdown text-center font-weight-light mb-3\">\r\n          Endpoint{\" \"}\r\n          <EndpointSelector\r\n            currentUrl={nodeUrl}\r\n            urls={settings.backend.nodeUrls}\r\n            urlChanged={(newUrl) => resetClient(newUrl)}\r\n          />{\" \"}\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-sm btn-secondary\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#nodeInfoModal\"\r\n            onClick={updateHeight}\r\n          >\r\n            Node info\r\n          </button>\r\n          <Separator />\r\n          <a href=\"https://github.com/CosmWasm/code-explorer\" style={whiteText}>\r\n            Fork me on GitHub\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { makeCosmoshubPath, OfflineAminoSigner } from \"@cosmjs/amino\";\r\nimport {\r\n  CosmWasmClient as StargateClient,\r\n  SigningCosmWasmClient as StargateSigningClient,\r\n} from \"@cosmjs/cosmwasm-stargate\";\r\nimport {\r\n  MsgExecuteContract,\r\n  MsgInstantiateContract,\r\n  MsgStoreCode,\r\n} from \"cosmjs-types/cosmwasm/wasm/v1/tx\";\r\nimport { LedgerSigner } from \"@cosmjs/ledger-amino\";\r\nimport { OfflineDirectSigner, OfflineSigner, Registry } from \"@cosmjs/proto-signing\";\r\nimport TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\r\n\r\nimport { settings } from \"../settings\";\r\nimport { msgExecuteContractTypeUrl, msgInstantiateContractTypeUrl, msgStoreCodeTypeUrl } from \"./txs\";\r\n\r\nexport { StargateClient, StargateSigningClient };\r\n\r\nexport type WalletLoaderDirect = (\r\n  addressPrefix: string,\r\n  mnemonic?: string,\r\n) => Promise<OfflineDirectSigner | OfflineAminoSigner>;\r\n\r\nexport function loadKeplrWallet(client: StargateClient, keplrChainInfo: any): WalletLoaderDirect {\r\n  return async () => {\r\n    const chaindId = await client.getChainId();\r\n\r\n    await registerKeplrChain(keplrChainInfo);\r\n    const w = window as any;\r\n    await w.keplr.enable(chaindId);\r\n\r\n    return w.getOfflineSigner(chaindId);\r\n  };\r\n}\r\n\r\nasync function registerKeplrChain(keplrChainInfo: any): Promise<void> {\r\n  const w = window as any;\r\n  if (!w.getOfflineSigner || !w.keplr) {\r\n    throw new Error(\"Please install keplr extension\");\r\n  }\r\n\r\n  if (!w.keplr.experimentalSuggestChain) {\r\n    throw new Error(\"Please use the recent version of keplr extension\");\r\n  }\r\n\r\n  try {\r\n    await w.keplr.experimentalSuggestChain(keplrChainInfo);\r\n  } catch {\r\n    throw new Error(\"Failed to suggest the chain\");\r\n  }\r\n}\r\n\r\nexport async function loadLedgerWallet(addressPrefix: string): Promise<OfflineAminoSigner> {\r\n  const interactiveTimeout = 120_000;\r\n  const ledgerTransport = await TransportWebUSB.create(interactiveTimeout, interactiveTimeout);\r\n\r\n  return new LedgerSigner(ledgerTransport, { hdPaths: [makeCosmoshubPath(0)], prefix: addressPrefix });\r\n}\r\n\r\nasync function createStargateSigningClient(signer: OfflineSigner): Promise<StargateSigningClient> {\r\n  const { nodeUrls } = settings.backend;\r\n  const endpoint = nodeUrls[0];\r\n\r\n  const typeRegistry = new Registry([\r\n    [msgStoreCodeTypeUrl, MsgStoreCode],\r\n    [msgInstantiateContractTypeUrl, MsgInstantiateContract],\r\n    [msgExecuteContractTypeUrl, MsgExecuteContract],\r\n  ]);\r\n\r\n  return StargateSigningClient.connectWithSigner(endpoint, signer, {\r\n    registry: typeRegistry,\r\n  });\r\n}\r\n\r\nexport async function getAddressAndStargateSigningClient(\r\n  loadWallet: WalletLoaderDirect,\r\n  mnemonic?: string,\r\n): Promise<[string, StargateSigningClient]> {\r\n  const signer = await loadWallet(settings.backend.addressPrefix, mnemonic);\r\n  const userAddress = (await signer.getAccounts())[0].address;\r\n  const signingClient = await createStargateSigningClient(signer);\r\n  return [userAddress, signingClient];\r\n}\r\n\r\nexport function webUsbMissing(): boolean {\r\n  const anyNavigator: any = navigator;\r\n  return !anyNavigator?.usb;\r\n}\r\n","import React from \"react\";\r\n\r\nimport { ClientContext } from \"../contexts/ClientContext\";\r\nimport { settings } from \"../settings\";\r\nimport {\r\n  getAddressAndStargateSigningClient,\r\n  loadKeplrWallet,\r\n  loadLedgerWallet,\r\n  WalletLoaderDirect,\r\n  webUsbMissing,\r\n} from \"../ui-utils/clients\";\r\n\r\nexport function Login(): JSX.Element {\r\n  const { userAddress, setUserAddress, setSigningClient, client } = React.useContext(ClientContext);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState<string>();\r\n\r\n  async function loginStargate(loadWallet: WalletLoaderDirect): Promise<void> {\r\n    setLoading(true);\r\n    setError(undefined);\r\n\r\n    try {\r\n      const [userAddress, signingClient] = await getAddressAndStargateSigningClient(loadWallet);\r\n      setUserAddress(userAddress);\r\n      setSigningClient(signingClient);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  function logout(): void {\r\n    setError(undefined);\r\n    setUserAddress(undefined);\r\n    setSigningClient(undefined);\r\n  }\r\n\r\n  function renderLoginButton(): JSX.Element {\r\n    const { keplrChainInfo } = settings.backend;\r\n\r\n    let keplrButton;\r\n    if (keplrChainInfo !== undefined && client !== null) {\r\n      keplrButton = (\r\n        <button\r\n          className=\"dropdown-item\"\r\n          onClick={async () => loginStargate(loadKeplrWallet(client, keplrChainInfo))}\r\n        >\r\n          Keplr wallet\r\n        </button>\r\n      );\r\n    }\r\n\r\n    return loading ? (\r\n      <button className=\"btn btn-primary\" type=\"button\" disabled>\r\n        <span className=\"spinner-border spinner-border-sm mr-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n        Loading...\r\n      </button>\r\n    ) : (\r\n      <>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary dropdown-toggle\"\r\n          data-toggle=\"dropdown\"\r\n          aria-haspopup=\"true\"\r\n          aria-expanded=\"false\"\r\n        >\r\n          Login\r\n        </button>\r\n        <div className=\"dropdown-menu\">\r\n          <h6 className=\"dropdown-header\">with</h6>\r\n          {keplrButton}\r\n          <button\r\n            className=\"dropdown-item\"\r\n            onClick={() => loginStargate(loadLedgerWallet)}\r\n            disabled={webUsbMissing()}\r\n          >\r\n            Ledger wallet\r\n          </button>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  function renderLogoutButton(): JSX.Element {\r\n    return (\r\n      <button className=\"btn btn-primary\" onClick={logout}>\r\n        Logout\r\n      </button>\r\n    );\r\n  }\r\n\r\n  const isUserLoggedIn = !!userAddress;\r\n\r\n  return (\r\n    <div className=\"d-flex align-items-center justify-content-end\">\r\n      {error ? <div className=\"mr-3 p-2 rounded bg-white text-danger\">{error}</div> : null}\r\n      {isUserLoggedIn ? renderLogoutButton() : renderLoginButton()}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { ClientContext } from \"../contexts/ClientContext\";\n\nexport function UserAddress(): JSX.Element {\n  const { userAddress } = React.useContext(ClientContext);\n\n  return userAddress ? (\n    <>\n      <Link className=\"btn btn-light mr-3\" to={`/codes/new`}>\n        Upload\n      </Link>\n      <div className=\"mr-3 p-2 rounded bg-white\">\n        <span className=\"badge\">{userAddress}</span>\n      </div>\n    </>\n  ) : (\n    <></>\n  );\n}\n","import React from \"react\";\r\n\r\nimport { Login } from \"./Login\";\r\nimport { UserAddress } from \"./UserAddress\";\r\n\r\nexport function Header(): JSX.Element {\r\n  return (\r\n    <header className=\"mt-3 p-0 d-flex align-items-center justify-content-end container contract-container\">\r\n      <UserAddress />\r\n      <Login />\r\n    </header>\r\n  );\r\n}\r\n","import { fromUtf8 } from \"@cosmjs/encoding\";\r\nimport { Decimal } from \"@cosmjs/math\";\r\nimport { Coin } from \"cosmjs-types/cosmos/base/v1beta1/coin\";\r\n\r\nexport function ellideMiddle(str: string, maxOutLen: number): string {\r\n  if (str.length <= maxOutLen) {\r\n    return str;\r\n  }\r\n  const ellide = \"…\";\r\n  const frontLen = Math.ceil((maxOutLen - ellide.length) / 2);\r\n  const tailLen = Math.floor((maxOutLen - ellide.length) / 2);\r\n  return str.slice(0, frontLen) + ellide + str.slice(str.length - tailLen, str.length);\r\n}\r\n\r\nexport function ellideRight(str: string, maxOutLen: number): string {\r\n  if (str.length <= maxOutLen) {\r\n    return str;\r\n  }\r\n  const ellide = \"…\";\r\n  const frontLen = maxOutLen - ellide.length;\r\n  return str.slice(0, frontLen) + ellide;\r\n}\r\n\r\n// NARROW NO-BREAK SPACE (U+202F)\r\nconst thinSpace = \"\\u202F\";\r\n\r\nfunction printableCoin(coin: Coin): string {\r\n  if (coin.denom?.startsWith(\"u\")) {\r\n    const ticker = coin.denom.slice(1).toUpperCase();\r\n    return Decimal.fromAtomics(coin.amount ?? \"0\", 6).toString() + thinSpace + ticker;\r\n  } else {\r\n    return coin.amount + thinSpace + coin.denom;\r\n  }\r\n}\r\n\r\nexport function printableBalance(balance: readonly Coin[]): string {\r\n  if (balance.length === 0) return \"–\";\r\n  return balance.map(printableCoin).join(\", \");\r\n}\r\n\r\nexport function parseMsgContract(msg: Uint8Array): any {\r\n  const json = fromUtf8(msg);\r\n\r\n  return JSON.parse(json);\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { ellideMiddle } from \"../ui-utils\";\r\n\r\ninterface Props {\r\n  readonly address: string;\r\n  readonly maxLength?: number | null;\r\n}\r\n\r\nexport function AccountLink({ address, maxLength = 20 }: Props): JSX.Element {\r\n  return (\r\n    <Link to={`/accounts/${address}`} title={address}>\r\n      {ellideMiddle(address, maxLength || 99999)}\r\n    </Link>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { ellideMiddle } from \"../ui-utils\";\r\n\r\ninterface Props {\r\n  readonly transactionId: string;\r\n  readonly maxLength?: number | null;\r\n}\r\n\r\nexport function TransactionLink({ transactionId, maxLength = 20 }: Props): JSX.Element {\r\n  return (\r\n    <Link to={`/transactions/${transactionId}`} title={transactionId}>\r\n      {ellideMiddle(transactionId, maxLength || 99999)}\r\n    </Link>\r\n  );\r\n}\r\n","import { MsgSend } from \"cosmjs-types/cosmos/bank/v1beta1/tx\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { TransactionLink } from \"../../components/TransactionLink\";\r\nimport { printableBalance } from \"../../ui-utils\";\r\n\r\nexport interface Transfer {\r\n  readonly key: string;\r\n  readonly height: number;\r\n  readonly transactionId: string;\r\n  readonly msg: MsgSend;\r\n}\r\n\r\ninterface Props {\r\n  readonly transfers: readonly Transfer[];\r\n}\r\n\r\nexport function TransfersTable({ transfers: executions }: Props): JSX.Element {\r\n  return (\r\n    <table className=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">#</th>\r\n          <th scope=\"col\">Height</th>\r\n          <th scope=\"col\">Transaction ID</th>\r\n          <th scope=\"col\">Sender</th>\r\n          <th scope=\"col\">Recipient</th>\r\n          <th scope=\"col\">Amount</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {executions.map((execution, index) => (\r\n          <tr key={execution.key}>\r\n            <th scope=\"row\">{index + 1}</th>\r\n            <td>{execution.height}</td>\r\n            <td>\r\n              <TransactionLink transactionId={execution.transactionId} />\r\n            </td>\r\n            <td>\r\n              <AccountLink address={execution.msg.fromAddress} />\r\n            </td>\r\n            <td>\r\n              <AccountLink address={execution.msg.toAddress} />\r\n            </td>\r\n            <td>{printableBalance(execution.msg.amount)}</td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n","import { Registry } from \"@cosmjs/proto-signing\";\r\nimport { IndexedTx } from \"@cosmjs/stargate\";\r\nimport { Coin } from \"cosmjs-types/cosmos/base/v1beta1/coin\";\r\nimport { Tx } from \"cosmjs-types/cosmos/tx/v1beta1/tx\";\r\nimport React from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport { FooterRow } from \"../../components/FooterRow\";\r\nimport { Header } from \"../../components/Header\";\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { settings } from \"../../settings\";\r\nimport { ellideMiddle, printableBalance } from \"../../ui-utils\";\r\nimport { StargateClient } from \"../../ui-utils/clients\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\nimport { AnyMsgSend, isAnyMsgSend } from \"../../ui-utils/txs\";\r\nimport { Transfer, TransfersTable } from \"./TransfersTable\";\r\n\r\ntype ICoin = Coin;\r\n\r\nfunction getTransferFromStargateMsgSend(typeRegistry: Registry, tx: IndexedTx) {\r\n  return (msg: AnyMsgSend, i: number) => {\r\n    const decodedMsg = typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value });\r\n    return {\r\n      key: `${tx.hash}_${i}`,\r\n      height: tx.height,\r\n      transactionId: tx.hash,\r\n      msg: decodedMsg,\r\n    };\r\n  };\r\n}\r\n\r\nconst stargateEffect = (\r\n  client: StargateClient,\r\n  address: string,\r\n  typeRegistry: Registry,\r\n  setBalance: (balance: readonly ICoin[] | ErrorState | LoadingState) => void,\r\n  setTransfers: (transfers: readonly Transfer[] | ErrorState | LoadingState) => void,\r\n) => (): void => {\r\n  Promise.all(settings.backend.denominations.map((denom) => client.getBalance(address, denom)))\r\n    .then((balances) => {\r\n      const filteredBalances = balances.filter((balance): balance is Coin => balance !== null);\r\n      setBalance(filteredBalances);\r\n    })\r\n    .catch(() => setBalance(errorState));\r\n  client\r\n    .searchTx({ sentFromOrTo: address })\r\n    .then((txs) => {\r\n      const out = txs.reduce((transfers: readonly Transfer[], tx: IndexedTx): readonly Transfer[] => {\r\n        const decodedTx = Tx.decode(tx.tx);\r\n        const txTransfers = (decodedTx?.body?.messages ?? [])\r\n          .filter(isAnyMsgSend)\r\n          .map(getTransferFromStargateMsgSend(typeRegistry, tx));\r\n        return [...transfers, ...txTransfers];\r\n      }, []);\r\n      setTransfers(out);\r\n    })\r\n    .catch(() => setTransfers(errorState));\r\n};\r\n\r\nexport function AccountPage(): JSX.Element {\r\n  const { client, typeRegistry } = React.useContext(ClientContext);\r\n  const { address: addressParam } = useParams<{ readonly address: string }>();\r\n  const address = addressParam || \"\";\r\n\r\n  const [balance, setBalance] = React.useState<readonly ICoin[] | ErrorState | LoadingState>(loadingState);\r\n  const [transfers, setTransfers] = React.useState<readonly Transfer[] | ErrorState | LoadingState>(\r\n    loadingState,\r\n  );\r\n\r\n  React.useEffect(\r\n    client !== null ? stargateEffect(client, address, typeRegistry, setBalance, setTransfers) : () => {},\r\n    [address, client, typeRegistry],\r\n  );\r\n\r\n  const pageTitle = <span title={address}>Account {ellideMiddle(address, 15)}</span>;\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header />\r\n      <div className=\"container mt-3 contract-container\">\r\n        <div className=\"row white-row white-row-first\">\r\n          <div className=\"col\">\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\">\r\n                  <Link to=\"/\">Home</Link>\r\n                </li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                  {pageTitle}\r\n                </li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row white-row\">\r\n          <div className=\"col\">\r\n            <h1>{pageTitle}</h1>\r\n            <ul className=\"list-group list-group-horizontal mb-3\">\r\n              <li className=\"list-group-item\" title=\"Bank tokens owned by this contract\">\r\n                Balance:{\" \"}\r\n                {isLoadingState(balance)\r\n                  ? \"Loading …\"\r\n                  : isErrorState(balance)\r\n                  ? \"Error\"\r\n                  : printableBalance(balance)}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row white-row white-row-last\">\r\n          <div className=\"col\">\r\n            <h2>Token transfers</h2>\r\n            <p>Incoming and outgoing bank token transfers</p>\r\n            {isLoadingState(transfers) ? (\r\n              <p>Loading …</p>\r\n            ) : isErrorState(transfers) ? (\r\n              <p>Error</p>\r\n            ) : transfers.length === 0 ? (\r\n              <p>No transfer found</p>\r\n            ) : (\r\n              <TransfersTable transfers={transfers} />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <FooterRow />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export interface Tag {\r\n  readonly key: string;\r\n  readonly value: string;\r\n}\r\n\r\nexport function makeTags(oneLiner: string): Tag[] {\r\n  return oneLiner.split(\"&\").map((pair) => {\r\n    if (pair.indexOf(\"=\") === -1) throw new Error(\"Parsing error: Equal sign missing\");\r\n    const parts = pair.split(\"=\");\r\n    if (parts.length > 2) {\r\n      throw new Error(\r\n        \"Parsing error: Multiple equal signs found. If you need escaping support, please create a PR.\",\r\n      );\r\n    }\r\n    const [key, value] = parts;\r\n    if (!key) throw new Error(\"Parsing error: Key must not be empty\");\r\n    return { key, value };\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { ellideMiddle } from \"../ui-utils\";\r\n\r\ninterface Props {\r\n  readonly address: string;\r\n  readonly maxLength?: number | null;\r\n}\r\n\r\nexport function ContractLink({ address, maxLength = 20 }: Props): JSX.Element {\r\n  return (\r\n    <Link to={`/contracts/${address}`} title={address}>\r\n      {ellideMiddle(address, maxLength || 99999)}\r\n    </Link>\r\n  );\r\n}\r\n","// Place error box below text box, so appearing error does not push text box down\r\nexport const jsonInputStyle = {\r\n  container: { display: \"flex\", flexDirection: \"column\" },\r\n  body: { order: \"1\" },\r\n  warningBox: { order: \"2\" },\r\n};\r\n","import { InstantiateResult } from \"@cosmjs/cosmwasm-stargate\";\nimport { calculateFee, Coin } from \"@cosmjs/stargate\";\nimport React from \"react\";\nimport JSONInput from \"react-json-editor-ajrm\";\nimport { ContractLink } from \"../../components/ContractLink\";\nimport { TransactionLink } from \"../../components/TransactionLink\";\n\nimport { ClientContext } from \"../../contexts/ClientContext\";\nimport { settings } from \"../../settings\";\nimport { jsonInputStyle } from \"../../ui-utils/jsonInput\";\nimport { Result } from \"./ContractPage\";\n\nconst executePlaceholder = {\n  name: \"Nation coin\",\n  symbol: \"NTN\",\n  decimals: 6,\n};\n\nconst coinsPlaceholder = [{ denom: settings.backend.denominations[0], amount: \"1\" }];\n\ninterface Props {\n  readonly codeId: number;\n}\n\nexport function InstantiationContract({ codeId }: Props): JSX.Element {\n  const { userAddress, signingClient } = React.useContext(ClientContext);\n\n  const [executing, setExecuting] = React.useState(false);\n  const [error, setError] = React.useState<string>();\n\n  const [memo, setMemo] = React.useState<string>();\n  const [label, setLabel] = React.useState<string>();\n\n  const [msgObject, setMsgObject] = React.useState<Result<Record<string, any>>>();\n  const [coinsObject, setCoinsObject] = React.useState<Result<ReadonlyArray<Coin>>>();\n\n  const [executeResponse, setExecuteResponse] = React.useState<Result<InstantiateResult>>();\n\n  React.useEffect(() => {\n    setMsgObject({ result: executePlaceholder });\n    setCoinsObject({ result: coinsPlaceholder });\n  }, []);\n\n  React.useEffect(() => {\n    if (msgObject?.error) {\n      setError(msgObject.error);\n      return;\n    }\n\n    if (executeResponse?.error) {\n      setError(executeResponse.error);\n      return;\n    }\n\n    if (coinsObject?.error) {\n      setError(coinsObject.error);\n      return;\n    }\n\n    setError(undefined);\n  }, [coinsObject, executeResponse, msgObject]);\n\n  async function executeContract(): Promise<void> {\n    if (!msgObject?.result || !userAddress || !label || !signingClient) return;\n\n    setExecuting(true);\n\n    try {\n      const executeResponseResult: InstantiateResult = await signingClient.instantiate(\n        userAddress,\n        codeId,\n        msgObject.result,\n        label,\n        calculateFee(600000, settings.backend.gasPrice),\n        {\n          memo: memo,\n          funds: coinsObject?.result,\n        },\n      );\n      setExecuteResponse({ result: executeResponseResult });\n    } catch (error) {\n      setExecuteResponse({ error: `Execute error: ${error.message}` });\n    }\n\n    setExecuting(false);\n  }\n\n  return (\n    <div className=\"card mb-3\">\n      <ul className=\"list-group list-group-flush\">\n        <li className=\"list-group-item d-flex align-items-baseline\">\n          <span title=\"The contract query input\">Instantiate contract:</span>\n        </li>\n        <li className=\"list-group-item d-flex align-items-baseline\">\n          <JSONInput\n            width=\"100%\"\n            height=\"200px\"\n            placeholder={executePlaceholder}\n            confirmGood={false}\n            style={jsonInputStyle}\n            onChange={({ jsObject }: any) => setMsgObject({ result: jsObject })}\n          />\n        </li>\n        <li className=\"list-group-item d-flex align-items-baseline\">\n          <span title=\"The contract query input\">Coins to transfer:</span>\n        </li>\n        <li className=\"list-group-item d-flex align-items-baseline\">\n          <JSONInput\n            width=\"100%\"\n            height=\"120px\"\n            placeholder={coinsPlaceholder}\n            confirmGood={false}\n            style={jsonInputStyle}\n            onChange={({ jsObject }: any) => setCoinsObject({ result: jsObject })}\n          />\n        </li>\n        <li className=\"list-group-item d-flex align-items-baseline\">\n          <div className=\"form-group row flex-grow-1\">\n            <label className=\"col-sm-2 col-form-label\">Label</label>\n            <div className=\"col-sm-10\">\n              <input\n                className=\"form-control\"\n                value={label}\n                onChange={(event) => setLabel(event.target.value)}\n              />\n            </div>\n          </div>\n        </li>\n        <li className=\"list-group-item d-flex align-items-baseline\">\n          <div className=\"form-group row flex-grow-1\">\n            <label className=\"col-sm-2 col-form-label\">Memo</label>\n            <div className=\"col-sm-10\">\n              <input\n                className=\"form-control\"\n                value={memo}\n                onChange={(event) => setMemo(event.target.value)}\n              />\n            </div>\n          </div>\n        </li>\n        <div className=\"list-group-item btn-group\">\n          {executing ? (\n            <button className=\"btn btn-primary\" type=\"button\" disabled>\n              <span className=\"spinner-border spinner-border-sm mr-2\" role=\"status\" aria-hidden=\"true\"></span>\n              Executing...\n            </button>\n          ) : (\n            <button\n              className=\"btn btn-primary\"\n              onClick={executeContract}\n              disabled={!msgObject?.result || !signingClient}\n            >\n              Instantiate contract\n            </button>\n          )}\n        </div>\n        {executeResponse?.result ? (\n          <>\n            <li className=\"list-group-item\">\n              <span className=\"font-weight-bold\">Response:</span>\n            </li>\n            <li className=\"list-group-item\">\n              <div className=\"row mb-3\">\n                <div className=\"col-md-3\">\n                  <span>Contract:</span>\n                </div>\n                <div className=\"col-md-9\">\n                  <ContractLink address={executeResponse.result.contractAddress} maxLength={99} />\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col-md-3\">\n                  <span>Transaction:</span>\n                </div>\n                <div className=\"col-md-9\">\n                  <TransactionLink transactionId={executeResponse.result.transactionHash} maxLength={40} />\n                </div>\n              </div>\n            </li>\n          </>\n        ) : null}\n        {error ? (\n          <li className=\"list-group-item\">\n            <span className=\"text-danger\" title=\"The contract query error\">\n              {error}\n            </span>\n          </li>\n        ) : null}\n      </ul>\n    </div>\n  );\n}\n","import { CodeDetails } from \"@cosmjs/cosmwasm-stargate\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { TransactionLink } from \"../../components/TransactionLink\";\r\nimport { ErrorState, isErrorState, isLoadingState, LoadingState } from \"../../ui-utils/states\";\r\n\r\ninterface Props {\r\n  readonly code: CodeDetails;\r\n  readonly uploadTxHash: string | undefined | ErrorState | LoadingState;\r\n}\r\n\r\nexport function CodeInfo({ code, uploadTxHash }: Props): JSX.Element {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item\">\r\n          Upload transaction:{\" \"}\r\n          {isLoadingState(uploadTxHash) ? (\r\n            \"Loading …\"\r\n          ) : isErrorState(uploadTxHash) ? (\r\n            \"Error\"\r\n          ) : uploadTxHash === undefined ? (\r\n            \"–\"\r\n          ) : (\r\n            <TransactionLink transactionId={uploadTxHash} />\r\n          )}\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          Creator: <AccountLink address={code.creator} maxLength={null} />\r\n        </li>\r\n        <li className=\"list-group-item\">Checksum: {code.checksum}</li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import { Contract } from \"@cosmjs/cosmwasm-stargate\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { ContractLink } from \"../../components/ContractLink\";\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\n\r\ninterface Props {\r\n  readonly position: number;\r\n  readonly address: string;\r\n}\r\n\r\nfunction InstanceRow({ position, address }: Props): JSX.Element {\r\n  const { client } = React.useContext(ClientContext);\r\n  const [contract, setContractInfo] = React.useState<Contract | ErrorState | LoadingState>(loadingState);\r\n\r\n  React.useEffect(() => {\r\n    (client?.getContract(address) as Promise<Contract>)\r\n      .then((execTxs) => setContractInfo(execTxs))\r\n      .catch(() => setContractInfo(errorState));\r\n  }, [client, address]);\r\n\r\n  return isLoadingState(contract) ? (\r\n    <tr>\r\n      <td>Loading ...</td>\r\n    </tr>\r\n  ) : isErrorState(contract) ? (\r\n    <tr>\r\n      <td>Error</td>\r\n    </tr>\r\n  ) : (\r\n    <tr>\r\n      <th scope=\"row\">{position}</th>\r\n      <td>{contract.label}</td>\r\n      <td>\r\n        <ContractLink address={contract.address} />\r\n      </td>\r\n      <td>\r\n        <AccountLink address={contract.creator} />\r\n      </td>\r\n      <td>{contract.admin ? <AccountLink address={contract.admin} /> : \"–\"}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default InstanceRow;\r\n","import React from \"react\";\r\n\r\nexport function InstancesEmptyState(): JSX.Element {\r\n  return <p>Code is not yet instantiated</p>;\r\n}\r\n","import \"./CodePage.css\";\n\nimport { CodeDetails } from \"@cosmjs/cosmwasm-stargate\";\nimport React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\n\nimport { FooterRow } from \"../../components/FooterRow\";\nimport { Header } from \"../../components/Header\";\nimport { ClientContext } from \"../../contexts/ClientContext\";\nimport { makeTags } from \"../../ui-utils/sdkhelpers\";\nimport {\n  ErrorState,\n  errorState,\n  isErrorState,\n  isLoadingState,\n  LoadingState,\n  loadingState,\n} from \"../../ui-utils/states\";\nimport { InstantiationContract } from \"../contract/InstantiationContract\";\nimport { CodeInfo } from \"./CodeInfo\";\nimport InstanceRow from \"./InstanceRow\";\nimport { InstancesEmptyState } from \"./InstancesEmptyState\";\n\nexport function CodePage(): JSX.Element {\n  const { client } = React.useContext(ClientContext);\n  const { codeId: codeIdParam } = useParams<{ readonly codeId: string }>();\n  const codeId = parseInt(codeIdParam || \"0\", 10);\n\n  const [details, setDetails] = React.useState<CodeDetails | ErrorState | LoadingState>(loadingState);\n  const [contracts, setContracts] = React.useState<readonly string[] | ErrorState | LoadingState>(\n    loadingState,\n  );\n  const [uploadTxHash, setUploadTxHash] = React.useState<string | undefined | ErrorState | LoadingState>(\n    loadingState,\n  );\n\n  React.useEffect(() => {\n    client\n      ?.getContracts(codeId)\n      .then(setContracts)\n      .catch(() => setContracts(errorState));\n    client\n      ?.getCodeDetails(codeId)\n      .then(setDetails)\n      .catch(() => setDetails(errorState));\n    client\n      ?.searchTx({\n        tags: makeTags(`message.module=wasm&store_code.code_id=${codeId}`),\n      })\n      .then((results) => {\n        const first = results.find(() => true);\n        setUploadTxHash(first?.hash);\n      });\n  }, [client, codeId]);\n\n  const pageTitle = <span>Code #{codeId}</span>;\n\n  return (\n    <div className=\"page\">\n      <Header />\n      <div className=\"container mt-3\">\n        <div className=\"row white-row white-row-first\">\n          <div className=\"col\">\n            <nav aria-label=\"breadcrumb\">\n              <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\">\n                  <Link to=\"/codes\">Codes</Link>\n                </li>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                  {pageTitle}\n                </li>\n              </ol>\n            </nav>\n          </div>\n        </div>\n        <div className=\"row white-row\">\n          <div className=\"col\">\n            <h1>{pageTitle}</h1>\n            <ul className=\"list-group list-group-horizontal mb-3\">\n              <li className=\"list-group-item\">Type: Wasm</li>\n              <li className=\"list-group-item\">\n                Size:{\" \"}\n                {isLoadingState(details)\n                  ? \"Loading …\"\n                  : isErrorState(details)\n                  ? \"Error\"\n                  : Math.round(details.data.length / 1024) + \" KiB\"}\n              </li>\n            </ul>\n          </div>\n          <div className=\"col\">\n            {isLoadingState(details) ? (\n              <span>Loading …</span>\n            ) : isErrorState(details) ? (\n              <span>Error</span>\n            ) : (\n              <>\n                <CodeInfo code={details} uploadTxHash={uploadTxHash} />\n                <InstantiationContract codeId={details.id} />\n              </>\n            )}\n          </div>\n        </div>\n        <div className=\"row white-row white-row-last\">\n          <div className=\"col\">\n            <h2>Instances</h2>\n            {isLoadingState(contracts) ? (\n              <p>Loading …</p>\n            ) : isErrorState(contracts) ? (\n              <p>Error loading instances</p>\n            ) : contracts.length === 0 ? (\n              <InstancesEmptyState />\n            ) : (\n              <table className=\"table\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">Label</th>\n                    <th scope=\"col\">Contract</th>\n                    <th scope=\"col\">Creator</th>\n                    <th scope=\"col\">Admin</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {contracts.map((address, index) => (\n                    <InstanceRow position={index + 1} address={address} key={address} />\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        </div>\n        <FooterRow />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  readonly codeId: number;\r\n  readonly text?: string;\r\n}\r\n\r\nexport function CodeLink({ codeId, text }: Props): JSX.Element {\r\n  return <Link to={`/codes/${codeId}`}>{text || `Code #${codeId}`}</Link>;\r\n}\r\n","import \"./NewCodePage.css\";\n\nimport { UploadResult } from \"@cosmjs/cosmwasm-stargate\";\nimport { calculateFee } from \"@cosmjs/stargate\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { FooterRow } from \"../../components/FooterRow\";\nimport { Header } from \"../../components/Header\";\nimport { ClientContext } from \"../../contexts/ClientContext\";\nimport { Result } from \"../contract/ContractPage\";\nimport { CodeLink } from \"../../components/CodeLink\";\nimport { TransactionLink } from \"../../components/TransactionLink\";\nimport { settings } from \"../../settings\";\n\nexport function NewCodePage(): JSX.Element {\n  const { userAddress, signingClient } = React.useContext(ClientContext);\n  const [wasm, setWasm] = React.useState<File | null>();\n  const [memo, setMemo] = React.useState<string>();\n\n  const [executing, setExecuting] = React.useState(false);\n  const [executeResponse, setExecuteResponse] = React.useState<Result<UploadResult>>();\n  const [error, setError] = React.useState<string>();\n\n  React.useEffect(() => {\n    if (executeResponse?.error) {\n      setError(executeResponse.error);\n      return;\n    }\n\n    setError(undefined);\n  }, [executeResponse]);\n\n  async function uploadCode(): Promise<void> {\n    if (!userAddress || !wasm || !signingClient) return;\n\n    setExecuting(true);\n    const wasmBytes = new Uint8Array(await wasm.arrayBuffer());\n    try {\n      const executeResponseResult: UploadResult = await signingClient.upload(\n        userAddress,\n        wasmBytes,\n        calculateFee(2000000, settings.backend.gasPrice),\n        memo\n      );\n      setExecuteResponse({ result: executeResponseResult });\n    } catch (error) {\n      setExecuteResponse({ error: `Execute error: ${error.message}` });\n    }\n\n    setExecuting(false);\n  }\n\n  return (\n    <div className=\"page\">\n      <Header />\n      <div className=\"container mt-3\">\n        <div className=\"row white-row white-row-first\">\n          <div className=\"col\">\n            <nav aria-label=\"breadcrumb\">\n              <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\">\n                  <Link to=\"/codes\">Codes</Link>\n                </li>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                  New Code\n                </li>\n              </ol>\n            </nav>\n          </div>\n        </div>\n        <div className=\"row white-row white-row-last\">\n          <div className=\"col\">\n            <div className=\"card mb-3\">\n              <ul className=\"list-group list-group-flush\">\n                <li className=\"list-group-item d-flex align-items-baseline\">\n                  <span>New Wasm Code</span>\n                </li>\n                <li className=\"list-group-item d-flex align-items-baseline\">\n                  <span title=\"The wasm code\">Wasm:</span>\n                  <div className=\"file btn btn-secondary\">\n                    {wasm?.name ?? \"Select file\"}\n                    <input\n                      type=\"file\"\n                      accept=\".wasm\"\n                      className=\"ml-3 flex-grow-1 form-control-file\"\n                      onChange={(e) => setWasm(e.target.files?.item(0))}\n                    />\n                  </div>\n                </li>\n                <li className=\"list-group-item d-flex align-items-baseline\">\n                  <label title=\"The tx memo\">Memo:</label>\n                  <input\n                    className=\"ml-3 flex-grow-1 form-control\"\n                    value={memo}\n                    onChange={(event) => setMemo(event.target.value)}\n                  />\n                </li>\n                <div className=\"list-group-item btn-group\">\n                  {executing ? (\n                    <button className=\"btn btn-primary\" type=\"button\" disabled>\n                      <span\n                        className=\"spinner-border spinner-border-sm mr-2\"\n                        role=\"status\"\n                        aria-hidden=\"true\"\n                      ></span>\n                      Executing...\n                    </button>\n                  ) : (\n                    <button className=\"btn btn-primary\" onClick={uploadCode} disabled={!signingClient}>\n                      Upload\n                    </button>\n                  )}\n                </div>\n                {executeResponse?.result ? (\n                  <>\n                    <li className=\"list-group-item\">\n                      <span className=\"font-weight-bold\">Response:</span>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <div className=\"row mb-3\">\n                        <div className=\"col-md-2\">\n                          <span>Code ID:</span>\n                        </div>\n                        <div className=\"col-md-10\">\n                          <CodeLink codeId={executeResponse.result.codeId} text={\"#\" + executeResponse.result.codeId} />\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col-md-2\">\n                          <span>Transaction:</span>\n                        </div>\n                        <div className=\"col-md-10\">\n                          <TransactionLink transactionId={executeResponse.result.transactionHash} maxLength={99} />\n                        </div>\n                      </div>\n                    </li>\n                  </>\n                ) : null}\n                {error ? (\n                  <li className=\"list-group-item\">\n                    <span className=\"text-danger\" title=\"The contract query error\">\n                      {error}\n                    </span>\n                  </li>\n                ) : null}\n              </ul>\n            </div>\n          </div>\n        </div>\n        <FooterRow />\n      </div>\n    </div>\n  );\n}\n","import \"./Code.css\";\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { ellideMiddle } from \"../../ui-utils\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\n\r\nexport interface CodeData {\r\n  readonly codeId: number;\r\n  readonly checksum: string;\r\n  readonly creator: string;\r\n}\r\n\r\ninterface Props {\r\n  readonly data: CodeData;\r\n  readonly index: number;\r\n}\r\n\r\ninterface InstantiationInfo {\r\n  readonly instantiations: number;\r\n}\r\n\r\nexport function Code({ data, index }: Props): JSX.Element {\r\n  const { client } = React.useContext(ClientContext);\r\n  const [instantiationInfo, setInstantiationInfo] = React.useState<\r\n    InstantiationInfo | ErrorState | LoadingState\r\n  >(loadingState);\r\n\r\n  React.useEffect(() => {\r\n    client\r\n      ?.getContracts(data.codeId)\r\n      .then((contracts) => {\r\n        setInstantiationInfo({\r\n          instantiations: contracts.length,\r\n        });\r\n      })\r\n      .catch(() => setInstantiationInfo(errorState));\r\n    // Don't make clientContext.client a dependency. Whenever it changes, this component is recreated entirely\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data.codeId]);\r\n\r\n  return (\r\n    <div className={\"flex-element-two-two mb-3\" + (index % 2 ? \" pl-lg-2\" : \" pr-lg-2\")}>\r\n      <Link to={`/codes/${data.codeId}`} className=\"code-content\">\r\n        <div className=\"id\">#{data.codeId}</div>\r\n        <div className=\"details\">\r\n          Creator: {ellideMiddle(data.creator, 30)}\r\n          <br />\r\n          Checksum: {data.checksum.slice(0, 10)}\r\n          <br />\r\n          Instances:{\" \"}\r\n          {isLoadingState(instantiationInfo)\r\n            ? \"Loading …\"\r\n            : isErrorState(instantiationInfo)\r\n            ? \"Error\"\r\n            : instantiationInfo.instantiations}\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import \"./Codes.css\";\r\n\r\nimport React from \"react\";\r\n\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\nimport { Code, CodeData } from \"./Code\";\r\n\r\ninterface LoadedCode {\r\n  readonly source: string;\r\n  readonly data: CodeData;\r\n}\r\n\r\nfunction codeKey(code: LoadedCode): string {\r\n  return `${code.source}__${code.data.codeId}`;\r\n}\r\n\r\nexport function Codes(): JSX.Element {\r\n  const { client, nodeUrl } = React.useContext(ClientContext);\r\n  const [codes, setCodes] = React.useState<readonly LoadedCode[] | ErrorState | LoadingState>(loadingState);\r\n\r\n  React.useEffect(() => {\r\n    client\r\n      ?.getCodes()\r\n      .then((codeInfos) => {\r\n        const processed = codeInfos\r\n          .map(\r\n            (response): LoadedCode => ({\r\n              source: nodeUrl,\r\n              data: {\r\n                codeId: response.id,\r\n                checksum: response.checksum,\r\n                creator: response.creator,\r\n              },\r\n            }),\r\n          )\r\n          .reverse();\r\n        setCodes(processed);\r\n      })\r\n      .catch(() => setCodes(errorState));\r\n  }, [client, nodeUrl]);\r\n\r\n  // Display codes vertically on small devices and in a flex container on large and above\r\n  return (\r\n    <div className=\"d-lg-flex flex-wrap\">\r\n      {isLoadingState(codes) ? (\r\n        <p>Loading …</p>\r\n      ) : isErrorState(codes) ? (\r\n        <p>Error loading codes</p>\r\n      ) : codes.length === 0 ? (\r\n        <p>No code uploaded yet</p>\r\n      ) : (\r\n        codes.map((code, index) => <Code data={code.data} index={index} key={codeKey(code)} />)\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { FooterRow } from \"../../components/FooterRow\";\r\nimport { Header } from \"../../components/Header\";\r\nimport { Codes } from \"./Codes\";\r\n\r\nexport function CodesPage(): JSX.Element {\r\n  return (\r\n    <div className=\"page\">\r\n      <Header />\r\n      <div className=\"container mt-3\">\r\n        <div className=\"row white-row white-row-first\">\r\n          <div className=\"col\">\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                  Codes\r\n                </li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n        <div className=\"row white-row white-row-last\">\r\n          <div className=\"col\">\r\n            <Codes />\r\n          </div>\r\n        </div>\r\n        <FooterRow />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactJson from \"react-json-view\";\r\n\r\ninterface Props {\r\n    readonly src: object;\r\n    readonly strLength?: number;\r\n}\r\n\r\nexport function JsonView({ src, strLength }: Props): JSX.Element {\r\n  return (\r\n      <ReactJson\r\n        src={src}\r\n        name={false}\r\n        displayDataTypes={false}\r\n        displayObjectSize={false}\r\n        collapseStringsAfterLength={strLength ?? 24}\r\n        theme=\"twilight\" \r\n      />\r\n  );\r\n}\r\n","import { ExecuteResult } from \"@cosmjs/cosmwasm-stargate\";\r\nimport { calculateFee, Coin } from \"@cosmjs/stargate\";\r\nimport React from \"react\";\r\nimport JSONInput from \"react-json-editor-ajrm\";\r\nimport { JsonView } from \"../../components/JsonView\";\r\n\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { settings } from \"../../settings\";\r\nimport { jsonInputStyle } from \"../../ui-utils/jsonInput\";\r\nimport { Result } from \"./ContractPage\";\r\n\r\nconst executePlaceholder = {\r\n  transfer: { recipient: \"juno14vhcdsyf83ngsrrqc92kmw8q9xakqjm0ff2dpn\", amount: \"1\" },\r\n};\r\n\r\nconst coinsPlaceholder = [{ denom: settings.backend.denominations[0], amount: \"1\" }];\r\n\r\ninterface Props {\r\n  readonly contractAddress: string;\r\n}\r\n\r\nexport function ExecuteContract({ contractAddress }: Props): JSX.Element {\r\n  const { userAddress, signingClient } = React.useContext(ClientContext);\r\n\r\n  const [executing, setExecuting] = React.useState(false);\r\n  const [error, setError] = React.useState<string>();\r\n\r\n  const [memo, setMemo] = React.useState<string>();\r\n\r\n  const [msgObject, setMsgObject] = React.useState<Result<Record<string, any>>>();\r\n  const [coinsObject, setCoinsObject] = React.useState<Result<ReadonlyArray<Coin>>>();\r\n\r\n  const [executeResponse, setExecuteResponse] = React.useState<Result<ExecuteResult>>();\r\n\r\n  React.useEffect(() => {\r\n    setMsgObject({ result: executePlaceholder });\r\n    setCoinsObject({ result: coinsPlaceholder });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (msgObject?.error) {\r\n      setError(msgObject.error);\r\n      return;\r\n    }\r\n\r\n    if (executeResponse?.error) {\r\n      setError(executeResponse.error);\r\n      return;\r\n    }\r\n\r\n    if (coinsObject?.error) {\r\n      setError(coinsObject.error);\r\n      return;\r\n    }\r\n\r\n    setError(undefined);\r\n  }, [coinsObject, executeResponse, msgObject]);\r\n\r\n  async function executeContract(): Promise<void> {\r\n    if (!msgObject?.result || !userAddress || !signingClient) return;\r\n\r\n    setExecuting(true);\r\n\r\n    try {\r\n      const executeResponseResult: ExecuteResult = await signingClient.execute(\r\n        userAddress,\r\n        contractAddress,\r\n        msgObject.result,\r\n        calculateFee(400000, settings.backend.gasPrice),\r\n        memo,\r\n        coinsObject?.result,\r\n      );\r\n      setExecuteResponse({ result: executeResponseResult });\r\n    } catch (error) {\r\n      setExecuteResponse({ error: `Execute error: ${error.message}` });\r\n    }\r\n\r\n    setExecuting(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <span title=\"The contract query input\">Execute contract:</span>\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <JSONInput\r\n            width=\"100%\"\r\n            height=\"200px\"\r\n            placeholder={executePlaceholder}\r\n            confirmGood={false}\r\n            style={jsonInputStyle}\r\n            onChange={({ jsObject }: any) => setMsgObject({ result: jsObject })}\r\n          />\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <span title=\"The contract query input\">Coins to transfer:</span>\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <JSONInput\r\n            width=\"100%\"\r\n            height=\"120px\"\r\n            placeholder={coinsPlaceholder}\r\n            confirmGood={false}\r\n            style={jsonInputStyle}\r\n            onChange={({ jsObject }: any) => setCoinsObject({ result: jsObject })}\r\n          />\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <div className=\"form-group row flex-grow-1\">\r\n            <label className=\"col-sm-2 col-form-label\">Memo</label>\r\n            <div className=\"col-sm-10\">\r\n              <input\r\n                className=\"form-control\"\r\n                value={memo}\r\n                onChange={(event) => setMemo(event.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </li>\r\n        <div className=\"list-group-item btn-group\">\r\n          {executing ? (\r\n            <button className=\"btn btn-primary\" type=\"button\" disabled>\r\n              <span className=\"spinner-border spinner-border-sm mr-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n              Executing...\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={executeContract}\r\n              disabled={!msgObject?.result || !signingClient}\r\n            >\r\n              Execute contract\r\n            </button>\r\n          )}\r\n        </div>\r\n        {executeResponse?.result ? (\r\n          <li className=\"list-group-item\">\r\n            <span title=\"The contract formatted input\">Response:</span>\r\n            <JsonView src={executeResponse.result} />\r\n          </li>\r\n        ) : null}\r\n        {error ? (\r\n          <li className=\"list-group-item\">\r\n            <span className=\"text-danger\" title=\"The contract query error\">\r\n              {error}\r\n            </span>\r\n          </li>\r\n        ) : null}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import { MsgExecuteContract } from \"cosmjs-types/cosmwasm/wasm/v1/tx\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { TransactionLink } from \"../../components/TransactionLink\";\r\nimport { parseMsgContract } from \"../../ui-utils\";\r\n\r\nexport interface Execution {\r\n  readonly key: string;\r\n  readonly height: number;\r\n  readonly transactionId: string;\r\n  readonly msg: MsgExecuteContract;\r\n}\r\n\r\ninterface Props {\r\n  readonly executions: readonly Execution[];\r\n}\r\n\r\nexport function ExecutionsTable({ executions }: Props): JSX.Element {\r\n  return (\r\n    <table className=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">#</th>\r\n          <th scope=\"col\">Action</th>\r\n          <th scope=\"col\">Transaction ID</th>\r\n          <th scope=\"col\">Sender</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {executions.map((execution, index) => (\r\n          <tr key={execution.key}>\r\n            <th scope=\"row\">{index + 1}</th>\r\n            <td>{Object.keys(parseMsgContract(execution.msg.msg))[0]}</td>\r\n            <td>\r\n              <TransactionLink transactionId={execution.transactionId} />\r\n            </td>\r\n            <td>\r\n              <AccountLink address={execution.msg.sender} />\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n","import { ContractCodeHistoryEntry } from \"@cosmjs/cosmwasm-stargate\";\nimport React from \"react\";\n\nimport { CodeLink } from \"../../components/CodeLink\";\nimport { JsonView } from \"../../components/JsonView\";\n\ninterface Props {\n  readonly contractCodeHistory: readonly ContractCodeHistoryEntry[];\n}\n\nexport function HistoryInfo({ contractCodeHistory }: Props): JSX.Element {\n  return (\n    <div className=\"card mb-3\">\n      <ul className=\"list-group list-group-flush\">\n        <li className=\"list-group-item\">\n          <span title=\"The contract level message history\">History</span>\n        </li>\n        {contractCodeHistory.map((entry, index) => (\n          <li key={index} className=\"list-group-item\">\n            <span title=\"The message operation type\">\n              {entry.operation} - <CodeLink codeId={entry.codeId} />\n            </span>\n            <JsonView src={entry.msg} />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","import { Contract } from \"@cosmjs/cosmwasm-stargate\";\r\nimport React from \"react\";\r\n\r\nimport { AccountLink } from \"../../components/AccountLink\";\r\nimport { TransactionLink } from \"../../components/TransactionLink\";\r\nimport { ErrorState, isErrorState, isLoadingState, LoadingState } from \"../../ui-utils/states\";\r\n\r\ninterface Props {\r\n  readonly contract: Contract;\r\n  readonly instantiationTxHash: string | undefined | ErrorState | LoadingState;\r\n}\r\n\r\nexport function InitializationInfo({ contract, instantiationTxHash }: Props): JSX.Element {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item\">\r\n          Instantiation transaction:{\" \"}\r\n          {isLoadingState(instantiationTxHash) ? (\r\n            \"Loading …\"\r\n          ) : isErrorState(instantiationTxHash) ? (\r\n            \"Error\"\r\n          ) : instantiationTxHash === undefined ? (\r\n            \"–\"\r\n          ) : (\r\n            <TransactionLink transactionId={instantiationTxHash} />\r\n          )}\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          Creator: <AccountLink address={contract.creator} maxLength={null} />\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          Admin: {contract.admin ? <AccountLink address={contract.admin} maxLength={null} /> : \"–\"}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport JSONInput from \"react-json-editor-ajrm\";\r\nimport { JsonView } from \"../../components/JsonView\";\r\n\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { jsonInputStyle } from \"../../ui-utils/jsonInput\";\r\nimport { Result } from \"./ContractPage\";\r\n\r\n// eslint-disable-next-line @typescript-eslint/camelcase\r\nconst queryPlaceholder = { balance: { address: \"juno14vhcdsyf83ngsrrqc92kmw8q9xakqjm0ff2dpn\" } };\r\n\r\ninterface Props {\r\n  readonly contractAddress: string;\r\n}\r\n\r\nexport function QueryContract({ contractAddress }: Props): JSX.Element {\r\n  const { client } = React.useContext(ClientContext);\r\n\r\n  const [error, setError] = React.useState<string>();\r\n  const [queryObject, setQueryObject] = React.useState<Result<Record<string, any>>>();\r\n  const [queryResponse, setQueryResponse] = React.useState<Result<string>>();\r\n\r\n  React.useEffect(() => {\r\n    setQueryObject({ result: queryPlaceholder });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (queryObject?.error) {\r\n      setError(queryObject.error);\r\n      return;\r\n    }\r\n\r\n    if (queryResponse?.error) {\r\n      setError(queryResponse.error);\r\n      return;\r\n    }\r\n\r\n    setError(undefined);\r\n  }, [queryObject, queryResponse]);\r\n\r\n  async function runQuery(): Promise<void> {\r\n    if (!client || !queryObject?.result) return;\r\n\r\n    try {\r\n      const queryResponseResult: Record<string, any> = await client.queryContractSmart(\r\n        contractAddress,\r\n        queryObject.result,\r\n      );\r\n\r\n      const formattedResult = JSON.stringify(queryResponseResult, null, \"  \");\r\n      setQueryResponse({ result: formattedResult });\r\n    } catch (error) {\r\n      setQueryResponse({ error: `Query error: ${error.message}` });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <ul className=\"list-group list-group-flush\">\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <span title=\"The contract query input\">Query contract:</span>\r\n        </li>\r\n        <li className=\"list-group-item d-flex align-items-baseline\">\r\n          <JSONInput\r\n            width=\"100%\"\r\n            height=\"200px\"\r\n            placeholder={queryPlaceholder}\r\n            confirmGood={false}\r\n            style={jsonInputStyle}\r\n            onChange={({ jsObject }: any) => setQueryObject({ result: jsObject })}\r\n          />\r\n        </li>\r\n        <li className=\"list-group-item\">\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            style={{ cursor: client && queryObject?.result ? \"pointer\" : \"not-allowed\" }}\r\n            onClick={runQuery}\r\n            disabled={!queryObject?.result}\r\n          >\r\n            Run query\r\n          </button>\r\n        </li>\r\n        {queryResponse?.result ? (\r\n          <li className=\"list-group-item\">\r\n            <span title=\"The query response\">Response:</span>\r\n            <JsonView src={JSON.parse(queryResponse.result)} />\r\n          </li>\r\n        ) : null}\r\n        {error ? (\r\n          <li className=\"list-group-item\">\r\n            <span className=\"text-danger\" title=\"The contract query error\">\r\n              {error}\r\n            </span>\r\n          </li>\r\n        ) : null}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import \"./ContractPage.css\";\r\n\r\nimport { Contract, ContractCodeHistoryEntry } from \"@cosmjs/cosmwasm-stargate\";\r\nimport { Registry } from \"@cosmjs/proto-signing\";\r\nimport { Coin } from \"@cosmjs/stargate\";\r\nimport { IndexedTx } from \"@cosmjs/stargate\";\r\nimport { Coin as ICoin } from \"cosmjs-types/cosmos/base/v1beta1/coin\";\r\nimport { Tx } from \"cosmjs-types/cosmos/tx/v1beta1/tx\";\r\nimport { Any } from \"cosmjs-types/google/protobuf/any\";\r\nimport React from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport { CodeLink } from \"../../components/CodeLink\";\r\nimport { FooterRow } from \"../../components/FooterRow\";\r\nimport { Header } from \"../../components/Header\";\r\nimport { ClientContext } from \"../../contexts/ClientContext\";\r\nimport { settings } from \"../../settings\";\r\nimport { ellideMiddle, printableBalance } from \"../../ui-utils\";\r\nimport { StargateClient } from \"../../ui-utils/clients\";\r\nimport { makeTags } from \"../../ui-utils/sdkhelpers\";\r\nimport {\r\n  ErrorState,\r\n  errorState,\r\n  isErrorState,\r\n  isLoadingState,\r\n  LoadingState,\r\n  loadingState,\r\n} from \"../../ui-utils/states\";\r\nimport { ExecuteContract } from \"./ExecuteContract\";\r\nimport { Execution, ExecutionsTable } from \"./ExecutionsTable\";\r\nimport { HistoryInfo } from \"./HistoryInfo\";\r\nimport { InitializationInfo } from \"./InitializationInfo\";\r\nimport { QueryContract } from \"./QueryContract\";\r\n\r\ntype IAnyMsgExecuteContract = {\r\n  readonly typeUrl: \"/cosmwasm.wasm.v1.MsgExecuteContract\";\r\n  readonly value: Uint8Array;\r\n};\r\n\r\nexport type Result<T> = { readonly result?: T; readonly error?: string };\r\n\r\nfunction isStargateMsgExecuteContract(msg: Any): msg is IAnyMsgExecuteContract {\r\n  return msg.typeUrl === \"/cosmwasm.wasm.v1.MsgExecuteContract\" && !!msg.value;\r\n}\r\n\r\nconst getAndSetDetails = (\r\n  client: StargateClient,\r\n  contractAddress: string,\r\n  setDetails: (details: Contract | ErrorState | LoadingState) => void,\r\n): void => {\r\n  client\r\n    .getContract(contractAddress)\r\n    .then(setDetails)\r\n    .catch(() => setDetails(errorState));\r\n};\r\n\r\nconst getAndSetContractCodeHistory = (\r\n  client: StargateClient,\r\n  contractAddress: string,\r\n  setContractCodeHistory: (contractCodeHistory: readonly ContractCodeHistoryEntry[]) => void,\r\n): void => {\r\n  client\r\n    .getContractCodeHistory(contractAddress)\r\n    .then(setContractCodeHistory)\r\n    .catch((error) => {\r\n      console.error(error);\r\n    });\r\n};\r\n\r\nconst getAndSetInstantiationTxHash = (\r\n  client: StargateClient,\r\n  contractAddress: string,\r\n  setInstantiationTxHash: (instantiationTxHash: string | undefined | ErrorState | LoadingState) => void,\r\n): void => {\r\n  (client.searchTx({\r\n    tags: makeTags(\r\n      `message.module=wasm&instantiate._contract_address=${contractAddress}`,\r\n    ),\r\n  }) as Promise<ReadonlyArray<{ readonly hash: string }>>)\r\n    .then((results) => {\r\n      const first = results.find(() => true);\r\n      setInstantiationTxHash(first?.hash);\r\n    })\r\n    .catch(() => setInstantiationTxHash(errorState));\r\n};\r\n\r\nfunction getExecutionFromStargateMsgExecuteContract(typeRegistry: Registry, tx: IndexedTx) {\r\n  return (msg: IAnyMsgExecuteContract, i: number) => {\r\n    const decodedMsg = typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value });\r\n    return {\r\n      key: `${tx.hash}_${i}`,\r\n      height: tx.height,\r\n      transactionId: tx.hash,\r\n      msg: decodedMsg,\r\n    };\r\n  };\r\n}\r\n\r\nconst stargateEffect = (\r\n  client: StargateClient,\r\n  contractAddress: string,\r\n  typeRegistry: Registry,\r\n  setBalance: (balance: readonly ICoin[] | ErrorState | LoadingState) => void,\r\n  setContractCodeHistory: (contractCodeHistory: readonly ContractCodeHistoryEntry[]) => void,\r\n  setDetails: (details: Contract | ErrorState | LoadingState) => void,\r\n  setExecutions: (executions: readonly Execution[] | ErrorState | LoadingState) => void,\r\n  setInstantiationTxHash: (instantiationTxHash: string | undefined | ErrorState | LoadingState) => void,\r\n) => () => {\r\n  getAndSetContractCodeHistory(client, contractAddress, setContractCodeHistory);\r\n  getAndSetDetails(client, contractAddress, setDetails);\r\n  getAndSetInstantiationTxHash(client, contractAddress, setInstantiationTxHash);\r\n\r\n  Promise.all(settings.backend.denominations.map((denom) => client.getBalance(contractAddress, denom)))\r\n    .then((balances) => {\r\n      const filteredBalances = balances.filter((balance): balance is Coin => balance !== null);\r\n      setBalance(filteredBalances);\r\n    })\r\n    .catch(() => setBalance(errorState));\r\n\r\n  client\r\n    .searchTx({\r\n      tags: makeTags(`message.module=wasm&execute._contract_address=${contractAddress}`),\r\n    })\r\n    .then((txs) => {\r\n      const out = txs.reduce((executions: readonly Execution[], tx: IndexedTx): readonly Execution[] => {\r\n        const decodedTx = Tx.decode(tx.tx);\r\n        const txExecutions = (decodedTx?.body?.messages ?? [])\r\n          .filter(isStargateMsgExecuteContract)\r\n          .map(getExecutionFromStargateMsgExecuteContract(typeRegistry, tx));\r\n        return [...executions, ...txExecutions];\r\n      }, []);\r\n      setExecutions(out);\r\n    })\r\n    .catch(() => setExecutions(errorState));\r\n};\r\n\r\nexport function ContractPage(): JSX.Element {\r\n  const { client, typeRegistry } = React.useContext(ClientContext);\r\n  const { contractAddress: contractAddressParam } = useParams<{ readonly contractAddress: string }>();\r\n  const contractAddress = contractAddressParam || \"\";\r\n\r\n  const [details, setDetails] = React.useState<Contract | ErrorState | LoadingState>(loadingState);\r\n  const [balance, setBalance] = React.useState<readonly ICoin[] | ErrorState | LoadingState>(loadingState);\r\n  const [instantiationTxHash, setInstantiationTxHash] = React.useState<\r\n    string | undefined | ErrorState | LoadingState\r\n  >(loadingState);\r\n  const [contractCodeHistory, setContractCodeHistory] = React.useState<readonly ContractCodeHistoryEntry[]>(\r\n    [],\r\n  );\r\n  const [executions, setExecutions] = React.useState<readonly Execution[] | ErrorState | LoadingState>(\r\n    loadingState,\r\n  );\r\n\r\n  React.useEffect(\r\n    client !== null\r\n      ? stargateEffect(\r\n          client,\r\n          contractAddress,\r\n          typeRegistry,\r\n          setBalance,\r\n          setContractCodeHistory,\r\n          setDetails,\r\n          setExecutions,\r\n          setInstantiationTxHash,\r\n        )\r\n      : () => {},\r\n    [client, contractAddress, typeRegistry],\r\n  );\r\n\r\n  const pageTitle = <span title={contractAddress}>Contract {ellideMiddle(contractAddress, 15)}</span>;\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <Header />\r\n      <div className=\"container mt-3 contract-container\">\r\n        <div className=\"row white-row white-row-first\">\r\n          <div className=\"col\">\r\n            <nav aria-label=\"breadcrumb\">\r\n              <ol className=\"breadcrumb\">\r\n                <li className=\"breadcrumb-item\">\r\n                  <Link to=\"/codes\">Codes</Link>\r\n                </li>\r\n                <li className=\"breadcrumb-item\">\r\n                  {isLoadingState(details) ? (\r\n                    <span>Loading …</span>\r\n                  ) : isErrorState(details) ? (\r\n                    <span>Error</span>\r\n                  ) : (\r\n                    <CodeLink codeId={details.codeId} />\r\n                  )}\r\n                </li>\r\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\r\n                  {pageTitle}\r\n                </li>\r\n              </ol>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n        <div className=\"row white-row\">\r\n          <div className=\"col-12 col-md-6\">\r\n            <h1>{pageTitle}</h1>\r\n            <ul className=\"list-group list-group-horizontal mb-3\">\r\n              <li className=\"list-group-item\" title=\"Bank tokens owned by this contract\">\r\n                Balance:{\" \"}\r\n                {isLoadingState(balance)\r\n                  ? \"Loading …\"\r\n                  : isErrorState(balance)\r\n                  ? \"Error\"\r\n                  : printableBalance(balance)}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"col-12 col-md-6\">\r\n            {isLoadingState(details) ? (\r\n              <p>Loading …</p>\r\n            ) : isErrorState(details) ? (\r\n              <p>An Error occurred when loading contract</p>\r\n            ) : (\r\n              <>\r\n                <InitializationInfo contract={details} instantiationTxHash={instantiationTxHash} />\r\n                <HistoryInfo contractCodeHistory={contractCodeHistory} />\r\n                <QueryContract contractAddress={contractAddress} />\r\n                <ExecuteContract contractAddress={contractAddress} />\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"row white-row white-row-last\">\r\n          <div className=\"col\">\r\n            <h2>Executions</h2>\r\n            {isLoadingState(executions) ? (\r\n              <p>Loading …</p>\r\n            ) : isErrorState(executions) ? (\r\n              <p>An Error occurred when loading transactions</p>\r\n            ) : executions.length !== 0 ? (\r\n              <ExecutionsTable executions={executions} />\r\n            ) : (\r\n              <p>Contract was not yet executed</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <FooterRow />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { fromRfc3339 } from \"@cosmjs/encoding\";\nimport { IndexedTx } from \"@cosmjs/stargate\";\nimport React from \"react\";\n\nconst checkMark = \"✔\"; // U+2714 HEAVY CHECK MARK\nconst xMark = \"🗙\"; // U+1F5D9 CANCELLATION X\n\ninterface Props {\n  readonly tx: IndexedTx;\n  readonly timestamp: string;\n}\n\nexport function ExecutionInfo({ tx, timestamp }: Props): JSX.Element {\n  const time = timestamp ? fromRfc3339(timestamp) : null;\n  const success = tx.code === 0;\n\n  return (\n    <ul className=\"list-group list-group-horizontal mb-3\">\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Height:</span> {tx.height}\n      </li>\n      <li className=\"list-group-item\">\n        <span title={timestamp}>\n          <span className=\"font-weight-bold\">Time:</span> {time?.toLocaleString()}\n        </span>\n      </li>\n      <li className=\"list-group-item\">\n        <span title={`Execution succeeded: ${success ? \"yes\" : \"no\"}`}>\n          <span className=\"font-weight-bold\">Success:</span>{\" \"}\n          {success ? (\n            <span className=\"text-success\">{checkMark}</span>\n          ) : (\n            <span className=\"text-danger\" title={\"error code: \" + tx.code}>\n              {xMark}\n            </span>\n          )}\n        </span>\n      </li>\n    </ul>\n  );\n}\n","import { MsgExecuteContract as IMsgExecuteContract } from \"cosmjs-types/cosmwasm/wasm/v1/tx\";\nimport React, { Fragment } from \"react\";\n\nimport { AccountLink } from \"../../../components/AccountLink\";\nimport { ContractLink } from \"../../../components/ContractLink\";\nimport { JsonView } from \"../../../components/JsonView\";\nimport { parseMsgContract, printableBalance } from \"../../../ui-utils\";\n\ninterface Props {\n  readonly msg: IMsgExecuteContract;\n}\n\nexport function MsgExecuteContract({ msg }: Props): JSX.Element {\n  return (\n    <Fragment>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Contract:</span>{\" \"}\n        <ContractLink address={msg.contract ?? \"-\"} maxLength={null} />\n      </li>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Sender:</span>{\" \"}\n        <AccountLink address={msg.sender ?? \"-\"} maxLength={null} />\n      </li>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Sent funds:</span> {printableBalance(msg.funds)}\n      </li>\n      <li className=\"list-group-item\">\n        <span title=\"The contract level message\" className=\"font-weight-bold\">\n          Handle message\n        </span>\n        :\n        <JsonView src={parseMsgContract(msg.msg)} strLength={100} />\n      </li>\n    </Fragment>\n  );\n}\n","import { MsgInstantiateContract as IMsgInstantiateContract } from \"cosmjs-types/cosmwasm/wasm/v1/tx\";\nimport React, { Fragment } from \"react\";\n\nimport { AccountLink } from \"../../../components/AccountLink\";\nimport { CodeLink } from \"../../../components/CodeLink\";\nimport { JsonView } from \"../../../components/JsonView\";\nimport { parseMsgContract, printableBalance } from \"../../../ui-utils\";\n\ninterface Props {\n  readonly msg: IMsgInstantiateContract;\n}\n\nexport function MsgInstantiateContract({ msg }: Props): JSX.Element {\n  return (\n    <Fragment>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Sender:</span>{\" \"}\n        <AccountLink address={msg.sender || \"-\"} maxLength={null} />\n      </li>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Code ID:</span>{\" \"}\n        <CodeLink codeId={msg.codeId?.toNumber() ?? 0} text={msg.codeId?.toString() ?? \"-\"} />\n      </li>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Label:</span> {msg.label}\n      </li>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Init funds:</span> {printableBalance(msg.funds)}\n      </li>\n      <li className=\"list-group-item\">\n        <span title=\"The contract level message\" className=\"font-weight-bold\">\n          Init message\n        </span>\n        :\n        <JsonView src={parseMsgContract(msg.msg)} strLength={100} />\n      </li>\n    </Fragment>\n  );\n}\n","import { MsgSend as IMsgSend } from \"cosmjs-types/cosmos/bank/v1beta1/tx\";\nimport React, { Fragment } from \"react\";\n\nimport { AccountLink } from \"../../../components/AccountLink\";\nimport { printableBalance } from \"../../../ui-utils\";\n\ninterface Props {\n  readonly msg: IMsgSend;\n}\n\nexport function MsgSend({ msg }: Props): JSX.Element {\n  return (\n    <Fragment>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Sender:</span>{\" \"}\n        <AccountLink address={msg.fromAddress ?? \"-\"} maxLength={null} />\n      </li>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Recipient:</span>{\" \"}\n        <AccountLink address={msg.toAddress ?? \"-\"} maxLength={null} />\n      </li>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Amount:</span> {printableBalance(msg.amount ?? [])}\n      </li>\n    </Fragment>\n  );\n}\n","import { fromHex } from \"@cosmjs/encoding\";\r\n\r\nfunction arrayEqual(a: Uint8Array, b: Uint8Array): boolean {\r\n  if (a.length !== b.length) return false;\r\n  const difference = a.some((byte, index) => b[index] !== byte);\r\n  return !difference;\r\n}\r\n\r\nfunction arrayStartsWith(a: Uint8Array, prefix: Uint8Array): boolean {\r\n  return arrayEqual(a.slice(0, prefix.length), prefix);\r\n}\r\n\r\nconst magic = {\r\n  gzip: fromHex(\"1F8B\"),\r\n  wasm: fromHex(\"0061736d\"),\r\n};\r\n\r\nexport type SupportedTypes = \"gzip\" | \"wasm\";\r\n\r\nexport function getFileType(data: Uint8Array): SupportedTypes | undefined {\r\n  if (arrayStartsWith(data, magic.gzip)) return \"gzip\";\r\n  if (arrayStartsWith(data, magic.wasm)) return \"wasm\";\r\n  return undefined;\r\n}\r\n","import \"./MsgStoreCode.css\";\n\nimport { MsgStoreCode as IMsgStoreCode } from \"cosmjs-types/cosmwasm/wasm/v1/tx\";\nimport { toBase64 } from \"@cosmjs/encoding\";\nimport React, { Fragment } from \"react\";\n\nimport { AccountLink } from \"../../../components/AccountLink\";\nimport { ellideRight } from \"../../../ui-utils\";\nimport { getFileType } from \"./magic\";\n\ninterface Props {\n  readonly msg: IMsgStoreCode;\n}\n\nexport function MsgStoreCode({ msg }: Props): JSX.Element {\n  const [showAllCode, setShowAllCode] = React.useState<boolean>(false);\n\n  const dataInfo = React.useMemo(() => {\n    const data = msg.wasmByteCode ?? new Uint8Array();\n    return `${getFileType(data) || \"unknown\"}; ${data.length} bytes`;\n  }, [msg.wasmByteCode]);\n\n  return (\n    <Fragment>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Sender:</span>{\" \"}\n        <AccountLink address={msg.sender ?? \"-\"} maxLength={null} />\n      </li>\n      <li className=\"list-group-item\">\n        <span className=\"font-weight-bold\">Data:</span> {dataInfo}{\" \"}\n        {!showAllCode ? (\n          <Fragment>\n            <code>{ellideRight(toBase64(msg.wasmByteCode ?? new Uint8Array()), 300)}</code>{\" \"}\n            <button className=\"btn btn-sm btn-outline-primary\" onClick={() => setShowAllCode(true)}>\n              Show all\n            </button>\n          </Fragment>\n        ) : (\n          <code className=\"long-inline-code\">{msg.wasmByteCode}</code>\n        )}\n      </li>\n    </Fragment>\n  );\n}\n","import { Tx } from \"cosmjs-types/cosmos/tx/v1beta1/tx\";\nimport React from \"react\";\n\nimport { printableBalance } from \"../../ui-utils\";\n\ninterface Props {\n  readonly tx: Tx;\n}\n\nexport function TxInfo({ tx }: Props): JSX.Element {\n  return (\n    <div className=\"card mb-3\">\n      <ul className=\"list-group list-group-flush\">\n        <li className=\"list-group-item\">\n          <span className=\"font-weight-bold\">Memo:</span> {tx.body?.memo || \"–\"}\n        </li>\n        <li className=\"list-group-item\">\n          <span className=\"font-weight-bold\">Fee:</span> {printableBalance(tx.authInfo?.fee?.amount ?? [])}\n        </li>\n        <li className=\"list-group-item\">\n          <span className=\"font-weight-bold\">Gas:</span> {tx.authInfo?.fee?.gasLimit?.toString() ?? \"0\"}\n        </li>\n        <li className=\"list-group-item\">\n          <span className=\"font-weight-bold\">Signatures:</span> {tx.signatures?.length ?? 0}\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import \"./TxPage.css\";\n\nimport { Block, IndexedTx } from \"@cosmjs/stargate\";\nimport { Tx } from \"cosmjs-types/cosmos/tx/v1beta1/tx\";\nimport React from \"react\";\nimport { useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nimport { FooterRow } from \"../../components/FooterRow\";\nimport { Header } from \"../../components/Header\";\nimport { ClientContext } from \"../../contexts/ClientContext\";\nimport { ellideMiddle } from \"../../ui-utils\";\nimport { StargateClient } from \"../../ui-utils/clients\";\nimport {\n  ErrorState,\n  errorState,\n  isErrorState,\n  isLoadingState,\n  LoadingState,\n  loadingState,\n} from \"../../ui-utils/states\";\nimport {\n  isAnyMsgExecuteContract,\n  isAnyMsgInstantiateContract,\n  isAnyMsgSend,\n  isAnyMsgStoreCode,\n} from \"../../ui-utils/txs\";\nimport { ExecutionInfo } from \"./ExecutionInfo\";\nimport { MsgExecuteContract } from \"./msgs/MsgExecuteContract\";\nimport { MsgInstantiateContract } from \"./msgs/MsgInstantiateContract\";\nimport { MsgSend } from \"./msgs/MsgSend\";\nimport { MsgStoreCode } from \"./msgs/MsgStoreCode\";\nimport { TxInfo } from \"./TxInfo\";\n\nconst stargateEffect = (\n  client: StargateClient,\n  txId: string,\n  setDetails: (details: IndexedTx | undefined | ErrorState | LoadingState) => void,\n  setBlockInfo: (block: Block | undefined | ErrorState | LoadingState) => void,\n) => (): void => {\n  client\n    .getTx(txId)\n    .then((tx) => {\n      setDetails(tx || undefined);\n      if (!tx) return;\n      client\n        .getBlock(tx.height)\n        .then((b) => {\n          setBlockInfo(b);\n        })\n        .catch(() => setBlockInfo(errorState));\n    })\n    .catch(() => setDetails(errorState));\n};\n\nexport function TxPage(): JSX.Element {\n  const { client, typeRegistry } = React.useContext(ClientContext);\n  const { txId: txIdParam } = useParams<{ readonly txId: string }>();\n  const txId = txIdParam || \"\";\n\n  const pageTitle = <span title={txId}>Tx {ellideMiddle(txId, 20)}</span>;\n\n  const [details, setDetails] = React.useState<IndexedTx | undefined | ErrorState | LoadingState>(\n    loadingState,\n  );\n\n  const [block, setBlockInfo] = React.useState<Block | undefined | ErrorState | LoadingState>(loadingState);\n\n  React.useEffect(client !== null ? stargateEffect(client, txId, setDetails, setBlockInfo) : () => {}, [\n    client,\n    txId,\n    typeRegistry,\n  ]);\n\n  const formatMsg = (typeUrl?: string): string | undefined => {\n    if (!typeUrl) return typeUrl;\n\n    const idx = typeUrl.lastIndexOf(\".\");\n\n    return idx < 0 ? typeUrl : typeUrl.substring(idx + 1);\n  };\n\n  return (\n    <div className=\"page\">\n      <Header />\n      <div className=\"container mt-3\">\n        <div className=\"row white-row white-row-first\">\n          <div className=\"col\">\n            <nav aria-label=\"breadcrumb\">\n              <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\">\n                  <Link to=\"/\">Home</Link>\n                </li>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                  {pageTitle}\n                </li>\n              </ol>\n            </nav>\n          </div>\n        </div>\n\n        <div className=\"row white-row\">\n          <div className=\"col\">\n            <h1>{pageTitle}</h1>\n            {isLoadingState(details) ? (\n              <p>Loading...</p>\n            ) : isErrorState(details) ? (\n              <p>Error</p>\n            ) : details === undefined ? (\n              <p>Transaction not found</p>\n            ) : (\n              <ExecutionInfo\n                tx={details}\n                timestamp={isLoadingState(block) || isErrorState(block) ? \"\" : block?.header.time || \"\"}\n              />\n            )}\n          </div>\n          <div className=\"col\">\n            {isLoadingState(details) ? (\n              <p>Loading …</p>\n            ) : isErrorState(details) ? (\n              <p>Error</p>\n            ) : details === undefined ? (\n              <p>Transaction not found</p>\n            ) : (\n              <TxInfo tx={Tx.decode(details.tx)} />\n            )}\n          </div>\n        </div>\n\n        <div className=\"row white-row white-row-last\">\n          <div className=\"col\">\n            <h2>Messages</h2>\n            {isLoadingState(details) ? (\n              <p>Loading …</p>\n            ) : isErrorState(details) ? (\n              <p>Error</p>\n            ) : details === undefined ? (\n              <p>Transaction not found</p>\n            ) : (\n              Tx.decode(details.tx).body?.messages?.map((msg: any, index: number) => (\n                <div className=\"card mb-3\" key={`${details.hash}_${index}`}>\n                  <div className=\"card-header\">\n                    <h4>\n                      <span className=\"badge badge-pill badge-info\">\n                        {formatMsg(msg.typeUrl) || <em>unset</em>}\n                      </span>\n                    </h4>\n                  </div>\n                  <ul className=\"list-group list-group-flush\">\n                    {isAnyMsgSend(msg) ? (\n                      <MsgSend msg={typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value })} />\n                    ) : isAnyMsgStoreCode(msg) ? (\n                      <MsgStoreCode msg={typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value })} />\n                    ) : isAnyMsgInstantiateContract(msg) ? (\n                      <MsgInstantiateContract\n                        msg={typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value })}\n                      />\n                    ) : isAnyMsgExecuteContract(msg) ? (\n                      <MsgExecuteContract\n                        msg={typeRegistry.decode({ typeUrl: msg.typeUrl, value: msg.value })}\n                      />\n                    ) : (\n                      <li className=\"list-group-item\">\n                        <em>This message type cannot be displayed</em>\n                      </li>\n                    )}\n                  </ul>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n\n        <FooterRow />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport { BrowserRouter, HashRouter } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  readonly type: \"browser-router\" | \"hash-router\";\r\n  readonly children: React.ReactNode;\r\n}\r\n\r\nexport function FlexibleRouter({ type, children }: Props): JSX.Element {\r\n  switch (type) {\r\n    case \"browser-router\":\r\n      return <BrowserRouter basename={process.env.PUBLIC_URL}>{children}</BrowserRouter>;\r\n    case \"hash-router\":\r\n      return <HashRouter>{children}</HashRouter>;\r\n  }\r\n}\r\n","import {\r\n  MsgExecuteContract,\r\n  MsgInstantiateContract,\r\n  MsgStoreCode,\r\n} from \"cosmjs-types/cosmwasm/wasm/v1/tx\";\r\nimport { Registry } from \"@cosmjs/proto-signing\";\r\nimport React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router\";\r\n\r\nimport { ClientContext, ClientContextValue } from \"../contexts/ClientContext\";\r\nimport { AccountPage } from \"../pages/account/AccountPage\";\r\nimport { CodePage } from \"../pages/code/CodePage\";\r\nimport { NewCodePage } from \"../pages/code/NewCodePage\";\r\nimport { CodesPage } from \"../pages/codes/CodesPage\";\r\nimport { ContractPage } from \"../pages/contract/ContractPage\";\r\nimport { TxPage } from \"../pages/tx/TxPage\";\r\nimport { settings } from \"../settings\";\r\nimport { StargateClient, StargateSigningClient } from \"../ui-utils/clients\";\r\nimport {\r\n  msgExecuteContractTypeUrl,\r\n  msgInstantiateContractTypeUrl,\r\n  msgStoreCodeTypeUrl,\r\n} from \"../ui-utils/txs\";\r\nimport { FlexibleRouter } from \"./FlexibleRouter\";\r\n\r\nconst { nodeUrls } = settings.backend;\r\nconst typeRegistry = new Registry([\r\n  [msgStoreCodeTypeUrl, MsgStoreCode],\r\n  [msgInstantiateContractTypeUrl, MsgInstantiateContract],\r\n  [msgExecuteContractTypeUrl, MsgExecuteContract],\r\n]);\r\n\r\nexport function App(): JSX.Element {\r\n  const [nodeUrl, setNodeUrl] = React.useState(nodeUrls[0]);\r\n  const [userAddress, setUserAddress] = React.useState<string>();\r\n  const [signingClient, setSigningClient] = React.useState<StargateSigningClient>();\r\n  const [contextValue, setContextValue] = React.useState<ClientContextValue>({\r\n    nodeUrl: nodeUrl,\r\n    client: null,\r\n    typeRegistry: typeRegistry,\r\n    resetClient: setNodeUrl,\r\n    userAddress: userAddress,\r\n    setUserAddress: setUserAddress,\r\n    signingClient: signingClient,\r\n    setSigningClient: setSigningClient,\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    (async function updateContextValue() {\r\n      const client = await StargateClient.connect(nodeUrl);\r\n      setContextValue((prevContextValue) => ({ ...prevContextValue, nodeUrl: nodeUrl, client: client }));\r\n    })();\r\n  }, [nodeUrl]);\r\n\r\n  React.useEffect(() => {\r\n    setContextValue((prevContextValue) => ({ ...prevContextValue, signingClient: signingClient }));\r\n  }, [signingClient]);\r\n\r\n  React.useEffect(() => {\r\n    setContextValue((prevContextValue) => ({ ...prevContextValue, userAddress: userAddress }));\r\n  }, [userAddress]);\r\n\r\n  return (\r\n    <ClientContext.Provider value={contextValue}>\r\n      <FlexibleRouter type={settings.deployment.routerType}>\r\n        <Switch>\r\n          <Route exact path=\"/codes\" component={CodesPage} />\r\n          <Route path=\"/codes/new\" component={NewCodePage} />\r\n          <Route path=\"/codes/:codeId\" component={CodePage} />\r\n          <Route path=\"/contracts/:contractAddress\" component={ContractPage} />\r\n          <Route path=\"/transactions/:txId\" component={TxPage} />\r\n          <Route path=\"/accounts/:address\" component={AccountPage} />\r\n          <Route component={() => <Redirect to=\"/codes\" />} />\r\n        </Switch>\r\n      </FlexibleRouter>\r\n    </ClientContext.Provider>\r\n  );\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.bundle\";\r\nimport \"jquery/dist/jquery.slim\";\r\nimport \"./index.css\";\r\nimport \"./dark.css\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { App } from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}